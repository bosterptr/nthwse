<html lang="en"><head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="Description" content="A single-page Rust resource for people who like high information density.">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2">

    <title>Rust Language Cheat Sheet</title>

    
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEVklEQVR4AWJwL/AZUDzqgFEHAKgrxwB3ni2I1s+2bdu2bdu2bdu2bds21rY9THLf3EzWu+9vfThJptNddcb/PQGagTRhG1CIf4tb0VXejArm3xtQfDM2J/nLBNRNaMXFXKpshYewAT2kTXAVN+FyxAaM57GILcgvrEUdlvpTBJwnIYVWUsp6KJKJ6/GOC4V1+GnYCJLWxkdchRfqGggRK7CajxQflT8kIC5HRmkVXDlYCw1RV4MYYbmFJbExLNMRFsLJsBhfhUW4+XsE9OLFmCLNxyBhMYJMkWULYhMxLw6zdaS5IFoIEmfjjTwLfTnnNwnwodcWudMiDozDLAsz4jAtBlN1RA3S1oiTcfpXC8gz0MMwF7OEGXDSfscLFabEYGIcJlgYb2EcyKCNS2PxwDAFs5QxqPHLAlOwXLdOODCKMQkwMj7icE1iFIhGg9SRaJKoAF/p4aNQSRmJuXJigcxQkDyEAzmcty0MBBkt/wmDLQxk9DFxAALUfuil9kHhBAX4tpFG4gUHR4Uyg2MHmqblp5cLutC66kkopC9IGsDhSchrTVfa3DwPuXXTx4S+sZF6g6i/JtMHaxI9BWbDQXqg2b5fbMQeoC8rBtAnO1cTkqehvTX00Hut0tJ3G0dT3ZYdaGpRTbKPPpeRuuso/Lsb/EM7o2CCAnxo1J74yIvZVuwZGw4j7XtYuUxUtGwFAkCLSulj+6qCchUqRizVKx+I+Ch0ttBJR+kAMnSE0dAJ16R2KBlLQO6GclzOYb7tQeGdLSFdYmAZ+9QE1DSTzrulw8lh32LyaJmEeuUCddD41DiJuUxsHw1vB7UGebUAkSajdoCn1B4DowSkjpjH4WonfDtfAQcuV4KXW3NY8eTwdogKfN8IdL0a6H7tpOSzZ7bJ1TOUPAIlo/WeJfSufhIz1k2i1/i10tfJ7RF4pzq2HS+Lp6HtcI9zYwnwg0ez2s6HKKgNOh8ujf1aURNjBzxh84c14fSwDhTb+iDXvkVNX66cJhuPCPppF0AOrsEUJBnpy/Ft5Ncxg3kveS6vYRm5A0StsPOxMkkmnquEnlrHd618f4K3IUtofHlQA+V4AV8w2p68D2sL16AWkHw3jydHe0+Tlateztg4BpC7dyhFGIkcnt5R/bpmNXo3hxzQGu6c5d8KbTYWRJ4jZTBUE2nLYxGdkSXBu4Df5yxBHbHuYEmU2l0UWXlyRDusDmqJEO+xtcnmxmXTD8dgipRwcA0lJx/ZfCoCT6wKcG2anFggsBXmRBZFZmnZp5ROaPCL7wK+JpSOaBhzjPfEsR6CucB2YityPLnNaG3va7T6bOXnfnEfOUxqQXyKrOrD07oxesXNVDqjpsaYX/Uy4tMR81aJ5H0t1PpUB1c/N0zl6nB0o+QbrJDjT9vvH9vlW/6lMnZ9qYv/rfSsJYM8NjPf+TDIgQo7qrQJLy2bIP789eczD5+9u3H22n1LUNSNtorJxaMOGHUAAL89B017ixdoAAAAAElFTkSuQmCC">

    
    <style>@font-face{font-family:Open Sans;src:url(/fonts/OpenSans-Light.woff2) format("woff2");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:Open Sans;src:url(/fonts/OpenSans-LightItalic.woff2) format("woff2");font-weight:300;font-style:italic;font-display:swap}@font-face{font-family:Open Sans;src:url(/fonts/OpenSans-Regular.woff2) format("woff2");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Open Sans;src:url(/fonts/OpenSans-Italic.woff2) format("woff2");font-weight:400;font-style:italic;font-display:swap}@font-face{font-family:Open Sans;src:url(/fonts/OpenSans-Semibold.woff2) format("woff2");font-weight:600;font-style:normal;font-display:swap}@font-face{font-family:Open Sans;src:url(/fonts/OpenSans-SemiboldItalic.woff2) format("woff2");font-weight:600;font-style:italic;font-display:swap}@font-face{font-family:Open Sans;src:url(/fonts/OpenSans-Bold.woff2) format("woff2");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:Open Sans;src:url(/fonts/OpenSans-BoldItalic.woff2) format("woff2");font-weight:700;font-style:italic;font-display:swap}@font-face{font-family:Open Sans;src:url(/fonts/OpenSans-ExtraBold.woff2) format("woff2");font-weight:800;font-style:normal;font-display:swap}@font-face{font-family:Open Sans;src:url(/fonts/OpenSans-ExtraBoldItalic.woff2) format("woff2");font-weight:800;font-style:italic;font-display:swap}@font-face{font-family:Fira Code;src:url(fonts/FiraCode-Light.woff2) format("woff2");font-weight:300;font-style:normal}@font-face{font-family:Fira Code;src:url(fonts/FiraCode-Regular.woff2) format("woff2");font-weight:400;font-style:normal}@font-face{font-family:Fira Code;src:url(fonts/FiraCode-Medium.woff2) format("woff2");font-weight:500;font-style:normal}@font-face{font-family:Fira Code;src:url(fonts/FiraCode-SemiBold.woff2) format("woff2");font-weight:600;font-style:normal}@font-face{font-family:Fira Code;src:url(fonts/FiraCode-Bold.woff2) format("woff2");font-weight:700;font-style:normal}@font-face{font-family:Fira Code VF;src:url(fonts/FiraCode-VF.woff2) format("woff2-variations");font-weight:300 700;font-style:normal}/*! normalize.css v7.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}[hidden],template{display:none}*{box-sizing:border-box}body,html{height:100%}body{text-rendering:optimizeLegibility;font-family:Open Sans,sans-serif}@media (prefers-color-scheme:light){body{background-color:#fff;color:#000}}@media (prefers-color-scheme:dark){body{background-color:#222;color:#fff}}body.day-mode{background-color:#fff;color:#000}body.night-mode{background-color:#222;color:#fff}h1,h2{margin-bottom:10px}h1,h2,h3{margin-top:30px}h3{margin-bottom:5px}footer{text-align:center;color:grey;font-size:9px}footer:after{content:" ";display:block;width:1px;height:20px}strike{color:grey}.day-mode a.tooltip{color:#222;cursor:help}.day-mode a.tooltip:hover{text-decoration:none}.night-mode a.tooltip{color:#fff;cursor:help}.night-mode a.tooltip:hover{text-decoration:none}.page{padding-bottom:20px}.page__content{font-size:1.6rem;word-wrap:break-word;line-height:1.5;position:relative;left:0;max-width:800px;margin:0 auto;padding:0 15px 40px}.page__content a{color:#4183c4;text-decoration:none}.page__content a:hover{text-decoration:underline}.page__content hr{height:1px;padding:0;margin:.4em 0 2.4em;overflow:hidden;background-color:#e7e7e7;border:none}.page__content pre{padding:1rem;font-size:14px}.page__content pre span{white-space:pre-wrap}.page__content blockquote{margin:0 0 .85em;padding:10px 10px 1px;border-radius:3px}.page__content code{display:inline-block;vertical-align:middle;padding:.1em .3em;border-radius:3px;color:#6e6b5e;background:#f1f1f1;font-family:Fira Code,Consolas,Ubuntu Mono,Menlo,DejaVu Sans Mono,monospace;font-size:80%}.page__content iframe{border:0}.page__content table{width:100%;margin:0 auto;border-collapse:collapse;border-color:#ccc}.page__content table thead th{font-weight:700;border-bottom:1px solid #bababa}.page__content table thead td{font-weight:700;border:none}.page__content table td{padding:3px 5px 3px 20px}.page__content p{margin-top:0;margin-bottom:.85em}.day-mode .page__content{color:#333}.day-mode .page__content blockquote{background-color:#e1f3ff;border:1px solid #d1e3ef}.day-mode .page__content table thead{background:#ccc}.day-mode .page__content table tbody tr:nth-child(2n){background:#f7f7f7}.night-mode .page__content{color:#ccc}.night-mode .page__content blockquote{background-color:#00243b;border:1px solid #00344b}.night-mode .page__content table thead{background:#333}.night-mode .page__content table tbody tr:nth-child(2n){background:#2e2e2e}@media screen and (max-width:600px){.page{width:100%;left:0}.hide_on_small{display:none}}@media screen and (max-width:650px){html{font-size:7px}.cheats>table tr td:first-child{width:150px}}@media screen and (min-width:650px) and (max-width:1050px){html{font-size:9px}fixed-2-column>table tr td:first-child,fixed-3-column>table tr td:first-child{width:235px}fixed-2-column.extra-wide>table tr td:first-child,fixed-3-column.extra-wide>table tr td:first-child{width:300px}fixed-3-column>table tr td:nth-child(2){text-align:left;width:40px;padding-left:5px}}@media screen and (min-width:1050px){html{font-size:9px}.book-content{transition:0s;transform-origin:top left;-moz-transform:scale(1.05)}fixed-2-column>table tr td:first-child,fixed-3-column>table tr td:first-child{width:235px}fixed-2-column.extra-wide>table tr td:first-child,fixed-3-column.extra-wide>table tr td:first-child{width:300px}fixed-3-column>table tr td:nth-child(2){text-align:left;width:40px;padding-left:5px}}@media print{html{font-size:7px}.target,feedback,noprint{display:none}}tabs{font-size:0;margin:5px 0;display:block}tabs>tab{display:inline}tabs>tab>panel{display:inline-block;overflow:hidden;position:relative;height:0;width:0}tabs>tab>panel>div{box-sizing:border-box;display:block;padding:20px;border-radius:0 5px 5px 5px;float:left;font-size:10pt;margin-top:-1px;width:100%}tabs>tab>label{display:inline-block;font-size:1.3rem;left:1px;margin-left:-1px;padding:10px;position:relative;vertical-align:bottom;cursor:pointer;border-radius:8px 3px 0 0}tabs>tab>label .token.class-name,tabs>tab>label .token.keyword{color:#000}tabs>tab>input[type=radio]{clip:rect(0 0 0 0);height:1px;opacity:0;position:fixed;width:1px;z-index:-1}tabs>tab>input[type=radio]:checked+label{border-bottom-width:0;padding-bottom:11px;z-index:1}tabs>tab>input[type=radio]:checked~panel{display:inline}.day-mode tabs>tab>panel>div{background-color:#fff;border:1px solid #ccc}.day-mode tabs>tab>label{background:#eee;border:1px solid #ccc}.day-mode tabs>tab>label code span.token.class-name{color:inherit}.day-mode tabs>tab>input[type=radio]:checked+label{background:#fff}.night-mode tabs>tab>panel>div{background-color:#222;border:1px solid #333}.night-mode tabs>tab>label{background:#333;border:1px solid #333}.night-mode tabs>tab>label code span.token.class-name{color:inherit}.night-mode tabs>tab>input[type=radio]:checked+label{background:#666}tabs:after{clear:both;content:"";display:table}zoo-xxx{font-size:0;margin:5px 0;display:block;background-color:red}zoo-xxx>tab{display:inline}zoo-xxx>tab>panel{display:inline;display:inline-block;overflow:hidden;position:relative;height:0;width:0}zoo-xxx>tab>panel>div{box-sizing:border-box;display:block;padding:20px;float:left;font-size:10pt;margin-top:-1px;width:100%}zoo-xxx>tab>label{display:inline-block;font-size:1.3rem;left:1px;margin-left:-1px;padding:10px;position:relative;vertical-align:bottom;cursor:pointer}zoo-xxx>tab>label .token.class-name,zoo-xxx>tab>label .token.keyword{color:#000}zoo-xxx>tab>input[type=radio]{clip:rect(0 0 0 0);height:1px;opacity:0;position:fixed;width:1px;z-index:-1}zoo-xxx>tab>input[type=radio]:checked+label{border-bottom-width:0;padding-bottom:11px;z-index:1}zoo-xxx>tab>input[type=radio]:checked~panel{display:inline}zoo-xxx:after{clear:both;content:"";display:table}datum{box-sizing:border-box;display:inline-block;border-collapse:collapse;vertical-align:top;margin-bottom:25px;font-size:14px}datum name{font-size:15px;text-align:left;display:block}datum .nogrow{position:absolute}datum .hidden{visibility:hidden}datum visual{text-align:center;background-color:#f2f2f2;border:1px solid #a9a9a9;border-radius:5px;display:block;padding:5px}datum visual payload{display:inline-block;width:80px;background-color:#f5f5f5;border:1px dashed #000;border-radius:5px}datum visual.zst{opacity:.4;border-style:dashed}datum visual.unsafe{position:relative;top:-3px;border:3px solid red}datum note{font-size:9px;display:inline-block}datum byte{width:15px}datum byte,datum word{display:inline-block;border:1px dashed #000;border-radius:5px;height:28px}datum word{width:30px}datum zoom{display:block;border:1px solid grey;position:relative;text-align:center;width:106%;left:-3%;top:-2px;z-index:-100;font-size:12px}datum description{display:block;word-wrap:break-word;font-size:10px}datum bitgroup{border:1px solid #000;padding:2px}datum bitgroup bit{margin:0;padding:0}datum memory-entry{display:inline-block;vertical-align:top;position:relative;width:80px}datum memory-entry memory{display:inline-block;padding:5px 5px 14px;font-size:120%;text-align:center;position:relative;border-radius:5px;border:1px dashed grey;width:80%;left:5%;top:5px;z-index:100;margin-bottom:10px;opacity:.4}datum memory-entry memory.extrapadding{padding-bottom:15px}datum memory-entry memory.heap{background-color:#c6dbe7}datum memory-entry memory.oversimplified{background-color:#fcc397}datum memory-entry memory.anymem{background-color:#fdecdc}datum memory-entry memory.static,datum memory-entry memory.static-vtable{background-color:#deb887}datum memory-entry memory.anymem:after{content:"(any mem)";display:block;position:absolute;bottom:0;right:2px;font-size:9px}datum memory-entry memory.heap:after{content:"(heap)";display:block;position:absolute;bottom:0;right:2px;font-size:9px}datum memory-entry memory.static:after{content:"(static)";display:block;position:absolute;bottom:0;right:2px;font-size:9px}datum memory-entry memory.static-vtable:after{content:"(static vtable)";display:block;position:absolute;bottom:0;right:2px;font-size:9px}datum memory-entry memory-link{display:block;position:absolute;top:-8px;height:7px;font-size:10px;border-width:1px;border-color:grey;z-index:-50}datum memory-entry.double{width:180px}datum memory-entry.quad{width:300px;left:0}datum framed{display:inline-block;border:1px solid #000;padding-bottom:1px}datum pad{background-color:#90ee90;border-radius:0;border:1px dotted #000;padding-bottom:2px}datum andor{display:block;text-align:center;font-size:10px}datum capacity{position:absolute;width:100%;left:-4px;bottom:-4px}datum ptr{background-color:#87cefa}datum ptr,datum sized{display:inline-block;width:80px}datum sized{background-color:#0ff}datum .bool{background-color:#eee}datum .bytes{background-color:#90ee90}datum .char{background-color:#f4a460}datum .sized{background-color:#0ff}datum .atomic{background-color:#3cb371}datum .float{background-color:orchid}datum .ptr{background-color:#87cefa}datum .any{background-color:salmon}datum .uninit{background-color:#d1c4e9}datum .cell{background-color:gold}datum .platformdefined{background-color:#d3d3d3;border:2px dashed #00008b}datum .celled{box-sizing:border-box;border:4px solid gold}datum .atomicx{box-sizing:border-box;border:4px solid #3cb371}datum .enum{background-color:#fafad2}datum .t{background-color:salmon;width:30px}datum .unsized:before{content:" ←";padding-left:2px}datum .unsized:after{content:"→ ";padding-right:2px}datum code{display:table-column;background-color:inherit!important;text-align:center!important;vertical-align:middle;text-shadow:0 0!important}datum sub{font-size:50%}datum tr.vtable{border:1px solid #f2f2f2;background:inherit!important}datum.spaced{margin-right:30px}datum.doublespaced{margin-right:60px}.day-mode datum bitgroup code span.token.class-name,.day-mode datum framed .token.class-name,.day-mode datum framed .token.keyword,.day-mode datum pad code span.token.class-name{color:#000}.day-mode datum zoom{background-color:#fff8dc}.night-mode datum framed .token.class-name,.night-mode datum framed .token.keyword{color:#000}.night-mode datum .platformdefined,.night-mode datum .platformdefined code,.night-mode datum .platformdefined code span,.night-mode datum byte,.night-mode datum byte code,.night-mode datum byte code span,.night-mode datum framed,.night-mode datum framed code,.night-mode datum framed code span,.night-mode datum memory,.night-mode datum memory code,.night-mode datum memory code span,.night-mode datum pad,.night-mode datum pad code,.night-mode datum pad code span,.night-mode datum payload,.night-mode datum payload code,.night-mode datum payload code span,.night-mode datum ptr,.night-mode datum ptr code,.night-mode datum ptr code span,.night-mode datum sized,.night-mode datum sized code,.night-mode datum sized code span{color:#333!important}.night-mode datum note{color:#000}.night-mode datum zoom{background-color:#222}spacer{display:inline-block;width:15px;height:10px}lifetime-section explanation{display:none}lifetime-example{display:inline-block;width:99%;margin-bottom:0}lifetime-example section-header{width:100%;display:none;font-weight:700;margin-bottom:10px;background-color:#f1ebf1}lifetime-example section-header.arrowed{margin-bottom:15px}lifetime-example memory-row{width:100%;position:relative}lifetime-example memory-row memory-backdrop{width:100%;overflow-x:hidden;white-space:nowrap;display:block;user-select:none}lifetime-example memory-row memory-backdrop.past{height:5px;opacity:.25}lifetime-example memory-row arrows{position:relative;display:block;height:0;top:-8px}lifetime-example memory-row arrows arrow{border-bottom-width:1px;border-spacing:inherit;border-left:1px solid #87cefa;border-bottom-color:#87cefa;border-right:1px solid #87cefa;border-top:1px solid #87cefa;box-sizing:border-box;display:inline-block;position:relative}lifetime-example memory-row arrows arrow tip{position:absolute;line-height:7px;font-size:7px;color:#87cefa;top:2px;left:-4px}lifetime-example memory-row values{position:relative;display:block;height:0;top:-30px}lifetime-example memory-row values denied{display:inline-block;position:relative}lifetime-example memory-row values failed{display:inline-block;position:relative;top:-30px}lifetime-example memory-row values failed value{transform:rotate(-20deg)}lifetime-example memory-row values drop{display:inline-block;position:relative;top:10px}lifetime-example memory-row values drop droparrow{display:inline-block;position:relative;bottom:-12px;font-size:10px}lifetime-example memory-row values value{display:inline-block;position:relative;text-align:center;font-size:.8em;font-family:Fira Code,Consolas,Ubuntu Mono,Menlo,DejaVu Sans Mono,monospace;line-height:22px;border-width:1px;border-style:solid;border-spacing:inherit;box-sizing:border-box;border-radius:5px}lifetime-example memory-row values value.unsafe{border-color:red;border-width:2px}lifetime-example memory-row labels{position:relative;display:block;height:0}lifetime-example memory-row labels label{display:inline-block;position:relative;text-align:center}lifetime-example memory-row subtext{position:relative;display:block;width:100%;text-align:right;top:0;font-weight:700}lifetime-example memory-row subtext:after{margin-left:.3em;content:" ↕️";font-size:.9em}lifetime-example memory-row .byte2{width:30px;height:22px}lifetime-example memory-row .byte4{width:66px;height:22px}lifetime-example memory-row:hover{cursor:pointer}lifetime-example byte{display:inline-block;border:1px solid #aaa;border-radius:5px;width:15px;height:28px}lifetime-example byte.borrowed{border-color:#000;border-width:2px}lifetime-example byte.maybe-borrowed{border:2px dotted #000}lifetime-example .hide{visibility:hidden}lifetime-example meta-lane{width:100%;overflow-x:hidden;white-space:nowrap;display:block;position:absolute;height:100px}lifetime-example empty{display:inline-block;width:15px;height:28px;position:relative}lifetime-example label2{display:inline-block;box-sizing:border-box;border-radius:5px;font-family:Fira Code,Consolas,Ubuntu Mono,Menlo,DejaVu Sans Mono,monospace;width:30px;height:22px;top:30px;left:2px;position:absolute;text-align:center}.day-mode lifetime-example subtext{color:#640475}.day-mode lifetime-example byte{background-color:#fdecdc}.day-mode lifetime-example .t{background-color:salmon}.day-mode lifetime-example .ptr{background-color:#87cefa}.day-mode lifetime-example .atomic{background-color:#3cb371}.day-mode lifetime-example value{color:#000}.night-mode lifetime-example subtext{color:#a943bb}.night-mode lifetime-example byte{background-color:#47423c}.night-mode lifetime-example .t{background-color:salmon}.night-mode lifetime-example .ptr{background-color:#87cefa}.night-mode lifetime-example .atomic{background-color:#3cb371}.night-mode lifetime-example value{color:#000}lifetime-example.not-first{margin-top:40px}.ticktock.ticked .tick{visibility:inherit}.ticktock.ticked .tick.nodisplay{display:inherit}.ticktock.tocked .tick{visibility:hidden}.ticktock.tocked .tick.nodisplay{display:none}.ticktock.ticked .tock{visibility:hidden}.ticktock.ticked .tock.nodisplay{display:none}.ticktock.tocked .tock{visibility:inherit}.ticktock.tocked .tock.nodisplay{display:inherit}zoo{width:100%;height:575px;display:inline-block;border:1px solid #ccc;border-radius:20px;position:relative}zoo entry{position:absolute}zoo region{border:1px solid #ccc;border-radius:20px;width:98%;left:1%;top:5px;position:relative;display:block;margin-bottom:8px}zoo region-label{margin-right:10px;margin-bottom:10px;color:grey;font-size:9pt;text-align:right;display:block;vertical-align:top}zoo group{position:absolute;height:100%}mini-zoo,zoo group{display:inline-block}mini-zoo{position:relative;margin-top:10px}mini-zoo entry{vertical-align:top}mini-zoo person{display:inline-block}mini-zoo subtitle{font-size:80%}.zoo entry{display:inline-block;width:80px;font-size:10pt}.zoo entry type{display:block;border:1px solid #000;border-radius:4px;padding:0;margin-bottom:1px;text-align:center}.zoo entry type code,.zoo entry type code span{color:#000!important}.zoo entry impl{font-size:80%;display:block;background-color:#32cd32;border:1px solid #000;border-radius:4px;padding:2px;color:#fff}.zoo entry impl code span{color:#000!important}.zoo entry function{font-size:90%;display:block;background-color:#e6e6fa;border:1px solid #000;border-radius:4px;padding:2px;color:#fff}.zoo entry function code,.zoo entry function code span{color:#000!important}.zoo entry trait-impl{font-size:85%;display:block;background-color:#32cd32;position:relative;border:1px solid #000;border-radius:4px;padding:2px;z-index:2;color:#000}.zoo entry trait-impl code span{color:#000!important}.zoo entry machine{padding:0;margin-bottom:1px;background-color:orange;text-align:center;color:#000!important}.zoo entry machine,.zoo entry macro{display:block;border:1px solid #000;border-radius:4px}.zoo entry macro{font-size:85%;background-color:linen;position:relative;padding:2px;z-index:2}.zoo entry macro code span{color:#000!important}.zoo entry associated-type{font-size:70%;width:75%;left:20%;z-index:1;position:relative;top:-3px;display:block;background-color:grey;border:1px solid #000;border-radius:4px;padding:2px}.zoo entry associated-type code span{color:#f0f0f0!important}.zoo entry.wide{width:115px}.zoo note{font-size:7pt;color:#aaa;line-height:1.3;display:inline-block;margin-top:2px}.zoo narrow-entry{display:inline-block;font-size:10pt}.zoo label{display:inline-block;position:absolute;color:grey;font-size:9pt;font-weight:700}.zoo .grayed{opacity:.5}.zoo machine.bad{background-color:coral}.zoo machine.good{background-color:#8fbc8f}.zoo .primitive{background-color:#add8e6}.zoo .composed{background-color:salmon}.zoo .zero{background-color:#d3d3d3;border-style:dashed;width:20px}.zoo .generic{background-color:#cfa5e9}.zoo .dotted{border:1px dashed grey;box-sizing:border-box}#trait-authoring-examples entry{width:110px}generics-section{display:block;margin-bottom:15px}generics-section header{font-size:14px;font-weight:bolder;cursor:pointer}generics-section description{display:none}mini-table{display:block;text-align:center;width:100%;margin-top:10px}mini-table table{margin:auto;width:75%!important;border:1px dashed grey}mini-table subtitle{font-size:80%}threading-section{display:inline-block;width:99%;margin-bottom:0}threading-section thread-row{width:100%;position:relative}threading-section thread-row thread-backdrop{width:100%;overflow-x:hidden;white-space:nowrap;display:block;user-select:none;color:red;height:20px}threading-section thread-row values{position:relative;display:block;height:0;top:-26px}threading-section thread-row values value{display:inline-block;position:relative;color:#000!important;background-color:grey;text-align:center;font-size:.8em;font-family:Fira Code,Consolas,Ubuntu Mono,Menlo,DejaVu Sans Mono,monospace;line-height:22px;padding-left:10px;padding-right:10px;border-width:1px;border-style:solid;border-spacing:inherit;box-sizing:border-box;border-radius:5px}threading-section thread-row values value thread-link{position:absolute;top:25px;left:40%;font-size:30px;opacity:.4;color:grey;z-index:-10}threading-section thread-row values .both{background-color:#b4e9a9}threading-section thread-row values .one{background-color:#fbf7bd}threading-section thread-row values .none{background-color:#f37142}threading-section thread-row values .disabled{border-style:dashed;background-color:#d3d3d3;color:#d3d3d3!important}threading-section thread-row subtext{position:relative;display:block;width:100%;text-align:right;top:-25px;font-weight:700}threading-section thread-link-row{position:relative}threading-section thread-link-row thread-link{display:block;opacity:.5;color:grey;top:-20px;height:15px;font-size:25px;z-index:-50}.day-mode zoo{background-color:#f4f4f4}.day-mode zoo region.your-crate{background-color:#f4faf4;border-color:green}.day-mode generics-section header{background-color:#f1e9e0}.day-mode mini-table table tr.subheader{background-color:#eee}.day-mode threading-section thread-row subtext blank-background{color:grey;background-color:#fff}.night-mode zoo{background-color:#3a3131}.night-mode zoo region.your-crate{background-color:#343a34;border-color:green}.night-mode generics-section header{background-color:#52452f}.night-mode mini-table table tr.subheader{background-color:#584c4c}.night-mode threading-section thread-row subtext blank-background{color:grey;background-color:#222}.day-mode code[class*=language-],.day-mode pre[class*=language-]{color:#000;background:none;font-family:Fira Code,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-variant-ligatures:none;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}.day-mode code[class*=language-]::-moz-selection,.day-mode code[class*=language-] ::-moz-selection,.day-mode pre[class*=language-]::-moz-selection,.day-mode pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}.day-mode code[class*=language-]::selection,.day-mode code[class*=language-] ::selection,.day-mode pre[class*=language-]::selection,.day-mode pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{.day-mode code[class*=language-],.day-mode pre[class*=language-]{text-shadow:none}}.day-mode pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;background:#fafafa}.day-mode blockquote code[class*=language-],.day-mode pre[class*=language-]{background:#fafafa;border-radius:2px;border:1px solid #f1f1f1}.day-mode :not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.day-mode .token.cdata,.day-mode .token.comment,.day-mode .token.doctype,.day-mode .token.prolog{color:#708090}.day-mode .token.punctuation{color:#999}.day-mode .token.namespace{opacity:.7}.day-mode .token.boolean,.day-mode .token.constant,.day-mode .token.deleted,.day-mode .token.number,.day-mode .token.property,.day-mode .token.symbol,.day-mode .token.tag{color:#905}.day-mode .token.attr-name,.day-mode .token.builtin,.day-mode .token.char,.day-mode .token.inserted,.day-mode .token.selector,.day-mode .token.string{color:#690}.day-mode .language-css .token.string,.day-mode .style .token.string,.day-mode .token.entity,.day-mode .token.operator,.day-mode .token.url{color:#9a6e3a}.day-mode .token.atrule,.day-mode .token.attr-value,.day-mode .token.keyword{color:#07a}.day-mode .token.class-name,.day-mode .token.function{color:#ac3b51}.day-mode .token.important,.day-mode .token.regex,.day-mode .token.variable{color:#e90}.day-mode .token.bold,.day-mode .token.important{font-weight:700}.day-mode .token.italic{font-style:italic}.day-mode .token.entity{cursor:help}.night-mode code[class*=language-],.night-mode pre[class*=language-]{color:#fff;background:none;font-family:Fira Code,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-variant-ligatures:none;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}.night-mode code[class*=language-]::-moz-selection,.night-mode code[class*=language-] ::-moz-selection,.night-mode pre[class*=language-]::-moz-selection,.night-mode pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}.night-mode code[class*=language-]::selection,.night-mode code[class*=language-] ::selection,.night-mode pre[class*=language-]::selection,.night-mode pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{.night-mode code[class*=language-],.night-mode pre[class*=language-]{text-shadow:none}}.night-mode pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;background:#313131}.night-mode blockquote code[class*=language-],.night-mode pre[class*=language-]{background:#313131;border-radius:2px;border:1px solid #414141}.night-mode :not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.night-mode .token.cdata,.night-mode .token.comment,.night-mode .token.doctype,.night-mode .token.prolog{color:#998066}.night-mode .token.namespace,.night-mode .token.punctuation{opacity:.7}.night-mode .token.boolean,.night-mode .token.constant,.night-mode .token.number,.night-mode .token.property,.night-mode .token.symbol,.night-mode .token.tag{color:#ceecf8}.night-mode .token.attr-name,.night-mode .token.builtin,.night-mode .token.char,.night-mode .token.inserted,.night-mode .token.selector,.night-mode .token.string{color:#bde052}.night-mode .language-css .token.string,.night-mode .style .token.string,.night-mode .token.entity,.night-mode .token.operator,.night-mode .token.url,.night-mode .token.variable{color:#f5b83d}.night-mode .token.atrule,.night-mode .token.attr-value,.night-mode .token.keyword{color:#e09fd9}.night-mode .token.important,.night-mode .token.regex{color:#e90}.night-mode .token.bold,.night-mode .token.important{font-weight:700}.night-mode .token.italic{font-style:italic}.night-mode .token.entity{cursor:help}.night-mode .token.deleted{color:red}img#logo{position:relative;top:40px}pagetitle{font-weight:700;font-size:40px}pagetitle,subtitle{text-align:center;display:block}subtitle{margin-bottom:40px}subtitle span{cursor:pointer}page-controls{display:block;font-size:9px}page-controls a{margin-right:15px}flip{display:inline-block;transform:scaleY(-1);background-color:#ff0}symbol-legend{display:block}symbol-legend.long{display:none}legend-symbol{display:inline-block;width:50px}toc{display:flex;margin-top:40px;display:block}toc column{vertical-align:top;width:49%;display:inline-block}twocolumn{display:flex;display:block}twocolumn column{vertical-align:top;width:49%;display:inline-block}feedback{position:relative;display:none}feedback,feedback button-row{float:right}feedback button-row feedback-button{text-align:right;position:relative;opacity:.4}feedback button-row feedback-feedback{visibility:hidden;position:absolute;top:-.5em;left:.7em;opacity:.5;transition:top .5s,opacity .3s}feedback button-row feedback-button:hover{opacity:1}feedback feedback-form{position:absolute;display:none;z-index:1000;width:200px;height:120px;top:1.5em;right:0;background-color:#fafafa;border-radius:3px;border:1px solid #aaa;padding:5px 2px}feedback feedback-form hint{font-size:8px;padding-left:3px;color:grey;display:block;opacity:.5;margin-bottom:5px}feedback feedback-form textarea{height:70px;width:100%;margin:0;border-color:#eee;border-style:solid;font-size:13px;font-family:Open Sans,sans-serif;resize:none}feedback feedback-form textarea:focus::placeholder{color:transparent}feedback feedback-form controls{display:block;height:15px;width:100%;padding-right:2px;font-size:12px;text-align:right}feedback feedback-form controls result{margin-right:40px;position:relative;float:left;left:0;opacity:1;transition:left .5s,opacity .5s}feedback-button:hover{cursor:pointer}sup.target{top:-10px;left:3px;font-size:40%;display:none}h4#numeric-types-ref sup.target,h4#textual-types-ref sup.target{font-size:60%;top:-6px}h1:hover feedback,h1:hover sup.target,h2:hover feedback,h2:hover sup.target,h3:hover feedback,h3:hover sup.target,h4:hover feedback,h4:hover sup.target{display:inline}footnotes{margin-top:5px;font-size:80%;display:block}.night-mode .color-header th{color:#000}.color-header.std-green th{background-color:#d4f7f4}.color-header.red th{background-color:#eb9ca2;border-color:#c87e8c}.color-header.redred th{background-color:#ff888e;border-color:#c87e8c}.color-header.blue th{background-color:#80bad1;border-color:#6292b4}.color-header.green th{background-color:#a4cea4;border-color:#8cb482}.color-header.orange th{background-color:#f1ce9f;border-color:#dcb478}.color-header.magenta th{background-color:#d8a2e2}.color-header.lemongrass th{background-color:#d3e79d}.color-header.undefined-color-3 th{background-color:#9de7cb;border-color:#78d2b4}.color-header.lobstercrabs th{background-color:#e7a493}.color-header.lavender th{background-color:#afa1d4;border-color:#908cbe}.color-header.tooling th{background-color:#a1d4c5;border-color:#86ca97}.color-header.cross-compilation th{background-color:#a8d483}.color-header.one-liners th{background-color:#c2d483;border-color:#aeca6f}.color-header.sized th{background-color:#abccdf;border-color:#97c5c8}.color-header.error-handling th{background-color:#e2a4a4;border-color:#c88c82}.color-header.abstract-machine th{background-color:#abd6cb;border-color:#97c8b4}.color-header.std-traits th{background-color:#e9ebcc}.color-header.std-traits th:first-child{width:130px}.color-header.language-sugar th{background-color:#d2f0d6;border-color:#c8bee6}.color-header.api-stability th{background-color:#ddd5b3;border-color:#c8be96}.color-header.number th{background-color:#eff8ab;border-color:#d2dc96}.color-header.special_example th{background-color:#f1e9e0;border-color:#ddd5cc}.color-header.quality_crate th{background-color:#f1e9e0}.color-header.variance th{background-color:#d697b0;border-color:#c88696}.color-header.iterators th{background-color:#d49390}.color-header.sendsync th{background-color:#d4f7f4}.stringconversion th{background-color:#afa1d4;border-color:#968fc8}.stringconversion th:first-child{width:180px}table.sendsync th{background-color:#d4f7f4;border-bottom:1px solid #c8dcdc!important}table.sendsync th .token.class-name,table.sendsync th .token.keyword{color:#000}table.sendsync td:first-child{background-color:#d4f7f4;text-align:left;font-weight:700;color:#000}table.sendsync td:first-child .token.class-name,table.sendsync td:first-child .token.keyword{color:#000}table.sendsync th:first-child{width:130px}table.sendsync th:nth-child(2),table.sendsync th:nth-child(3){width:300px}.day-mode table.sendsync,.day-mode table.sendsync th{color:#000}.night-mode table.sendsync{color:#fff}.night-mode table.sendsync th{color:#000}.day-mode blockquote.legend .expander{opacity:.5}.day-mode span.good{color:green}.day-mode span.bad{color:#8b0000}.day-mode span.cargo-prefix{border:1px solid #c8c8c8}.day-mode sup{font-size:65%}.day-mode sup.entry{color:#006e00}.day-mode sup.mid{color:#8f5d01}.day-mode sup.expert{color:#b80000}.night-mode blockquote.legend .expander{opacity:1}.night-mode span.good{color:#90ee90}.night-mode span.bad{color:red}.night-mode span.cargo-prefix{border:1px solid #c8c8c8}.night-mode sup{font-size:65%}.night-mode sup.entry{color:#08ce08}.night-mode sup.mid{color:#bd8215}.night-mode sup.expert{color:#cf1b1b}magic{display:block;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAB3bSURBVHhe7Z3LjyTHccZ3ergP2SDgI6ldUgtob3ukIVuGLNuACfIiWPpLTYEXGz5IMAX5JR55WxHLfZC8GoSt3dVsj/LLzpyt7umuysiIyMpH/IDRPLScrsqML+LLyKyeG4ZhGIZhGIZhGIZhGIZhGIahxln4bHTG40e/vwxfeu4/+KHNdYfYpDYAxHjr1i3/9dnZ/pTtqXTC7fDvIy9fvQpf7XMYAJeXu9/4yv17E3392ARVxJVQnUgxMVGch2IsRRT91bU4cZuw68ImYiUg1tu3b+9V0LWESmUqbPDy5UsT9UrYoBfi22fPL7fbra+uoBWxpgJR485gwa1Kl8MGWZGvnzy9xJoVVbY3wS7hqzTW0+7+v//ePYszJWxghfnm6bPdctF9jCbaU8TqDN41MYtigykAROu7t67amGjnietnVOfvv/+exR8TG8BMTLR8os3GMsMqcx42aES+DhbZRCsLGl/AhEzDBisBvz97+7b/2oSrS1wv29ZUGjZAM3zz7PklLF48BWWUBSI2ez2PDcwRsP1ja9t6iI0v2466jg3IhHjYAiekjPqI9toq8htsIBxeuM4qW8VtAzS8bI28Y/gBgF1uteJe7akegEn1W1yHuGWB/+Q+pv9vq4kLIh59L3nYm8d2EG6+5gbVlUDDfnOcLAQukKpA8dnhmMj8NzEBVN4LGN1WD3fTvkHlqK3qerEGoeJzTQ8ETB9zjMKudfxGq8hD3WxNdjlWUdDi0ztXonZgq6cWJwMhj9StHuJGa7HLECrWpj3ubdZ0tHSk/ePub3DtqhvXsa8G6ppOLfeaYh6hydXtza15GCM2VhBAo291QMxIoFg5rzUXPa+Nu7ypNapuDBRgj8kdZ81npXtdG/d2Q2dOvNuS4o3V1k4H0fBrZve5pJCDiDfuy12m7YBugu75V08uN5tNsUaVCVeG0kud3uati5soaZkRACPuN2qDOSy5HdVLg6v5G8AWUYnsDeFebrc37v7gfROuIiWtNbb1Wq/ELV/8mRPvVnuizSqvQ9xX1nZWQcTNrotx4c3x8OHDW75ZpSheCNfbLCdcE295MOawuBCYX7YoAcuOQoCYCj9qiuYCs4TFQsDYw+N1od3naNVpNXWxEK9mk8NPIo7g3btr4q0QzD8+a8ZAa+viZi5UMwNHi2ZVtw2018ctibiJi9QWrxPuW+7L17ufGI1w7tauF1pLqVaWUdU3sbTF++HHH+GXm3jb47UT2E00GjVAYoiWvWaqzjDaa17g173us3Wa2wKJvcQJrtrtdLUXpiVeTMixLvYIj571wrHYiH0MDUHXHBtVWmicrtISL7LpsZmATcfrtmCbRgVV92Rix/FWN7dRyJL42EDFr5DqBIwJks6imNQUK4TXRXBAyOFHRiXEXsipxI7tPwARY66lhYzXrjG5V2ULTmZXBphIN6nn7svt7ic7INK5RHHqvzOKs/iI6AmLu3Hx9Fo6nmpbE1dTgT/44IOb0uktiBCDTRYhxO1E/rrGrDsKwTIvP999dFF0YwuhaXSpHzx4oLMtkkEtmUT8wYSlTLlUgafUlnVHgDI/k0R9lGi/pQivh+K3enKvogKXFi/AhGMiUojr4poyb6/AiUmKF8BeS1ZiXBtiNny7KqtXFcpkpUCpltTXRrDgF1s11gHzgc+UOdGc7yVqcGarVmCsLyUHFFmWMqDUkce1ohrbulieKC5qPPj3ok6E4rpS8M5s5e2l1bIHRCDZIczNhrlZGclilDcP1wTvZXa22ZCFC1Ls8zFqiT0J1qrAZ5Jpi1p5p+SOetyTtGqcD8buzp07WeL1EKrvFMQKRCdFuIpxBOz39YQyICaCc8yNqz5vo3YirqIh2AjY2+VXwePbR0lIihix7GJglaZW8awhaV+krIvENVmDKw2/ZnTC4ybwXPt8iGQ8wgmWPjNdtGqIZN0AJlBKLBIeGAGJezNLfRrfb3BLDyn3JYFoJXb3VrqpVdb2MSzPFKnsG5FMmVHE3zx7bkIOYP88t1l4Csk5g4jF9omFYjyVYq+GzCRxGkZavBHpAANrWKraCP0B0aqrFgNSMVpw3otU4GiduISJwwMGTbCGpaoJOBEIVzoxainDie4cMcYF815qKVVEwFIDHn6PTrcvc0tiiTiZI62NsbeLpC3V7ziEcniDyFYqVktNtrqApRpXnL3eFCT3BQ/B/eMj2smeQaJi7e0moDlXUk0t3H+J+VYTBPDWWWAipbaLlpBaA80RlgE9vgtmkT/tqrX+PUQqdrXXw7oVWMDqaFfePQp0EENmvujJUiPxuXsq8neZywSC4Llp5ZhSE7DPYAUmVJJXLlmUACLuxVLHeZaoVikgoRdDoABhXDSTtZqAJfIOrHPJbZj7D36o8qZop4iT26KQ79+/f8eLt5BwAeYGcxS+VQexJxEPmpOrImCJxhUGrph1nlD6BTFO2llaGgj3t5/95g8lxevR6z6fRMJKY5y0krS4gB8/+j3bOvuF/67RU5yiFm1CK5baN/pC0imNZvd5DheL7P1hjNe3CqfzxAV8S2DdG94idJUubY6NlgosTDIqcY3VOFp9qb4GNVHi35e0zweI7A9vt/JHGEQFjEnmZua1rPMeRKuGf40AkxAyKrGvxq7ShR+tDuY1Wn0umF8/TtTubOEzxodI7A8j+UmfkRcVsMQJmfgG3WtCnih332h4uEneSFlwTHaw1GseHd1I9DMiEC/saE6CLrVDoI30KTIxtfi1EXftu5vg9RXsoN7P9NolxiISk0lpV4Kqi1CTWuvujQ/RqVUVF0IuU+p+5Cows3LWNEke6v1MMqvffpC21LtqXAS8lrRlns4tdZLrCYrQlWa6Acn7ERGwxNq3pkkCZMt2IPhgqUXftiU2ksKPxJHe20WgI+AP3QP1BqSWJWIwixWSo9RaWEQ3XMtYXfUNUIMZYj1mdTE+mHQpYZx6HQ6S14j5xMWdGovcpUlNxMZeLlL3xa7AEvu+1c1OQOq6UI3dZN3EpEngLTUEJ4R3UG4OpcT74ccf3T6ZYBhLk57AWEM74dts2ALm7vtiwqWriRTUjvjCbFwg40qJGIKDQ4D4wo/IREvOqSRT4lr3iy++kLlJx2YjulEiBmKWO5fcwgfYo8NVXpXKDbxz7y5pkpBVlyqjF7Fb00ms6/B6udU4WkCpqpti63OWJJiD8G11cC+MXX4dLAFLrANqrb5XUC1cQtX2lvr998T3jPGHwcKP5jiXrLqYQ5eUsvZ2l5AIcE1wz0gyuSCZcRwUYAmYPcANrG/IB0vS7+kybjdJgGD49JNfvpqrxhCu+7iQqLogWmb3pcrbHNWd2XdwD2ZwFZA9Ruzq6wIXARy+rRpq5zTFTk7B70eiEK6Ke69PvYc58Pvxyyn3SI2XY/dQK9SlwSHUeJmSXYG5maeGI5PJUJtZxLFBIuPasSnRmkG0/jMCTEq8SLzuWnMDLpWGomPVtXC+hWYIsIm17xRqssocmyhiCSGj2kG0/jOjOkTideW6JmqQSp8Z1gTzhpjOhnGvWQJGVmcFRUOTA/xalTBBGJu5tegcCAb3IbZnLAGu5R/n9nYX8PadEC94vVaWVxHOxfomZGa8ZAmYkx1bnBxAvWDmEsHvGUtZag7RMrP2dqlj0ViCB+wqnBkveRaaEZyssG4IiRD0QeEEtEY1xmtyLPMeREE21R9ZGbKAufa5vdy6g5phMUYYq/BtNhCQq4Bie8YpeJcktLfr44XQQMN9SrzuKjCcQ2685DexMgiBMUx6FUxWuz1jQgLJxVfd3RyJ7O2Sl1sNV18/R4xEm7M0JQuYFZQNrm04SIcihAWBaQjZ/16N6jfA+ncKy/5n/LckAXPtcw1NGQ4QEEU82MKRfidCCOwv/+pHfy4pYswLLlK6uYh77737fAinAufYaJKAOZGIyVnxXQVXQ/qdCLHd8Lv/+u//4yTSQ+JescSafQrVEvYQHNw/DkCdAJKAOQPcjXJXXNPFhpCkeKdAyGE/UuSiRbNBSxRcBiQLGHYIE5xLyS6qJtRmEsTGfXA7PIQg9gTRHP5QwdNn29yDBRH/Rg+E68WYNtt9PoCzVKTGS7KAOVYQN9STfabeCGUb5ZDYd9Cqusfwr8c4HQTIb/TQUYOTa6MpY5duoRlWsJ+p2UG9n8z7f6tU1T1FqMapzxnvs+JSowZYd0MYO9IaOJe+pobejabaomCZ/1iy6p4C1/DpP3/yitLg8vaZUEUwliOdD5AkScDU9cyUntY2HFJtEcTrLayAeDH2HCsXgRjhBFJFvKZrqAXEfO7YY7xTE36SgCnZ9BodrW2mUDPS0r+/d+/e96J4JYhVzbsFoQZiFPHi2phoh3vN7pz7Sk2CSQJmSbCztU2EmmExIaeyKgTxP//xn/8vUnWdWNE0nFrS2DmXqMa4j7g2Dj/ag+rWcE3m0PJRXwP38kepJDiSVc8g3mhRuUAMP/vFz28dE0SoxmLPGUOkQcR7MUR1az0rt8SxSlUBI1i6Pn3F6LQi+N3HlrU8mYDKC5F+/vnnfww/Ooboc8ZBxK+nlpo4Im4Iqf9FO1DfljiHRQFzGli9QxUCxhHjKbm3iwDx4iWcIY72XyK4/H3AUjsR58SKVDKpldzqFWMlfHuSRQFLWLte8Rv2xCWClF0GEKCrqJucBwCCpd5IVQjcF9VNYOy6dmgOjr9I2blYttAcH9+xPbqCOD5S4p00qjiDfInfASFJCJl6b0O88wZDAymjsyhgzhD3bo9A6SYdxhSCk+zcooL/6Md//WdS1TgVqntpEY4GUqS/GASxS0ol2LsBUuybwxfalBjT3PmmYvGxTMoY6VroQdAeIW9x3UeJgJfcM55lhOVVAWYFzOpADzRBmlYQQsLebk6jKhckCveh+t7UIyyvuKR0omcFzGq4DFS5uY+PnSJW3YW9XS12f89YITlBvL13n/dgFLOlTvSsgDldwnFmRx4kAwR5yap7ClyDb5wJJigzzwQWxL+8BjaW8M/tSjWxQtXd1HQ+GNeCaixlezFWGLOHDx/qd/4qQHO7TE3AmuvCWkDH1gWi2HO7k6pbZZHyJ7jcvEpUY4zZv/3Lv76kPGfcKhwtLIl/VsBmdU7jj0O69YmEeL1FdZNcU9U9BRLM3/ztT74nJWL0WaZnqQ0aswGjuX/VKgg2ZEWx45CwzBWsdXOQ3DOOVarVsVgiW0sL8aFiobucAUcMWCnxgiGOEybg3Yz7GMFSS2JNrDSunts1JigkH2+pdyK22ExAZZB6SqEQrvsQe273ECs314HVdCJ+bdXYwWli5dKLKfTrlmDttPDB6pJE+LYZctd0qeB3oxr3ImItTcwLOPMESQcjLrq3u4itg08SLXXre8ZampgXcG5gNXwO2lvm0u/JPNC58RwwF83vGSvN8UkBcx5kaLWzKrm3SwGv2VJw+nEqPUbu9Zq21JmawH3PPdBgTSwHqi4CQ2p7CPvg1IMOPb+5m+RZ6mipmxWyMCoCbgmIFxVQQrwIVH8cEodYqIJsyLVQlYPkFM9S44NLrMYQcvjRsKgIuJFQFN3bRYV59717b8XjkDg9Q6k6CMoWutF+zAjJDmMQTxJhbNzHOeds8BQ/ZjsRD1uITt445xnX2u1gsMzi78nsvny9+8kOaiJrondAvcbrsbCFoCUqMQgirn7POHdmocG5Z6dnM1d2OFUciMjYUpYZg+sts9D53erLLyAm51NJCdX4xYsXImvjaKlrFrHWhc0KOPdFa5Qv/satF6+AcEGsutEyHwP/HyVAcW01ByGujeJaMEZz43P3B++LPmcc18UPHjzQO3lTGSprh9oiEJP66Se/fCUlXlLVJVasatXrIC+NEp1YTHRS1fizX/36RQv9BAl0LHRF+KrhJlVCvBAugmyuqlyDuJyoesz569+ToBJLPWeMSgynMIKIVSx0DTz/6glOVInu7UK4oVmVDP49JShxvd8+e17d0OOaKEkQ90ztDTx+/PgFdbzmgIiRwGtelnDpsgIj8965c0ek6mId5y0zUbgctttt+KoeqPaZM1hexG7cpapxXBuHH7XFwrirrIEhnJS/rKaA+N6uqyJXe7vZKK0dS1J6MlG9nZA3ELIEiMkg4vPdT8rBen/1BVQEvAYQrpsgub3dN1V3b283BwQjpZqsmACPQg1A3Cs76e24xNhJdamDiC9astRLZwPUBCwlpBSQWfF6ElkOwaJhmam/rOT4LZHyZy73oDqOBZAMpPeMS1pqzlwuLV2arsDY7/PiFRAuiPuWQtVjD2q0VFUiKlgCSO8ZI2ZQiUsIWfNk4qyAOS+sPSoY+H//1a9fSIqX2jWl4BszhODDfdVgo719JlSQydJDBSRXvIZENUYljkIOP6oPjoVmZTvFrIMBx8BLiPfKMiuKNxeydVUAQV4bSBA//Ye/vyMhYuAtteaeMcORLP396VkBs/5ol4KNkt7bhXC1LPMxyC+imASTIc5jkYF0PHr06CXV1cwBl4HCUFM1xr0t/RG4ZtbAGFixvV03MFG84UdFiPYvFQTVmjZ6xe5zMl7EA+8ZLwo4dzYw8ULB5/d2paouJtpN+nnpQMtF6r5zoHZP1xrQmveMqUmQyqKAOQrkBp/i3u56R50q6OimQp17zW5rAn7PWFTET56y94xZsZswnovRARHlXsREMGSQAaUyFyYVG+JSk8vl7bffDl+l8d1334WvytLKdR5y8+bNG2ebjchyC3CWW5w4TtHP4kXBAlAnMgLBULu79+/fv/Pbz37zB03bYRhUICYEMlXIHAEjIS41sZIuJvciqBUYr4PPJl6jVqjVOFc7qa+j2oXGhac+Gie5t2sYWvgudeKeMfURzCmpC+8kASenmyMsPRoH4SJLrdltNQwK6AkhZpcaXKymXuJ/u+o+MAYAwrWqa7QGYnapGjPkm0ySgBW6t+dWdY0eQDUOlVj0OWOsgVNQX4yD6YIcvwefreoaPYGGLWxv3HXh6IXS/E220Jx1cFwLxJsy8Rq94eM6rI3xPUcvqetfkCxg1oL87IyVkQyjFRDjsNRcvaSSLOBUT34Mq7rGSPjGLOMI5dIjhFNIlT52jQ3D0IF6+IkkYO7C3DgOdUy1xrKW62geZ59zKzD1pFfRCpxytnNEqImROskpUB9aoVaKUeA8OwCoc0s6yIFfzMm6nHVBz1ShAupji5wmTcdw3gYJ2qImZpKAASfYbMpPQBRPDeO42ZBDZwwKJ7aiswCbGPfJjDe8e+8u7a12hMcxx8K/4645fGsEOM/Og5wBJQuYa6Nt1k/QkCW1DHwC6jJkQo59BsV9kE3+CRpag1oSrocsAXMmEFYtHP42JqCjS3loBFZNYhzxOyj2ObdS9A51HK+RmZCzBMy10abeE1CbWStUYVOuPNBS7h8WyLfQjOCxKnwC6pgy1lwR6iSskTRqB7G81gnFbAEv/dnDJSwMruPfFpXgbJAIU9/e5Ri+a0q0z7mVome4scwZ0GwBc200N/h6hTqZrETaUOOsVrhrX+6punwL7eBkDkOGkpLiuq4e4Y4/d0nCnhHu5rXGud7WKXE2mrpuy3mP797hrn39koQZ+6wKDGwtrAAxK+eMITnzW/W9BruhJ7AkYQuY+4Z3qDTWkT6gxNrU1r8s/NqX6Tydo2Hrj/0LWH9DOGBbE/v4Qx2EMUUgpb6BPqC+4bh1n6/Djdjw37MDny1gwJ1ZBKA95MBj6Q30p1ATpil3H+r22zGkGoIiAuZuKRlHoLoSQkBYpmTCFB+WnXgCLXzLQkTAgHs1yGi2L/yGnEMdKX9QnfoHp3ENtkvwBu6+L5DcjhMTsEQVljqg3wvUaU5pqpDfMcL6E1dwt42AdEIUEzCQyCzW0HoDdSyS/rWiNe8diciUPgwjKmD4erTHOVgVfoO0jfb2mVCB8dr2xnU7JKyz5No3Iipg4OzBTa6IA6J/LGoU5izyWk/MdMC5REUR0sUe4gJ2XHBtMALt6ydPL8K3Q0NO13NjT7RvVnp3IBbZ1deJV+MtlTUETLZ+xzArvYPaHMS4HbPR1n3Og3vWH2guRVQEDCSuNlTi4UVM5ZhVpgahVV8Z8QLNsVQTsMS2kse6oCKdY2oWtN0Ah0DsaTsZNQFLAds3upWmNj8Ou9FU+ww0Gi4t4asvccyOopwIVQUM3y8RCN5KDyxiND/IIp5YP+rhDVSNkf+Gld8yErDOfu2r/BCIegX2Vpr5yCEYvRJTb3zv3xOrwLDKdSDGJLbbNBtXU4pYaKnTJyEMq7f9GlD+6DOINtrbZ2oFFki4jSJ29qBUEiyWbKU6erCSo25vUN9qJwqRMu6lKkeNUMf3FCXHsFg1k9gbBiOvh6kR4Z0P0f0MqVyHVNMKSbNkAixrR4U6chjoEUVMtbY5AzSifZZqWq1B8YQrZaXBiHZayuYdw8aTh6++yl3nQ4o3hKSsNICdHq4zrbivOJqlERUv1r2FxQtW6ei6NcJGYn8Y+DWxq+rh2+6RGrdjUDvdLeNts6R4XUyHb4uyyos6RAUHSz5KJfbvAqogNAThKIc3pPZ6r9i5olXiby0B7w54CFaToey00L76lFEWvrDNkuJdY907ZTUBA7TbJS2ht9MDiFjD6o7QfZZuACJ21xQvqCLxSg9sWJN0XVTEGzC9j5fg7geopWO/agWOoAEgaacR2L1XYtHIUX5iZm18shMUL2K1lu22KgTsuPzZz//plomYgOA6eLOpJQzkkTphFcFS48OPP6rm1EdVtkm8O+gITQYcUk//2yONIGGja7GCCpy78WG/l9UUFJif/N1P/+LLL7/83/Cj1akq9SKQpPc5YZ3cRL7uskMtYH17tCiYa/chKl6ALFeTeEF13kl6ewlgIn2HurcDHwI2urfSG12chpOr0alUO38adhogOfTUceWMU29jId1pjqy91ztHtd0LDTsNUI2xduylGnNuohflYi59P0BBvDXs9c5RdfvR22mFAwYQcVgbty9ixjq4h3eejFVXer0LWmjwVb9/gOwnvSaOxGrsvmz2z7jkjo+3zxVXlgTOtSwzwPjULl5QvYAB1mkalRgEEV+0bKmzoqzh6ot1v5uvCy3xetvcgHhBUxlYq7EViWvuFjLvlJxxacEeHoL7RNrRsMsAVRcD0tK4NDWBQHsSQc1dx1P4Jk7imLQqXs3kDfHWdkgjhSYs9BQEnrM3N7UsNYgNrqZsNcESt2Se/TwUEC+O8rYmXtBcBZ5w5iZ2q1mJQSu2mlKBW3AYuB98LjG/rbmRKS0L2KNtrSItrI9SurK4j5obNH6J5NyEVoNqSuviBc1Z6EMwAZp2OoJKgESBAKvWWiccraw1Wp9/9eTKKpcQL2KmdfGC5m8gAlHhjcxLVGOASgZqqmYpFbi2quOToZs3bascacFJUehGwIEi6+IpyORIHLUExNxauCb7XNIqR8L9w3W21MebpTcBe1IqkTS+IodO8JoNormewNrNK1wbPuN/SiZZ0ELjLocuBQxKW7MpsSrjc+m3ap1LXmtUYPx1RP/3iQtX2wiWDKj0PYoXdCvgyBrVeEqszAikUmI+ZqNLViAvWrz+Sgk0UtOSQYvuBQzWWG8d48pmu8DWDKxjSUs7mJE08MvXsMeH4F5xLb00qubo/ganzDV4ShODDMBuv3PvrthcHFsHS3efv3323CdFUINoIz3s7VIYSsAAIsbnWgIuEgXtL07Ack+TFbf6xr/yD8Ei2dQk2AjuEfRumQ8ZTsARb6vd59oCccq0Svtq58SD77GeBXMCnwp4qSpBoPgcRepxrxVpYYxGqrpThrzpKTXZaiqx6hyCSYUQ4zo4dsWDNK/R4v0jKYFRhRsZXsAgdk3XbnIZaYSO+k335cXuJ+NiAp6Axsx2uzUhV8rodvkYNhBHiCeGSp2rNuaJSwAT7nVsQGaIWyUm5HUw4S5jA5PA1XFAR6sNr1aIjTn8DeTSx1BbxAaISK37yK1jXeU8bLAyicczgTW98ojVFkFows3DBk0AX5XDQQurzMtYN1kOG0BhriqzifkKX2ndmKAhhcaUrW3lsIFUBE8FIWjBaJ3sqWit0uphA1uIq052p9XZquw62CCvRDy+6QlVuhVRx+aTT0YO7pNTRj426BURqzQmZSeNHWsJ+0qojnhNtj9bFzYRDQBhx0f94poaxG0s/GwqeHAo+qkYgRfk5L+PxNcwG9wGNkGdAtGHLz0mRsMwDMMwDMMwDMMwDMMwDMMwKNy48SdbIYKAiVqcdQAAAABJRU5ErkJggg==);padding:5px;background-size:150px;background-repeat:no-repeat;background-position:100% 0}.force-code-color.same-black code[class*=language-rust],.force-code-color.same-black pre[class*=language-rust],.force-code-color.same-black span[class*="token number"]{color:#555}.force-code-color.same-red code[class*=language-rust],.force-code-color.same-red pre[class*=language-rust],.force-code-color.same-red span[class*="token number"]{color:red}div#helloctrl{text-align:right}div#helloinfo{float:left;font-size:9px;display:none}less-important{opacity:.4}</style>
    
    
</head>

<body class="day-mode">
    
    <noprint>
    <div class="hide_on_small">
        <a class="noprint" href="https://github.com/ralfbiedert/cheats.rs/"><img style="position:absolute;top:0;right:0;border:0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJUAAACVCAYAAABRorhPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAGo9JREFUeNrsnQdwVFUbhm9Cs6IoIggikgSBEAsqImJvI1IExQoiCYqj/4/+KhZsY69YQJ1R2SCKWCiiCMqgYhkQUVRAWiBERUQQReyAkv8+Z/bLnBzu3U32bjZ3N+fM3NnNZvt99/3e837f+U5WeXm54zWysrIqrkYvs6PX60Wv1xs6dOhtLVu2HJ6Tk+P89NNPzsqVK52wjGbNmjlt27Z1fv31V2fp0qUrZ8yYMbC0tPQn91/bosc/xvGve2yPHuXRwyn3+4Ls8B1ZCYJKjvpDhgy5pWnTptd07tzZ+eOPP5ySkhLn999/D8WHa9SokXPggQeq91NWVrZy5syZg93LHzVgmQCzwErCyA76BGPGjHnAZalRX3/9tbPXXns5ubm5oflwW7ZscdavX++4bOq4oM/r16/fuDZt2uwL3tyjYfRowI8jeggLyw8oK/oDy7JQqRmmytK+cGGqBtGj4eDBg29wQfWfgw8+WIUclxGcbdu2heJDNmnSxGnVqpWzefNmxw2Bq956660h33zzzQb3X1ujx7bopWWsFDFVeYzb5AvfPnbs2JEbN258at26dYqtDj/8cGennXYKxYfctGmT0nt77rmnk5+fn3vOOecUH3DAAc00xmoQvbSMVQvhr1wHknmMGzfusSVLljw9d+5c599//1VhJ0yh8IcffnD22GMPxw2Bbc8444wxGrAaWWClNvx5iXXPEBg9Gg0YMOB/7szr0sMOO0yJd3f25fz222+h+MD169dXTMr7+vbbb0unTZumh8ItNhTWLlPJ8W/0qJiejx8/HuEeWb58ubPzzjs7LiOE5gP/888/zo8//qg0VkFBQU7fvn0jUcZqaBkrtUwVj63qG4ylQspFF100rEWLFkWHHHKIYgZXJDt///13KD747rvv7uy///4yqUC8X2oZq/YsBVNTmUwlJ2Priy++ONoV7pHvv//ead26tcPMsEGDBqH44IRjN/wpk9QFfW7//v0tY9UCqMo9QqD8enVAbdN+7VsA1qJFiyLvv/++Eu+AKywD9lyzZo2apbqTCsT7sxZYqQ1/Xr6VHPJl148RCv970EEHFSHeYYnFixeHxnmHPfPy8pw///xTifepU6da8V4L4S8hxiopKYl8+eWXCrBhshswaTdu3Oi4+s9p3759Tu/evcdYxkotUwVmLHfmVSR2A6Ykl6kY5mc1P6PMVGFSd/ZqxXsKmSowY7nCvVhEshsSnZr8gXN+q3Iw/vrrL2WQwqIu6HHerXhPMVMFZqzmzZsXFRQUKGbAbkDI1wSgdJaSS/l8+qUcJMYBFrnCVe6wjJViUPF47ZdZbWDl5+cXHXrooc4vv/ziLFy4UInlmmQo8zNmZ2fvACoGZTPt2rVT78cF1OopU6YUWWDVfPjTT2DCoXDJkiWRTz75JKm5Qh1E27dvr3TwOnJd/u+lu7Zu3eps2LDBadq0KWmdtj169LB2QyqZSntMwozVpk2bIin0I72TaK7QD1By23HHHUdC2XnhhRfUZ6xXr14FY5lsJXYDla3YHy5TrZo+fboNhalgqmQw1po1a4qZCe62227qpCcTULATR/fu3Z1BgwY5xx9/vDNw4MCK+3mFRt1ukFyhG6Zz+/XrZ8V7KpkqGYyFeCdXCDOsXr1alawEBRSXAGnw4MHqvoQ1Zp4ffPCBM378eMVSJmOZg5IZgEWu0H1fVryniqmSwVjulF7lCqktx8tq2LBhQmylA0sH1JgxY5xbb70VH0rdfvrpp+8wS/Q678wEqWbde++9yWHaXGGqQRUUWIsXL458+OGHqkyFSoLqsJQJLB1QpIbeffddxYL33XefM3/+fMVWfrNDc+BjrV271tl1113JYdpcYSrDX7JCYV5eXoXz/tVXX/mKdzP0iYY69thjnUsuuaRSyANUkUhEhTkJexTucSmhzy8EyuD+kit0Q2DpG2+8YXOFqWCqZDBWaWlpMWDihKNnqjNgKAFUcXGxM2LECKXRTj75ZKdTp06+GixWCJQBg5Ir3G+//XiunD59+thcYSqZKhmM5Z48xViELZx30yA1AULIBESMsWPHKnbi9l122UUBCqACLhiJkhwKBwGusJVuL8T6Tng+yRXaQr9aAFUQYA0YMOC/rjgu6tixo1oJ/fnnn1cyLU3XnP8dc8wxKkH85ptvVpoJAqqrr75a6SIGofXBBx9UdVV+IdC81K83btxYOe8Ac+XKlasnTpxY5533lIIqGXYDuUKm9atWrdpBmMvfXu4512GVm266SQFqwoQJyn8aMmSIYq6nnnqqElN5maF++UJyhbAjM8SSkpI6z1jZqX7BoHbDd999pxzuo48+uoJt9BOsX9cBwnH++eerx2AruOLa+fjjjxVTwV5eIPRy5L1+VLAnK4Z47vbt2+fW9cUU2bXxokGAtWzZssinn36qTrTkCr0qDUxAcYieQmMxYClmhPPmzVPPB5NRWiyzRzlMYHmBS3KF++yzD+Gwbc+ePeuseM+urRcOAixXu0SWLFni7LvvvmolNKkdL2CZOT3CHaZq165dnUsvvdQ55ZRTFFO5z6kAdcMNNzjDhw9XszsBFCC76qqrVHgzgWWCC1Ch97i9devWOXXVx0q5pkqWxrr44ouH5efnF7rhRk3vKVOOlbIBIADjuuuuqwibWAzPPvusuh8uu9wOm40ePVp9BzfeeKPKRWLGAj4/vaUPejdQfBhNjq+ePHlynRLvtQ6qZIh3ln5JrpAwFMsQZUYIu3F/NBWAufnmmyvEO5dMBu699151O8yG7UBVg247xAIVg74NkiuMNgWpM+I9FKAKCixXK6kkNIV+X3zxhZree9kMpvhmuRhMBJBgrFmzZqk3wN8wF03T3nvvPWfcuHEVzruefI4FKgYAFruhrKxs9aRJk+oEY2WH5Y0E0VhuuIrMmTNHaSFdvJvaSpiGA39p2LBhFbNBwMP9dEAh6HHjEd+J/IAAE11weK1oU5A6obFCw1TJYKycnBzlvOO4I+QJPX4aS5gKnSWOO8xCyANQYowCMi5Hjhy5g0FaFbZiSFMQyRVmelOQ0IEqCLAGDhw4rGPHjoWcQLwjgOXnuJtai1keoRANhTYDWJQ5UyIDGAAUh5dQ93LczUFZMkloUjrLli1b/dprr2VsKAwlqIIyFk1BWEwhTUEoWYnnul9++eVOly5dVBjkcb169XKuueYaNbPUKxr8So+rwlpYH7BjpjcFyQ7rGwuisaQpSLRdkAo/pm+lA4WD2d3EiROd5557TpmkFOQBKB0oOsN5ue3xqhuYccJ2+GuUJmdqoV92mN9cEGAtXLgwQgGe5Py8nHcdYIjqt99+22nevLkKgaRdBHg6K/N8gLW6jrsOLBbSUtGaqU1BQg2qoMBau3ZtBGYgV9itW7cdnHf1BRipHFjLDUnOggULKlUqCEMRvq699lpnwIABCQGL23H2MVjRce3atcu4XGFoNVUyNVb79u2LANbPP//srFixotL7lhIaHRDUoXPizRmjpHKYEZKSwRSdMWNGpTCqs1+875G8I++L6gaXGTOmgjT0TJUMxlq+fHmE1c/4TVgOgCJWRQPgMwv1cN4FUNOmTVNi/txzz1XrCE3G0hepxjrfABOzNpocz5hcYdqAKiiwaApCWGNqj8vtZZCaMzthGzTW9ddfX2GUkgMkxcPo2bOnKl1OFFhoOWkK0rlz54xoCpJWoAoCLHd2NwrxTsgCLHhGMisUgJlVnxyEKDQUgMJdxygFZH369FFsxdspLCx0XDD4AiueeI82AlGv16JFi7QX72mjqZKpsfSmIFQ34GOZOkvXUqeddpoyLQEUQl0S0I888oha9kUdPADD69K1VXXdd2kKIrnCdG0KknZMlYxQSFMQCvNgFFbEmD8kEwRYDZS+4HkJoJ555hkVAiWlA7j8ZoNVHVRYsJcO5cmugE/bpiBpC6qgwCotLY0wE4R5cNJpgR1LZ3EAID0BzcwN150xdepUpdfOPPNM54gjjkjIHOV/iHfsDF7XDbO56VhBmrbhLxmhkEI/coXoK9xzvCP5TH71WCSgSf3oYfDpp59Wj8O7kkI/coYkoekFUZ1yGRnYGrwvwiq5wnQKhWnNVEEZ6/nnnx/FEnvCGGv4OnTooHSNF1uJVsJMxXUXQFGHxYkfOnSo+psFFY8//riyIGAsU6dVZXk9QxZTAOR0E+8ZAaqgoZBcIXVPAIFiP2kKYtoMAix8rOnTp6vZIGHQFf/q/rICWtgKoJozwHjd/fRB4llskHRqCpIxoAoKLOwGxLiscI6VJwRYiHdyi1wnQYzwpwQZTcQqHdiLBiBetVw60OJJCMpuWJYGQFu1apUWjJVRoAoKLDe0RdBCCHJW3Jji3cwRygGAeAzX77//flXh8Oqrr3qmeiQpbdZ2xcsVLlq0SDForjvC3rshI4R6MsU7S+xdbVVEoR/inVaRXi2K9HosUjU0A4GlnnjiCRWy/GaSsRz8eMV+kiuMbjZe+vrrr4cyV5ixoApqkLZs2bKiKQhuN2EoVj9RVuiQcKYmy+t7yc/PV5oNJnRnczvUdZm5Rr/vnzDIzDPMGwhkNKiCAIvS5IKCgkJmhDAWiV8vkR1LhEunGVdgOyeeeGLFe5o9e7ZaoWO67rrtEOsc0CoS551MQBibgmScpkqWxtJzhZxcwqFXz3WzqYdZ2CeAQmdhNTBb5G/YJlY9VqwfbLTvqHrtMNoNGQ+qoOJdepACKsQ7hX4msExAye2EPAHUPffco9I6GKcMGBAwscK6qs1A9OiAj0UY5f3QFCRMXZPrBKiCAotcIfaAbCBQFQHOIa27X375ZTVDpLrhwgsvVLcBMHqRUlKjp3W8+pf6DdpxS1OQvLy80DQFqTOgCgosmoLgcOOmH3nkkcpuiAcq6fh31FFHKZa75ZZblDFKm+3evXsro5TRo0cPJfRNtoql1wRwkiuUpiBhSEJnvFBPpniXXCHNN3DVYzUFEa3EJgAnnHBCxf0o8MMspeMMuoi1hQAMsFFZKlWn8VpEmpdUNiDew9AUpE6CKqjd4IJC1WMxrZemIPGS0LSWJOSxnhCG4nHoLNiMgj8asj300EOqht6vAYjp8pvXpSkIRX+1uYFAnQp/yQqF69evj9BPHY3Efjp+SWixDEhCuydYdf8DUAh3UjoACqF90kknqTciDry5rtBvnaH5w6bokIkAFQ4FBQW1VppcZ5kqGYzlnrAiZm+ELE5mLOddjrPPPls1t8VUJeTJUnsS1JMmTYrJUIoFPEqeTdZCuGNZRFfppJyx6jyoggIrNzdX7f4FSLyagvitasYUZebHDBEvjJJkr2VdhE3uw/1J/9CpT7cx/EqV9aYgbDaeyuVf9R071BcXBZb+Bco2qf/4PY5Q6ArxLDf8qaYgaCdmiNGNNSuYRd8NVQDBKhwBlLjrMgAdLHbFFVcor0sfn332mVqiTx0799MfpwOStkp4Wbyvxo0b57hhOKI1BYk3pJ+4+l6qCyzLVEliLDYQkKYgkivUGUvAoot5NltiMaoZNnUW4/lI68BSzCIBGfpsypQpO7CVF9Oh2QB7KjcQsKBKErBkAwFOumwgICUupuXg19aIS3pkCaAQ9PQeRcALcLAdSFzT3FYHVayENJ4aNgi5QhfwNZ4rrLOzv2TPCsePH68K/WAVAIL49ms1FAsMsBGAwtSkNotLne1w9hH0Zo1WrEpS9B7VEdRjuYxa47lCy1Q1EArp3UDZDCGH5faEMP27irXHM8yEngJQLPsy/SkJcVxSw0WYdbVSXOHOYOte2WzcFe811njNMlUN+Fj0bpB+6vpm437rCuVgpgegCHuysochte56mCQhzXJ7CgTj9cuSjyJb9+Los4FAr169aiRXaEFVQ8BasWJFhBJgqjWxHGQxhJ+3xJCKUX17FELh3XffrS4FVIAPFqNkmSZt8XKGOktKUxD+btWqVY00BbHhrwZDIbnCTp06VWwgwMnUvzevdtz9+vVTCWaYCsYircN46aWX1PIvHHkWVtB55pVXXlGzOwS42cYoXl9SNhCQUOj+AJLajtuCKgUaSzYQkOI6PCT57rya2uK6s9JZBiui6eNAOoftT9Bo5A0BGAsuAJ94XXrhYLwaeIAlucJkbiBgw18KQqEU+rFogbIZbAP9x2vmCidPnuxceeWVasYmawsBkADqrrvuUn4VtzHL5K2Rf5Q9dViHCFj88oVyuWnTJsqRVSLafb5cF8xJyRVaUKUIWGwgQJWCFPqZEcFc/kVIQy/huEvIE0DRz4rktAyAJUw3aNAgZUvQgQagxStVZlk+zwew3OdJit1gQZVCYLmhL1JSUqIcbgr32AnCa1YowKLhLIApKiqqCHkI7dtuu02FPbY9oY8DIZXQyv0IkdwXawJLQ++V5eVlSaEfs9VoE5LcoLNCq6lqQbx36NChEJEsTUH8nHZhH3atRzeR/mFnVVoavfPOOwpQkmekl4NsNQf4mEkCTNx0LARWOcdrFELJDO8Ls3Tp0qUJ+1iWqVLMWDQFIRTOnTtX+U/YA2gsrx7vAoKPPvpIgQSxD6CwE2gMIsC47LLLFKAYlCoDPtnFgq3o6AQIO8ZbEU16CZAHbQpiQVXL4p08HmCRpiB+wOKgMoEB89BIRBjq1FNPVezCgUjH0wKoUqtlWhixogwhEwDjr7mvkVBTEBv+atlucGdpRbjjUrUZL41DKGQGOWrUKNUdGRFPyLvjjjvUY9FbYnKiu/jfAw88oKpPqbHyasttnm+u02lGNhtfvnx5tewGC6oQAMvVMarQD5YgtME4XpUM+kzODU0KVKKhCHncTni8/fbb1RuR/yH4BVD64le/qga5Tq6QxmtS6Dd16tQqFfrZ8BeCUMjyLxLPnGj8JdPDMvtjic6i0hQWws/iPrjrrN6RAfNhFxAOzRlgrByhnitkMuHqK3KNOb17967SrNAyVYgYS5qCwAyYkjCWVzg0HXjZxpeZISGPxyHY8cVgLTQYVQ8wloCyOruB8dxov6o2BbFMFSLGWrduXTHaB5FMUZ1X7waz+ZrssjpixIgKDYVBKoDiNjoec5jb0Zl9HPzIAiOWToN0cnZBb67Saaj9SNSPxoIqRMDyagqCFvIClj4zlNXSoqHwtLARABR+FlUOsAxOu9kYhOa33bt3j2s3xGgK0sgAV30b/kIaCvUNBNBb0h9LD4c68+BJsUoZHcWiigsuuECJfliLge1A7pBZIXtEwz7sVAHQsBAeffRRZVnEWh3NkA0Eolv30jW5MBoKt0R/IFstU4U0FNIUhCXxeq4w1iZNAEL2eJYeDQCFgTEqyejHHntMsQ5VowAKkf/www9XVKfGIwrZQADLwWVSNhDQxXsDG/5CDqxVq1ZFaA+JltGbgsQKhxxUdwqYzjrrLOW4A5o777xTTQAkR0iYRMCbFka8yCS5QgYbCAAsd4a5j7CuBVXIgeWyTzEeFHaBtCaKxVgwFRWhpFtoW8QhgCI06ikdBiU0Ve3trg9pYwSLIt779u071gWYApbVVGmisSj0IzUTXb+nSlb8DFI5ZKmXmKOEQLQVgpvZISxG6TL5QWqrmBSYzdviDVpF4q1FhfzKWbNmDbQrlFPMWImuhCan16xZM1VByomkNBl9I0NfCS3jySefVNoH3USOULrNIN4R2jwGQY+PxYQgkUEaB9ZCvLsAzXMZdbwFVRoBK3oSi/CwZI8ck010cCHeMTxpVSTifcKECWrmhz6jLxZDX6xa1b1z9MHzkRzHrnCPXBv+0jAU5uXlVbTj9msKYhqd5ArPO+881WQNtpJGa+ivmTNnVtqj0Ew2V3UQPskVWlClIbBox02hn2w2Lk1B/IAl4Bo+fHilhh+0L6Ie3mtT8URbVNHGyIIqjRlLbwpCKPTaQMAEGAtQKQ6kewzJYr/OykH6nllQpTGwpCkI1aMwlt4UxA9c5jnWLQnRZNU5/xZUGcpYLVq0KOrUqZPSVlgH1dkGzmxBFJSlHMeWE2eEQcp+hSxsQGOxdAsB7uW4m7tT+C06DTosqDIEWMuWLYugkwhxeq7Qbz/o6uzeZUFVh4FVUlISIT2DmUl5Mqkdvy3gvG5P1rCgyjBgrV27thgHnTIY6rG8hHmytJMFVR0BFusKZetezEjcdxYwpHJYUGUoY8m6Qqo/2VBJbwpiQWWBFagpCCuh6QajNwWxoLIjELDKysoieFcke2kKIpuNW1DZEQhYrnAvpoKUOnbAZUFlR1LEO6Fw3rx5ymaQpiAWVHYEZiycd2kKQlpHln8le9givTQFVpBCv40bN6okNOCSpiCWqewIapBGWM5FrrBbt26VWmxbUFlgBerzLtv16k1BLKjsCLSXDjtTACyqNSlPThZjWVBZ8V7MsndW3bAixoLKjqTYDdIUhPoqgMWlBZUdgRlLNhtHvHfp0iWQj2VBZYFVqSkIBil17kHEuwWVBVYlYJWWlqqmICSgYaxEcoUWVBZYnk1B6A7DbFCaglhQ2RFYvC9evDgyZ84cpa1oyU2zMwsqOwIzlhT6wVYsWpUNBOINm/urI8AKkivctGmT2kBAmoJYprIjGRorQk8sSpNZV0j5jAWVHcmYFRbTmBZjNJ7dYEFlgVXldtxLly6NLFiwQG2TS/M1Gn1YUNkRmLHIFbLEnq1FqMny6mNlQWWBVV3GenzhwoVjZs+erRp+kNYxgWVBZYGVCGM9vn79+mdhLFZBd+3atVLZjAWVBVai9ViPrlix4un58+erpiD0eregsiMZoXBkWVnZU/QdRWOxEhq7wYLKjkSBpcA1bty4hzZs2PAkzWnZzQuNZTvp2WGe93gd/epph+ydnF1YWHhdkyZNrmIDActUdgRhrArmKi4uvnfz5s2PkCsMzFT9+/dPt19i3Nu89hOuyvXq3laV/wW9THSMHj06FmPJzu76dTWGDh16U2BQ2ZHZ0dADWDqQsrTJnty33FYp2BEzGkbBojPPdu32rOjfWRZUdgQFVrnBXjpT2XoqO6oNrHKdlXQwWVDZkSiwHANc5Zap7AgKLMcAl/k/Cyo7AoHLnCVaUNlRMyCzjrodSR8WVHYkfWTZhLAdlqnssKCyw4LKDjssqOwI3/i/AAMAw1ghxBOUbj4AAAAASUVORK5CYII=" alt="Fork me on GitHub" width="149" height="149"></a>
    </div>
    </noprint>

    <div class="page">
        <div class="page__content">
            <div class="book-content">
                <h1></h1>
                <p><img id="logo" class="hide_on_small" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABDCAMAAABdlVDoAAAC/VBMVEVHcEzybwDMUBLKn5bWUQD0VwDpZAD5TQDrVQD1SwD1jgDuSgCnKwCrLQDHy9b3UQD3TwDgycX2jwD1hQD2UAD1dwD1jAD3UAD4TgDc3eClKgD5WwDgQgD2dgD4dQCkKgD1hgDzjAD0kQD1jAD1SwCjKQDQOwCjKgDMzNb1hwDPOwD5TgDoRgHzTQD2SwD0TQD2SgCkOiH5TAC/NgCkKgD4XwD3cADJloz2iwD0igD2ewD1bgD0SwD3UADPOgH1fgD5TADQPALUSxWkKQCkKgDVnorRbUb37+v6WwD1cQD4fgD7kwD2kAD4UQDPOgDPOgCQJACjKQD5TAD2SwD3SwCkKgDFwsaOlqr4iQDCyNm5wM/2hAD5TwD1ZQD5awD1gQD1iQDQOwC8MwD0SgD01sjft6mQJgD2agCnKwD2WQDq5efOOgDPOgDtSADySQDIsLrqn37Z3eTesqbzTQD6bQD3dwD3TAD3VQAAAAD4TgD4UgD4UAD/TwD6TQDw8vT4VwD1SwDwSQDL0uj+TgCdXTjrSAHNOgD7TQD////6+/zn6/OqLADSPADs7vTa3+3iQwD+/vvVPQDeQgHk5/H9TgD09vnf4/DIz+bnRQD7VACgLQCyMAD/UwDaPwDV2uwOCQeqNgDO1erOQQDR1+n6VwCPLADnVha3vsq4NwDGOgDo6OpuIQDcXCgoHxvWSQN2JgBGFwDvUgq0joXncTrZuK3Vh2x6dnauo6jCgm3b1dVHR0c3Nze8iHiNj5D3jwD2fwD9jwD+hAD5hwD/eAD5lAD1jAD1iAD3hQD7gQD9iwD+cQD+lQD4XwH/awD1ggD2cAD1hQD9YwD/XwD3iwDwWgD4dQD/ngD4egD4WAD/fAD2bQD4awD2fQD2YwD1ewD3XAD2ZgD1dAD1dwD2WwD3YgD2ZwD2YQD2fgD7ZgAhDAH4aAD4cAD2WQD6XAD2bwBcHADkUAP1eQD2cQDuUgA0EQD2XgD2agD/WQC+RQD1cgCkfGvwoG6BLQL6yKn2ZQDzkgbzAAAAdnRSTlMAFwxdAkcI7BE/5SHsK/44mPWLHjFyvmkn/cjysHuM3yZrVUODYPaX1TqI0fR2xFKkG+b9t89T6+2i6rCRsHff9p3+TW/99uzghC3u88FcUn1B3bzZ2Pgy1ax39cyjyM9f5Dv2xJyo6/r+2cPA3tT41ufeXfv9KSCDYgAACDtJREFUeF7sk0lv2kAUx03koMg9pDI1PURGBk4cegQlQRVnknwAJCvLDfWc5Ot5N+u+L9n3vfu+qcOYakxMpnZCbv1dHkLD7/94b4Z4XP4T8JOP5nbRAViDWmvN+EBzYw+hW1o/xe3VNMoFBKHFlneMfwFOZ4LStKUgQfjzgpCnCYKjNGHJYxwYwwoWvRyckqBr1IKHEnRdWAp5EpKu5/39iLlFUB7IXD5PBfpFB/ZZkAGow5qSwLxCCQmUh+KVdEGgA7M6tNdTEKPWeT/DZ1NKzH1/vdvYRV1P6ZIErBYqqWw2Xamkec/guHPoBA1+7OGH9ZXblEqldAishknMOY+ZoLLSLM35ldFmM7KPY2OyLHLOhxVTKkqWt5oR4oCSyMuZM5H3OA9JKECctqhFxBlkG7K7uz3v/MGQq4pFbDUj3rUdhZDBYP/4agaJDaxiE4ftebD4qVDE3vojcmbey7K8CMV4s4nNTR8TjR12GVsha/K2mJEzeLOZgwGqqjYP1LitkIXdgR8nBmbEN8T75qTNy9tGYrzZbAeUy+WrpM2LHO1izBYx5DWk1+vlVkh7IWzXIsaazeSW/6nnfHGWYWJNqxmJrWbIZ4OtJMuwcd80dlAq4Arfstls4eSyCMiF7x4a6VP7aiS2azazDyhGcbd3o4wZBs4M+W2ws3OOvcfRnKOWkXnHzHnYjQuZ3Ni6r/kUUX2Of4jJLcwwcGbEp9OZJ3cnTD2LPMW0jBUPUXi5Pu0iR05qJXlSLOJaPj6+pS5A+RBHkGrtaCa8PmrnxUtcz4XrRqNRrZp81x/eNmoFaB7iGvKqNuKtkJHzY9ww9n98v7h487X2N2KvAL74+LNxg8QmOp3OlxfECJarmDHv/fpTS5n9NnFFYXySOrGj2DRISMQBiReSoBCyS7wkESEk4YUtbALxAgWE6N5I7gzcMV5qPOPxTLyM7cRbbAc7KwQIa6F/RKs+9K0PlSpFKgpSU7lCeei5d2xiTycgIfE5SpTR+Pud851zL8c9oWk6+ssfpPJXr4c47ieavv/rbyXGoFuKvs8f0VzjisMkDM2Y7yzzHPd8iqan7r0ijvn1aY6bhwfZfInzhiZ31G9ySDaqV4d86wde8aSX8qTk13fnOc56l6bXwFtDk5sdlfYdv5c4lwo8RY47Q4PWlDBS9BmO20Lj1u4UATdKVbVJIzsgCUXqlO9k6Ce89UcMWfkbV55fp1+YzeTBbLzM/GZB+jEtxqeEoZ6fovy/NP0CsiGQG1AyQOgpSA+UioOxSgzDTMp1BkqtbYfztwrSSPgeXdQaqTeeIgClk6KzSujCNhWj/nC+1FUd8+T9ImQpnnsAjq6VAmPFVe5u2RDSl0+/dm++zFid8mSmYLoSyD19+IBhiq1MpRA21hYrd5REVnEhXyy56KxSPEN6WZvLPQrNYArK4lOzmnFqeMMPq5DR3rfHxXAkTgA3M7GMC/5gqVOWbbGFhZQ994j3iTMvbRaLM5FKJWRZg3F7NjbrdSGF0lGE9MYLW7dLiArdATtjUaXMOBFyItDiVj4Z9M3PPAMKisMDjUbssYarQnRXHUMgbzd5e5xswxGqURCip40xF1tWmozGZ6PRbhdiF5+HpLDDiimsPJddWFhPuVBpTCBnU7OhRxAa68lX91YWIZVtCCCsvpZqFoQGU3M3CaEYLMqsroFWVhaG53lJmg4SypvV1WjGD6CUmyXvsnZ/AtueMlGma0KPrt2JuVUlyzWKn6DdVGWDIAxSpg4EiMBcwGVjZTZ7PxqwyOxE9Ik1JCWB4QGKdeYNg9ysjOzZdZvM2ib83UK3HWAHaigo1Wii6sAD1ZUdxS4ZsF0VlMkoNOioygsAtc1GhdicdylrQ7hWGLkHGGFH0CEmeaA8fKCMNrbkn4sJ0eicDTeyD/bIKByiqk+5oStD+aUCFNwKNXhNGASo3m1h7EajEF2dVUIffs4FpWnoA3cS8vG+0JaHORsWSq3CnBuaLPCPDA7UoViPjqqBqBn1LVmjl6HXevxKQzXcyAxrcY8eO3E1gxm23JDIS8CQgLBBebpIKM7s8UtVbYwNOsGM6tMQFk4L9RKAmoL6dJBo7BDeOLfF5u7aftIJLrnH5pAnLaWTkiPsECOQF0yF53nz02E7lmtn22cWu51Vbt7GWCNE1sU6YbM0Ke52CoZv7ATKPmiAceMMnplD4WBESk8DA1McHqCIQPGZZ166MMViw7/ayIVYvQvCosac7IFPAaBFkUdhVJ3G4+T0QHVEj3lHuMCALoqUIFA4cb+rIJt+XzVxGcQl6tqcCFZgEwpZuhOnDQT6FUvCeP1ISiaT6XAEGAoFc6bDPp670jpBZG/trS2Y9DRiJxadxExtitONcz3eSKCG3V/aXaCJ5a89DgkI5EMmDwwpyV1unRjHcu0sIqjOZghL14f09doIssmoC96vPlGgGtqVUl2PxXSQdEIo4ZAjKFn5y63jAayJnW9HrDOZsA0jQ63vonSUYceg1gB8loe2iEEPoXgisFtJceSbQIJoHBjlqouDiUqqs19TRukfV7wCi0MjVo8DKGkxHfKNfLeY8BIlBtQMQ9doBfVuiv6krozSkvATef2BxeWtkNr1M1v3D9/z3ybyNvXr1BZVqIp6j6rUC97v9d4u6OCIJ+I539+U8BYQ3s8v/d+ht496r8Z2q7DHLvoVy4N7+FAwIp77ZKDJ6wc1fXFUY1F1dfXvZeioWnUAnS0XvaDh6+GINeRxcOL52qMtLS1HTdoGtdQHSdd5bGDgihiySkDhzecrqY+ls3t46CM0f+4s9RHVuYf3fPsBiP8AxnuSRA+HbjoAAAAASUVORK5CYII=" alt="Ferris holding a cheat sheet." width="100" height="67">
<pagetitle>Rust Language Cheat Sheet</pagetitle>
<subtitle><span id="subtitle" onclick="advance_subtitle()">2. May 2024</span></subtitle></p>
<blockquote class="legend">
<symbol-legend class="short">
<p>Contains clickable links to
<strong>The Book</strong> <a href="https://doc.rust-lang.org/book/" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a>,
<strong>Rust by Example</strong> <a href="https://doc.rust-lang.org/stable/rust-by-example/" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a>,
<strong>Std Docs</strong> <a href="https://doc.rust-lang.org/std" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a>,
<strong>Nomicon</strong> <a href="https://doc.rust-lang.org/nightly/nomicon/" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a>,
<strong>Reference</strong> <a href="https://doc.rust-lang.org/reference/" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a>.</p>
</symbol-legend>
<symbol-legend class="long">
<twocolumn>
<column>
<p><strong>Clickable symbols</strong> <br>
<br> <legend-symbol> <a href="https://doc.rust-lang.org/book/" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> </legend-symbol> <strong>The Book</strong>.
<br> <legend-symbol> <a href="https://doc.rust-lang.org/stable/rust-by-example/" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> </legend-symbol> <strong>Rust by Example</strong>.
<br> <legend-symbol> <a href="https://doc.rust-lang.org/std" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> </legend-symbol>  <strong>Standard Library (API)</strong>.
<br> <legend-symbol> <a href="https://doc.rust-lang.org/nightly/nomicon/" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> </legend-symbol> <strong>Nomicon</strong>.
<br> <legend-symbol> <a href="https://doc.rust-lang.org/reference/" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> </legend-symbol> <strong>Reference</strong>.
<br> <legend-symbol> <a href="https://rust-lang.github.io/rfcs/" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a> </legend-symbol> Official <strong>RFC</strong> documents.
<br> <legend-symbol> <a href="https://cheats.rs" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> </legend-symbol> The <strong>internet</strong>.
<br> <legend-symbol> <a href="#" title="On this site, above."><sup>↑</sup></a> </legend-symbol> On this page, <strong>above</strong>.
<br> <legend-symbol> <a href="#" title="On this site, below."><sup>↓</sup></a> </legend-symbol> On this page, <strong>below</strong>.</p>
</column>
<column>
<p><strong>Other symbols</strong> <br>
<br> <legend-symbol> <a class="tooltip" title="Largely deprecated or outdated; prefer modern alternative."><sup>🗑️</sup></a>   </legend-symbol>Largely <strong>deprecated</strong>.
<br> <legend-symbol> <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'18</sup></a> </legend-symbol>Has <strong>minimum edition</strong> requirement.
<br> <legend-symbol> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a> </legend-symbol>Requires <strong>Rust nightly</strong> (or is incomplete).
<br> <legend-symbol> <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a>   </legend-symbol>Intentionally <strong>wrong example</strong> or <strong>pitfall</strong>.
<br> <legend-symbol> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a>   </legend-symbol>Slightly <strong>esoteric</strong>, rarely used or advanced.
<br> <legend-symbol> <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a>   </legend-symbol>Something with <strong>outstanding utility</strong>.
<br> <legend-symbol> 
<a class="tooltip" style="font-size:70%;position:relative;left:3px;color:grey" title="The parent item expands to ...">↪&nbsp;</a> </legend-symbol>The parent item <strong>expands to</strong> …
<br> <legend-symbol> <a class="tooltip" title="Author's opinion."><sup>💬</sup></a> </legend-symbol><strong>Opinionated</strong>.
<br> <legend-symbol> <a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a> </legend-symbol>Is <strong>missing good link</strong> or explanation.</p>
</column>
</twocolumn>
</symbol-legend>
<div style="text-align:right;height:1px">
    <span class="expander" style="font-size:10px;position:relative;top:-20px">
        <a href="javascript:toggle_legend();">➕</a>
    </span>
</div>
</blockquote>
<noprint>
<page-controls>
    
    <a id="toggle_ligatures" href="javascript:toggle_ligatures()">Font Ligatures (<code class="language-rust"><span class="token punctuation">..=</span><span class="token punctuation">,</span> <span class="token operator">=&gt;</span></code>)</a>
    
    <a href="javascript:toggle_night_mode()">Night Mode 💡</a>
</page-controls>
</noprint>
<noprint>
<toc><column>
<p><strong>Language Constructs</strong></p>
<ul>
<li><a href="https://cheats.rs/#data-structures">Data Structures</a></li>
<li><a href="https://cheats.rs/#references-pointers">References &amp; Pointers</a></li>
<li><a href="https://cheats.rs/#functions-behavior">Functions &amp; Behavior</a></li>
<li><a href="https://cheats.rs/#control-flow">Control Flow</a></li>
<li><a href="https://cheats.rs/#organizing-code">Organizing Code</a></li>
<li><a href="https://cheats.rs/#type-aliases-and-casts">Type Aliases and Casts</a></li>
<li><a href="https://cheats.rs/#macros-attributes">Macros &amp; Attributes</a></li>
<li><a href="https://cheats.rs/#pattern-matching">Pattern Matching</a></li>
<li><a href="https://cheats.rs/#generics-constraints">Generics &amp; Constraints</a></li>
<li><a href="https://cheats.rs/#higher-ranked-items">Higher-Ranked Items</a><a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></li>
<li><a href="https://cheats.rs/#strings-chars">Strings &amp; Chars</a></li>
<li><a href="https://cheats.rs/#documentation">Documentation</a></li>
<li><a href="https://cheats.rs/#miscellaneous">Miscellaneous</a></li>
</ul>
<p><strong>Behind the Scenes</strong></p>
<ul>
<li><a href="https://cheats.rs/#the-abstract-machine">The Abstract Machine</a></li>
<li><a href="https://cheats.rs/#language-sugar">Language Sugar</a></li>
<li><a href="https://cheats.rs/#memory-lifetimes">Memory &amp; Lifetimes</a></li>
</ul>
<p><strong>Memory Layout</strong></p>
<ul>
<li><a href="https://cheats.rs/#basic-types">Basic Types</a></li>
<li><a href="https://cheats.rs/#custom-types">Custom Types</a></li>
<li><a href="https://cheats.rs/#references-pointers-ui">References &amp; Pointers</a></li>
<li><a href="https://cheats.rs/#closures-data">Closures</a></li>
<li><a href="https://cheats.rs/#standard-library-types">Standard Library Types</a></li>
</ul>
<p><strong>Misc</strong></p>
<ul>
<li><a href="https://cheats.rs/#links-services">Links &amp; Services</a></li>
<li><a href="https://cheats.rs/#printing-pdf">Printing &amp; PDF</a></li>
</ul>
</column>
<column>
<p><strong>Standard Library</strong></p>
<ul>
<li><a href="https://cheats.rs/#one-liners">One-Liners</a></li>
<li><a href="https://cheats.rs/#thread-safety">Thread Safety</a></li>
<li><a href="https://cheats.rs/#iterators">Iterators</a></li>
<li><a href="https://cheats.rs/#number-conversions">Number Conversions</a></li>
<li><a href="https://cheats.rs/#string-conversions">String Conversions</a></li>
<li><a href="https://cheats.rs/#string-output">String Output</a></li>
</ul>
<p><strong>Tooling</strong></p>
<ul>
<li><a href="https://cheats.rs/#project-anatomy">Project Anatomy</a></li>
<li><a href="https://cheats.rs/#cargo">Cargo</a></li>
<li><a href="https://cheats.rs/#cross-compilation">Cross Compilation</a></li>
<li><a href="https://cheats.rs/#tooling-directives">Tooling Directives</a></li>
</ul>
<p><strong>Working with Types</strong></p>
<ul>
<li><a href="https://cheats.rs/#types-traits-generics">Types, Traits, Generics</a></li>
<li><a href="https://cheats.rs/#foreign-types-and-traits">Foreign Types and Traits</a></li>
<li><a href="https://cheats.rs/#type-conversions">Type Conversions</a></li>
</ul>
<p><strong>Coding Guides</strong></p>
<ul>
<li><a href="https://cheats.rs/#idiomatic-rust">Idiomatic Rust</a></li>
<li><a href="https://cheats.rs/#performance-tips">Performance Tips</a></li>
<li><a href="https://cheats.rs/#async-await-101">Async-Await 101</a></li>
<li><a href="https://cheats.rs/#closures-in-apis">Closures in APIs</a></li>
<li><a href="https://cheats.rs/#unsafe-unsound-undefined">Unsafe, Unsound, Undefined</a></li>
<li><a href="https://cheats.rs/#adversarial-code">Adversarial Code</a><a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></li>
<li><a href="https://cheats.rs/#api-stability">API Stability</a></li>
</ul>
</column>
</toc>
</noprint>
<noprint>
<h2 id="hello-rust">Hello, Rust!<sup id="target-hello-rust" class="target"><a href="#hello-rust">url</a></sup><feedback element-id="hello-rust" id="feedback-hello-rust">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-hello-rust', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-hello-rust');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-hello-rust', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-hello-rust');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-hello-rust', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-hello-rust', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-hello-rust');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>If you are new to Rust, or if you want to try the things below:</p>
<tabs>

<tab>
<input type="radio" id="tab-hello-1" name="tab-hello" checked="">
<label for="tab-hello-1"><b>Hello World</b></label>
<panel><div>
<div id="hellostatic">
<pre data-lang="rust" class="language-rust" tabindex="0"><code class="language-rust" data-lang="rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
<div id="helloplay"></div>
<div id="helloinfo">Service provided by <a href="https://play.rust-lang.org/" target="_blank" rel="noopener">play.rust-lang.org <sup>🔗</sup></a></div>
<div id="helloctrl"><a href="javascript:show_playground(true);">▶️ Edit &amp; Run</a></div>
</div></panel></tab>

<tab>
<input type="radio" id="tab-hello-3" name="tab-hello">
<label for="tab-hello-3"><b>Strengths</b></label>
<panel><div>
<p><strong>Things Rust does measurably really well</strong></p>
<ul>
<li>Compiled code <a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/box-plot-summary-charts.html">about same performance</a> as C / C++, and excellent <a href="https://docente.ifsc.edu.br/mello/livros/java/paperSLE.pdf">memory and energy efficiency</a>.</li>
<li>Can <a href="https://www.chromium.org/Home/chromium-security/memory-safety">avoid 70% of all safety issues</a> present in C / C++, and most memory issues.</li>
<li>Strong type system prevents <a href="https://doc.rust-lang.org/nomicon/races.html">data races</a>, brings <a href="https://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html">'fearless concurrency'</a> (amongst others).</li>
<li>Seamless C interop, and <a href="https://doc.rust-lang.org/rustc/platform-support.html">dozens of supported platforms</a> (based on LLVM).</li>
<li><a href="https://survey.stackoverflow.co/2023/#section-admired-and-desired-programming-scripting-and-markup-languages">"Most loved or admired language"</a> for <strike>4</strike> <strike>5</strike> <strike>6</strike> <strike>7</strike> 8 years in a row. 🤷‍♀️</li>
<li>Modern tooling: <code class="language-rust">cargo</code> (builds <em>just work</em>), <code class="language-rust">clippy</code> (700+ code quality lints), <code class="language-rust">rustup</code> (easy toolchain mgmt).</li>
</ul>
</div></panel></tab>

<tab>
<input type="radio" id="tab-hello-4" name="tab-hello">
<label for="tab-hello-4"><b>Weaknesses</b></label>
<panel><div>
<p><strong>Points you might run into</strong></p>
<ul>
<li>Steep learning curve;<sup>1</sup> compiler enforcing (esp. memory) rules that would be "best practices" elsewhere.</li>
<li>Missing Rust-native libs in some domains, target platforms (esp. embedded), IDE features.<sup>1</sup></li>
<li>Longer compile times than "similar" code in other languages.<sup>1</sup></li>
<li>Careless (use of <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> in) libraries can secretly break safety guarantees.</li>
<li><del>No formal language specification</del>, <a href="https://spec.ferrocene.dev/" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> <del>can prevent legal use in some domains (aviation, medical, …)</del>. <a href="https://ferrous-systems.com/ferrocene/" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></li>
<li>Rust Foundation may offensively use their IP to affect <em>'Rust'</em> projects (e.g, forbid names, impose policies). <a href="https://devclass.com/2023/04/11/dont-call-it-rust-community-complains-about-draft-trademark-policy-restricting-use-of-word-marks/" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a><a href="https://web.archive.org/web/20230413161930/https://old.reddit.com/r/rust/comments/12e7tdb/rust_trademark_policy_feedback_form/" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a><sup>2</sup></li>
</ul>
<p><sup>1</sup> Compare <a href="https://blog.rust-lang.org/2020/04/17/Rust-survey-2019.html#why-not-use-rust">Rust Survey</a>. <br>
<sup>2</sup> Avoiding their marks (e.g, in your name, URL, logo, dress) is probably sufficient.</p>
</div></panel></tab>

<tab>
<input type="radio" id="tab-hello-5" name="tab-hello">
<label for="tab-hello-5"><b>Installation</b></label>
<panel><div>
<p><strong>Download</strong></p>
<ul>
<li>Get installer from <a href="https://rustup.rs/"><strong>rustup.rs</strong></a> (highly recommended)<a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a></li>
</ul>
<p><strong>IDEs</strong></p>
<ul>
<li><a href="https://www.jetbrains.com/rust/"><strong>Rust Rover</strong></a> (paid)</li>
<li><a href="https://code.visualstudio.com/">Visual Studio Code</a> with <a href="https://rust-analyzer.github.io/"><strong>rust-analyzer</strong></a> (free)</li>
</ul>
</div></panel></tab>

<tab>
<input type="radio" id="tab-hello-6" name="tab-hello">
<label for="tab-hello-6"><b>First Steps</b></label>
<panel><div>

<p><strong>Modular Beginner Resources</strong></p>
<ul>
<li><a href="https://tourofrust.com/TOC_en.html"><strong>Tour of Rust</strong></a> - Live code and explanations, side by side.</li>
<li><a href="https://dhghomon.github.io/easy_rust/Chapter_3.html"><strong>Rust in Easy English</strong></a> - 60+ concepts, simple English, example-driven.</li>
</ul>
<p>In addition, have a look at the usual suspects: <a href="https://doc.rust-lang.org/book/" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/std" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></p>
<blockquote>
<p><strong>Opinion</strong> <a class="tooltip" title="Author's opinion."><sup>💬</sup></a> — If you have never seen or used any Rust it might be good to visit one of the links above before continuing; the next chapter might feel a bit terse otherwise.</p>
</blockquote>
</div></panel></tab>
</tabs>
</noprint>
<h3 id="data-structures">Data Structures<sup id="target-data-structures" class="target"><a href="#data-structures">url</a></sup><feedback element-id="data-structures" id="feedback-data-structures">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-data-structures', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-data-structures');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-data-structures', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-data-structures');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-data-structures', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-data-structures', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-data-structures');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Data types and memory locations defined via keywords.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Define a <strong>struct</strong> <a href="https://doc.rust-lang.org/book/ch05-00-structs.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/custom_types/structs.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/std/keyword.struct.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/reference/expressions/struct-expr.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> with named fields.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token class-name">T</span> <span class="token punctuation">}</span></code></td><td>Define struct with named field <code class="language-rust">x</code> of type <code class="language-rust"><span class="token class-name">T</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span></code> ​<code class="language-rust"><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Define "tupled" struct with numbered field <code class="language-rust"><span class="token punctuation">.</span><span class="token number">0</span></code> of type <code class="language-rust"><span class="token class-name">T</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token punctuation">;</span></code></td><td>Define <strong>zero sized</strong> <a href="https://doc.rust-lang.org/nightly/nomicon/exotic-sizes.html#zero-sized-types-zsts" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> unit struct. Occupies no space, optimized away.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-enum">enum</span> <span class="token type-definition class-name">E</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Define an <strong>enum</strong>, <a href="https://doc.rust-lang.org/book/ch06-01-defining-an-enum.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/custom_types/enum.html#enums" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/items/enumerations.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <em>c</em>. <a href="https://en.wikipedia.org/wiki/Algebraic_data_type">algebraic data types</a>, <a href="https://en.wikipedia.org/wiki/Tagged_union">tagged unions</a>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token keyword keyword-enum">enum</span> <span class="token type-definition class-name">E</span> <span class="token punctuation">{</span> <span class="token class-name">A</span><span class="token punctuation">,</span> <span class="token class-name">B</span></code>​<code class="language-rust"><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">C</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span></code></td><td>Define variants of enum; can be unit- <code class="language-rust"><span class="token class-name">A</span></code>, tuple- <code class="language-rust"><span class="token class-name">B</span></code> ​<code class="language-rust"><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and struct-like <code class="language-rust"><span class="token class-name">C</span><span class="token punctuation">{</span><span class="token punctuation">}</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token keyword keyword-enum">enum</span> <span class="token type-definition class-name">E</span> <span class="token punctuation">{</span> <span class="token class-name">A</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span></code></td><td>Enum with explicit <strong>discriminant values</strong>, <a href="https://doc.rust-lang.org/reference/items/enumerations.html#custom-discriminant-values-for-fieldless-enumerations" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> e.g., for FFI.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token keyword keyword-enum">enum</span> <span class="token type-definition class-name">E</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Enum w/o variants is <strong>uninhabited</strong>, <a href="https://doc.rust-lang.org/reference/glossary.html#uninhabited" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> can't be created, <em>c.</em> 'never' <a href="#miscellaneous" title="On this site, below."><sup>↓</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-union">union</span> <span class="token type-definition class-name">U</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Unsafe C-like <strong>union</strong>  <a href="https://doc.rust-lang.org/reference/items/unions.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> for FFI compatibility. <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-static">static</span> <span class="token class-name">X</span><span class="token punctuation">:</span> <span class="token class-name">T</span> <span class="token operator">=</span> <span class="token class-name">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td><strong>Global variable</strong> <a href="https://doc.rust-lang.org/book/ch19-01-unsafe-rust.html#accessing-or-modifying-a-mutable-static-variable" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/custom_types/constants.html#constants" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/items/static-items.html#static-items" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a>  with <code class="language-rust"><span class="token lifetime-annotation symbol">'static</span></code> lifetime, single memory location.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-const">const</span> <span class="token class-name">X</span><span class="token punctuation">:</span> <span class="token class-name">T</span> <span class="token operator">=</span> <span class="token class-name">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Defines <strong>constant</strong>, <a href="https://doc.rust-lang.org/book/ch03-01-variables-and-mutability.html#constants" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/custom_types/constants.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/items/constant-items.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> copied into a temporary when used.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-let">let</span> x<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">;</span></code></td><td>Allocate <code class="language-rust"><span class="token class-name">T</span></code> bytes on stack<sup>1</sup> bound as <code class="language-rust">x</code>. Assignable once, not mutable.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token keyword keyword-mut">mut</span> x<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">;</span></code></td><td>Like <code class="language-rust"><span class="token keyword keyword-let">let</span></code>, but allow for <strong>mutability</strong> <a href="https://doc.rust-lang.org/book/ch03-01-variables-and-mutability.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/variable_bindings/mut.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> and mutable borrow.<sup>2</sup></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">x <span class="token operator">=</span> y<span class="token punctuation">;</span></code></td><td>Moves <code class="language-rust">y</code> to <code class="language-rust">x</code>, inval. <code class="language-rust">y</code> if <code class="language-rust"><span class="token class-name">T</span></code> is not <strong><code class="language-rust"><span class="token class-name">Copy</span></code></strong>, <a href="https://doc.rust-lang.org/std/marker/trait.Copy.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> and copying <code class="language-rust">y</code> otherwise.</td></tr>
</tbody></table>
</fixed-2-column>
<footnotes>
<p><sup>1</sup> <strong>Bound variables</strong> <a href="https://doc.rust-lang.org/book/ch03-01-variables-and-mutability.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/variable_bindings.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/variables.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> live on stack for synchronous code. In <code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> they become part of async's state machine, may reside on heap.<br>
<sup>2</sup> Technically <em>mutable</em> and <em>immutable</em> are misnomer. Immutable binding or shared reference may still contain Cell <a href="https://doc.rust-lang.org/std/cell/index.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a>, giving <em>interior mutability</em>.</p>
</footnotes>
<div>&nbsp;</div>
<p>Creating and accessing data structures; and some more <em>sigilic</em> types.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">S</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> y <span class="token punctuation">}</span></code></td><td>Create <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> or <code class="language-rust"><span class="token keyword keyword-use">use</span></code>'ed <code class="language-rust"><span class="token keyword keyword-enum">enum</span> <span class="token type-definition class-name">E</span><span class="token punctuation">::</span><span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> with field <code class="language-rust">x</code> set to <code class="language-rust">y</code>.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span> <span class="token punctuation">{</span> x <span class="token punctuation">}</span></code></td><td>Same, but use local variable <code class="language-rust">x</code> for field <code class="language-rust">x</code>.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token punctuation">..</span>s <span class="token punctuation">}</span></code></td><td>Fill remaining fields from <code class="language-rust">s</code>, esp. useful with <code class="language-rust"><span class="token class-name">Default</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. <a href="https://doc.rust-lang.org/default/trait.Default.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token number">0</span><span class="token punctuation">:</span> x <span class="token punctuation">}</span></code></td><td>Like <code class="language-rust"><span class="token class-name">S</span></code> ​<code class="language-rust"><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> below, but set field <code class="language-rust"><span class="token punctuation">.</span><span class="token number">0</span></code> with struct syntax.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span></code>​ <code class="language-rust"><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></td><td>Create <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span></code> ​<code class="language-rust"><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span></code> or <code class="language-rust"><span class="token keyword keyword-use">use</span></code>'ed <code class="language-rust"><span class="token keyword keyword-enum">enum</span> <span class="token type-definition class-name">E</span><span class="token punctuation">::</span><span class="token class-name">S</span></code>​ <code class="language-rust"><span class="token punctuation">(</span><span class="token punctuation">)</span></code> with field <code class="language-rust"><span class="token punctuation">.</span><span class="token number">0</span></code> set to <code class="language-rust">x</code>.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span></code></td><td>If <code class="language-rust"><span class="token class-name">S</span></code> is unit <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token punctuation">;</span></code> or <code class="language-rust"><span class="token keyword keyword-use">use</span></code>'ed <code class="language-rust"><span class="token keyword keyword-enum">enum</span> <span class="token type-definition class-name">E</span><span class="token punctuation">::</span><span class="token class-name">S</span></code> create value of <code class="language-rust"><span class="token class-name">S</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">E</span><span class="token punctuation">::</span><span class="token class-name">C</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> y <span class="token punctuation">}</span></code></td><td>Create enum variant <code class="language-rust"><span class="token class-name">C</span></code>. Other methods above also work.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td>Empty tuple, both literal and type, aka <strong>unit</strong>. <a href="https://doc.rust-lang.org/std/primitive.unit.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></td><td>Parenthesized expression.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token punctuation">)</span></code></td><td>Single-element <strong>tuple</strong> expression. <a href="https://doc.rust-lang.org/stable/rust-by-example/primitives/tuples.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/std/primitive.tuple.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/reference/expressions/tuple-expr.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">,</span><span class="token punctuation">)</span></code></td><td>Single-element tuple type.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">S</span><span class="token punctuation">]</span></code></td><td>Array type of unspec. length, i.e., <strong>slice</strong>. <a href="https://doc.rust-lang.org/stable/rust-by-example/primitives/array.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/std/primitive.slice.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/reference/types/slice.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> Can't live on stack. <sup>*</sup></td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">S</span><span class="token punctuation">;</span> n<span class="token punctuation">]</span></code></td><td><strong>Array type</strong> <a href="https://doc.rust-lang.org/stable/rust-by-example/primitives/array.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a>  <a href="https://doc.rust-lang.org/std/primitive.array.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/reference/types/array.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a>  of fixed length <code class="language-rust">n</code> holding elements of type <code class="language-rust"><span class="token class-name">S</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">[</span>x<span class="token punctuation">;</span> n<span class="token punctuation">]</span></code></td><td><strong>Array instance</strong>  <a href="https://doc.rust-lang.org/reference/expressions/array-expr.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> (expression) with <code class="language-rust">n</code> copies of <code class="language-rust">x</code>.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span></code></td><td>Array instance with given elements <code class="language-rust">x</code> and <code class="language-rust">y</code>.</td></tr>
<tr><td><code class="language-rust">x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></code></td><td>Collection indexing, here w. <code class="language-rust"><span class="token keyword keyword-usize">usize</span></code>. Impl. via <a href="https://doc.rust-lang.org/std/ops/trait.Index.html"><strong>Index</strong></a>, <a href="https://doc.rust-lang.org/std/ops/trait.IndexMut.html"><strong>IndexMut</strong></a>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">x<span class="token punctuation">[</span><span class="token punctuation">..</span><span class="token punctuation">]</span></code></td><td>Same, via range (here <em>full range</em>), also <code class="language-rust">x<span class="token punctuation">[</span>a<span class="token punctuation">..</span>b<span class="token punctuation">]</span></code>, <code class="language-rust">x<span class="token punctuation">[</span>a<span class="token punctuation">..=</span>b<span class="token punctuation">]</span></code>, … <em>c</em>. below.</td></tr>
<tr><td><code class="language-rust">a<span class="token punctuation">..</span>b</code></td><td><strong>Right-exclusive range</strong> <a href="https://doc.rust-lang.org/std/ops/struct.Range.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/reference/expressions/range-expr.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> creation, e.g., <code class="language-rust"><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">3</span></code> means <code class="language-rust"><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">..</span>b</code></td><td>Right-exclusive <strong>range to</strong> <a href="https://doc.rust-lang.org/std/ops/struct.RangeTo.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> without starting point.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">..=</span>b</code></td><td><strong>Inclusive range to</strong> <a href="https://doc.rust-lang.org/std/ops/struct.RangeToInclusive.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> without starting point.</td></tr>
<tr><td><code class="language-rust">a<span class="token punctuation">..=</span>b</code></td><td><strong>Inclusive range</strong>, <a href="https://doc.rust-lang.org/std/ops/struct.RangeInclusive.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <code class="language-rust"><span class="token number">1</span><span class="token punctuation">..=</span><span class="token number">3</span></code> means <code class="language-rust"><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span></code>.</td></tr>
<tr><td><code class="language-rust">a<span class="token punctuation">..</span></code></td><td><strong>Range from</strong> <a href="https://doc.rust-lang.org/std/ops/struct.RangeFrom.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> without ending point.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">..</span></code></td><td><strong>Full range</strong>, <a href="https://doc.rust-lang.org/std/ops/struct.RangeFull.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> usually means <em>the whole collection</em>.</td></tr>
<tr><td><code class="language-rust">s<span class="token punctuation">.</span>x</code></td><td>Named <strong>field access</strong>, <a href="https://doc.rust-lang.org/reference/expressions/field-expr.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> might try to <a href="https://doc.rust-lang.org/std/ops/trait.Deref.html">Deref</a> if <code class="language-rust">x</code> not part of type <code class="language-rust"><span class="token class-name">S</span></code>.</td></tr>
<tr><td><code class="language-rust">s<span class="token number">.0</span></code></td><td>Numbered field access, used for tuple types <code class="language-rust"><span class="token class-name">S</span></code> ​<code class="language-rust"><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span></code>.</td></tr>
</tbody></table>
</fixed-2-column>
<footnotes>
<p><sup>*</sup> For now,<a href="https://rust-lang.github.io/rfcs/1909-unsized-rvalues.html" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a> pending completion of <a href="https://github.com/rust-lang/rust/issues/48055">tracking issue</a>.</p>
</footnotes>
<h3 id="references-pointers">References &amp; Pointers<sup id="target-references-pointers" class="target"><a href="#references-pointers">url</a></sup><feedback element-id="references-pointers" id="feedback-references-pointers">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-references-pointers', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-references-pointers');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-references-pointers', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-references-pointers');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-references-pointers', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-references-pointers', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-references-pointers');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Granting access to un-owned memory. Also see section on Generics &amp; Constraints.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">S</span></code></td><td>Shared <strong>reference</strong> <a href="https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/std/primitive.reference.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/nightly/nomicon/references.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> <a href="https://doc.rust-lang.org/reference/types.html#pointer-types" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> (type; space for holding <em>any</em> <code class="language-rust"><span class="token operator">&amp;</span>s</code>).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token class-name">S</span><span class="token punctuation">]</span></code></td><td>Special slice reference that contains (<code class="language-rust">address</code>, <code class="language-rust">count</code>).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td>Special string slice reference that contains (<code class="language-rust">address</code>, <code class="language-rust">byte_length</code>).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">S</span></code></td><td>Exclusive reference to allow mutability (also <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token punctuation">[</span><span class="token class-name">S</span><span class="token punctuation">]</span></code>, <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-dyn">dyn</span> <span class="token class-name">S</span></code>, …).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-dyn">dyn</span> <span class="token class-name">T</span></code></td><td>Special <strong>trait object</strong> <a href="https://doc.rust-lang.org/book/ch17-02-trait-objects.html#using-trait-objects-that-allow-for-values-of-different-types" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> reference that contains (<code class="language-rust">address</code>, <code class="language-rust">vtable</code>).</td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span>s</code></td><td>Shared <strong>borrow</strong> <a href="https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/scope/borrow.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/std/borrow/trait.Borrow.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> (e.g., addr., len, vtable, … of <em>this</em> <code class="language-rust">s</code>, like <code class="language-rust"><span class="token number">0x1234</span></code>).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> s</code></td><td>Exclusive borrow that allows <strong>mutability</strong>. <a href="https://doc.rust-lang.org/stable/rust-by-example/scope/borrow/mut.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token class-name">S</span></code></td><td>Immutable <strong>raw pointer type</strong> <a href="https://doc.rust-lang.org/book/ch19-01-unsafe-rust.html#dereferencing-a-raw-pointer" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/std/primitive.pointer.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/reference/types.html#raw-pointers-const-and-mut" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> w/o memory safety.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">S</span></code></td><td>Mutable raw pointer type w/o memory safety.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token operator">&amp;</span>raw <span class="token keyword keyword-const">const</span> s</code></td><td>Create raw pointer w/o going through ref.; <em>c</em>. <code class="language-rust">ptr<span class="token punctuation">:</span><span class="token macro property">addr_of!</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="https://doc.rust-lang.org/std/ptr/macro.addr_of.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token operator">&amp;</span>raw <span class="token keyword keyword-mut">mut</span> s</code></td><td>Same, but mutable. <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a> Needed for unaligned, packed fields. <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-ref">ref</span> s</code></td><td><strong>Bind by reference</strong>, <a href="https://doc.rust-lang.org/stable/rust-by-example/scope/borrow/ref.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> makes binding reference type. <a class="tooltip" title="Largely deprecated or outdated; prefer modern alternative."><sup>🗑️</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token keyword keyword-ref">ref</span> r <span class="token operator">=</span> s<span class="token punctuation">;</span></code></td><td>Equivalent to <code class="language-rust"><span class="token keyword keyword-let">let</span> r <span class="token operator">=</span> <span class="token operator">&amp;</span>s</code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token keyword keyword-ref">ref</span> <span class="token keyword keyword-mut">mut</span> x <span class="token punctuation">}</span> <span class="token operator">=</span> s<span class="token punctuation">;</span></code></td><td>Mut. ref binding (<code class="language-rust"><span class="token keyword keyword-let">let</span> x <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> s<span class="token punctuation">.</span>x</code>), shorthand destructuring <a href="#pattern-matching" title="On this site, below."><sup>↓</sup></a> version.</td></tr>
<tr><td><code class="language-rust"><span class="token operator">*</span>r</code></td><td><strong>Dereference</strong> <a href="https://doc.rust-lang.org/book/ch15-02-deref.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/std/ops/trait.Deref.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/nightly/nomicon/vec-deref.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> a reference <code class="language-rust">r</code> to access what it points to.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token operator">*</span>r <span class="token operator">=</span> s<span class="token punctuation">;</span></code></td><td>If <code class="language-rust">r</code> is a mutable reference, move or copy <code class="language-rust">s</code> to target memory.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">s <span class="token operator">=</span> <span class="token operator">*</span>r<span class="token punctuation">;</span></code></td><td>Make <code class="language-rust">s</code> a copy of whatever <code class="language-rust">r</code> references, if that is <code class="language-rust"><span class="token class-name">Copy</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">s <span class="token operator">=</span> <span class="token operator">*</span>r<span class="token punctuation">;</span></code></td><td>Won't work <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> if <code class="language-rust"><span class="token operator">*</span>r</code> is not <code class="language-rust"><span class="token class-name">Copy</span></code>, as that would move and leave empty.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">s <span class="token operator">=</span> <span class="token operator">*</span>my_box<span class="token punctuation">;</span></code></td><td>Special case<a href="https://web.archive.org/web/20230130111147/https://old.reddit.com/r/rust/comments/b4so6i/what_is_exactly/ej8xwg8/" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> for <strong><code class="language-rust"><span class="token class-name">Box</span></code></strong><a href="https://doc.rust-lang.org/std/boxed/index.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> that can move out b'ed content not <code class="language-rust"><span class="token class-name">Copy</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code></td><td>A <strong>lifetime parameter</strong>, <a href="https://doc.rust-lang.org/book/ch10-00-generics.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/scope/lifetime.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/nightly/nomicon/lifetimes.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> <a href="https://doc.rust-lang.org/reference/items/generics.html#type-and-lifetime-parameters" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> duration of a flow in static analysis.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">S</span></code></td><td>Only accepts address of some <code class="language-rust">s</code>; address existing <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code> or longer.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-mut">mut</span> <span class="token class-name">S</span></code></td><td>Same, but allow address content to be changed.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Signals this <code class="language-rust"><span class="token class-name">S</span></code> will contain address with lt. <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code>. Creator of <code class="language-rust"><span class="token class-name">S</span></code> decides <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">T</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Signals any <code class="language-rust"><span class="token class-name">S</span></code>, which <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span></code>, might contain address.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>t<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span><span class="token punctuation">)</span></code></td><td>Signals this function handles some address. Caller decides <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token lifetime-annotation symbol">'static</span></code></td><td>Special lifetime lasting the entire program execution.</td></tr>
</tbody></table>
</fixed-2-column>
<h3 id="functions-behavior">Functions &amp; Behavior<sup id="target-functions-behavior" class="target"><a href="#functions-behavior">url</a></sup><feedback element-id="functions-behavior" id="feedback-functions-behavior">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-functions-behavior', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-functions-behavior');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-functions-behavior', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-functions-behavior');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-functions-behavior', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-functions-behavior', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-functions-behavior');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Define units of code and their abstractions.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">T</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Define a <strong>trait</strong>; <a href="https://doc.rust-lang.org/book/ch10-02-traits.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/trait.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/items/traits.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> common behavior types can adhere to.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">T</span> <span class="token punctuation">:</span> <span class="token class-name">R</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><code class="language-rust"><span class="token class-name">T</span></code> is subtrait of <strong>supertrait</strong> <a href="https://doc.rust-lang.org/book/ch19-03-advanced-traits.html#using-supertraits-to-require-one-traits-functionality-within-another-trait" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/trait/supertraits.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/items/traits.html#supertraits" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <code class="language-rust"><span class="token class-name">R</span></code>. Any <code class="language-rust"><span class="token class-name">S</span></code> must <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">R</span></code> before it can <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><strong>Implementation</strong> <a href="https://doc.rust-lang.org/reference/items/implementations.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> of functionality for a type <code class="language-rust"><span class="token class-name">S</span></code>, e.g., methods.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Implement trait <code class="language-rust"><span class="token class-name">T</span></code> for type <code class="language-rust"><span class="token class-name">S</span></code>; specifies <em>how exactly</em> <code class="language-rust"><span class="token class-name">S</span></code> acts like <code class="language-rust"><span class="token class-name">T</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token operator">!</span><span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Disable an automatically derived <strong>auto trait</strong>. <a href="https://doc.rust-lang.org/nightly/nomicon/send-and-sync.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> <a href="https://doc.rust-lang.org/reference/special-types-and-traits.html#auto-traits" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Definition of a <strong>function</strong>; <a href="https://doc.rust-lang.org/book/ch03-03-how-functions-work.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a>  <a href="https://doc.rust-lang.org/stable/rust-by-example/fn.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/items/functions.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> or associated function if inside <code class="language-rust"><span class="token keyword keyword-impl">impl</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Same, returning a value of type S.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-self">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Define a <strong>method</strong>, <a href="https://doc.rust-lang.org/book/ch05-03-method-syntax.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a>  <a href="https://doc.rust-lang.org/stable/rust-by-example/fn/methods.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a>  <a href="https://doc.rust-lang.org/reference/items/associated-items.html#methods" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a>  e.g., within an <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span></code> ​<code class="language-rust"><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>More arcanely, <em>also</em><a href="#data-structures" title="On this site, above."><sup>↑</sup></a> defines <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">S</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">S</span></code> <strong>constructor fn</strong>.  <a href="https://rust-lang.github.io/rfcs/1506-adt-kinds.html#tuple-structs" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Constant <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code> usable at compile time, e.g., <code class="language-rust"><span class="token keyword keyword-const">const</span> <span class="token class-name">X</span><span class="token punctuation">:</span> <span class="token keyword keyword-u32">u32</span> <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token class-name">Y</span><span class="token punctuation">)</span></code>. <a href="https://doc.rust-lang.org/reference/const_eval.html#const-functions" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'18</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> x <span class="token punctuation">}</span></code></td><td>Used within a function, ensures <code class="language-rust"><span class="token punctuation">{</span> x <span class="token punctuation">}</span></code> evaluated during compilation. <a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><strong>Async</strong>  <a href="https://doc.rust-lang.org/reference/items/functions.html#async-functions" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'18</sup></a> function transform, <a href="#async-await-101" title="On this site, below."><sup>↓</sup></a> makes <code class="language-rust">f</code> return an <code class="language-rust"><span class="token keyword keyword-impl">impl</span></code> <strong><code class="language-rust"><span class="token class-name">Future</span></code></strong>. <a href="https://doc.rust-lang.org/std/future/trait.Future.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Same, but make <code class="language-rust">f</code> return an <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Future</span><span class="token operator">&lt;</span><span class="token class-name">Output</span><span class="token operator">=</span><span class="token class-name">S</span><span class="token operator">&gt;</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token punctuation">{</span> x <span class="token punctuation">}</span></code></td><td>Used within a function, make <code class="language-rust"><span class="token punctuation">{</span> x <span class="token punctuation">}</span></code> an <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Future</span><span class="token operator">&lt;</span><span class="token class-name">Output</span><span class="token operator">=</span><span class="token class-name">X</span><span class="token operator">&gt;</span></code>. <a href="https://doc.rust-lang.org/reference/expressions/block-expr.html#async-blocks" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token keyword keyword-move">move</span> <span class="token punctuation">{</span> x <span class="token punctuation">}</span></code></td><td>Moves captured variables into future, <em>c</em>. move closure.  <a href="https://doc.rust-lang.org/reference/expressions/block-expr.html#capture-modes" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a href="#functions-behavior" title="On this site, below."><sup>↓</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">S</span></code></td><td><strong>Function references</strong>, <sup>1</sup> <a href="https://doc.rust-lang.org/book/ch19-05-advanced-functions-and-closures.html#function-pointers" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/std/primitive.fn.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/reference/types.html#function-pointer-types" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> memory holding address of a callable.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">S</span></code></td><td><strong>Callable Trait</strong> <a href="https://doc.rust-lang.org/book/ch19-05-advanced-functions-and-closures.html#returning-closures" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/std/ops/trait.Fn.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> (also <code class="language-rust"><span class="token class-name">FnMut</span></code>, <code class="language-rust"><span class="token class-name">FnOnce</span></code>), impl. by closures, fn's …</td></tr>
<tr><td><code class="language-rust"><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span> </code></td><td>A <strong>closure</strong> <a href="https://doc.rust-lang.org/book/ch13-01-closures.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/fn/closures.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/expressions/closure-expr.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> that borrows its <strong>captures</strong>, <a href="#closures-data" title="On this site, below."><sup>↓</sup></a> <a href="https://doc.rust-lang.org/reference/types/closure.html#capture-modes" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a>  (e.g., a local variable).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>x<span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Closure accepting one argument named <code class="language-rust">x</code>, body is block expression.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token operator">|</span>x<span class="token operator">|</span> x <span class="token operator">+</span> x</code></td><td>Same, without block expression; may only consist of single expression.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-move">move</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>x<span class="token closure-punctuation punctuation">|</span></span> x <span class="token operator">+</span> y </code></td><td><strong>Move closure</strong> <a href="https://doc.rust-lang.org/reference/types/closure.html#capture-modes" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> taking ownership; i.e., <code class="language-rust">y</code> transferred into closure.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"> <span class="token keyword keyword-return">return</span> <span class="token operator">||</span> <span class="token boolean">true</span> </code></td><td>Closures sometimes look like logical ORs (here: return a closure).</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code></td><td>If you enjoy debugging segfaults; <strong>unsafe code</strong>. <a href="#unsafe-unsound-undefined" title="On this site, below."><sup>↓</sup></a> <a href="https://doc.rust-lang.org/book/ch19-01-unsafe-rust.html#unsafe-superpowers" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/unsafe.html#unsafe-operations" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/nightly/nomicon/meet-safe-and-unsafe.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> <a href="https://doc.rust-lang.org/reference/unsafe-blocks.html#unsafe-blocks" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Means "<em>calling can cause UB, <a href="#unsafe-unsound-undefined" title="On this site, below."><sup>↓</sup></a> <strong>YOU must check</strong> requirements</em>".</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">T</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Means "<em>careless impl. of <code class="language-rust"><span class="token class-name">T</span></code> can cause UB</em>; <strong>implementor must check</strong>".</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></td><td>Guarantees to compiler "<em><strong>I have checked</strong> requirements, trust me</em>".</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Guarantees <em><code class="language-rust"><span class="token class-name">S</span></code> is well-behaved w.r.t <code class="language-rust"><span class="token class-name">T</span></code></em>; people may use <code class="language-rust"><span class="token class-name">T</span></code> on <code class="language-rust"><span class="token class-name">S</span></code> safely.</td></tr>
</tbody></table>
</fixed-2-column>
<footnotes>
<p><sup>1</sup> Most documentation calls them function <strong>pointers</strong>, but function <strong>references</strong> might be more appropriate<a href="https://users.rust-lang.org/t/why-are-function-pointers-special-no-null/87990/16" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> as they can't be <code class="language-rust">null</code> and must point to valid target.</p>
</footnotes>
<h3 id="control-flow">Control Flow<sup id="target-control-flow" class="target"><a href="#control-flow">url</a></sup><feedback element-id="control-flow" id="feedback-control-flow">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-control-flow', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-control-flow');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-control-flow', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-control-flow');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-control-flow', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-control-flow', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-control-flow');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Control execution within a function.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-while">while</span> x <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><strong>Loop</strong>, <a href="https://doc.rust-lang.org/reference/expressions/loop-expr.html#predicate-loops" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> run while expression <code class="language-rust">x</code> is true.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-loop">loop</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><strong>Loop indefinitely</strong> <a href="https://doc.rust-lang.org/reference/expressions/loop-expr.html#infinite-loops" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> until <code class="language-rust"><span class="token keyword keyword-break">break</span></code>. Can yield value with <code class="language-rust"><span class="token keyword keyword-break">break</span> x</code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-for">for</span> x <span class="token keyword keyword-in">in</span> collection <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Syntactic sugar to loop over <strong>iterators</strong>. <a href="https://doc.rust-lang.org/book/ch13-02-iterators.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/std/iter/index.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/reference/expressions/loop-expr.html#iterator-loops" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><less-important> <span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> 
<a class="tooltip" style="font-size:70%;position:relative;left:3px;color:grey" title="The parent item expands to ...">↪&nbsp;</a>  <code class="language-rust">collection<span class="token punctuation">.</span><span class="token function">into_iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> </less-important></td><td><less-important>Effectively converts any  <strong><code class="language-rust"><span class="token class-name">IntoIterator</span></code></strong> <a href="https://doc.rust-lang.org/std/iter/trait.IntoIterator.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> type into proper iterator first. </less-important></td></tr>
<tr><td><less-important> <span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> 
<a class="tooltip" style="font-size:70%;position:relative;left:3px;color:grey" title="The parent item expands to ...">↪&nbsp;</a>  <code class="language-rust">iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> </less-important></td><td><less-important>On proper <strong><code class="language-rust"><span class="token class-name">Iterator</span></code></strong> <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> then <code class="language-rust">x <span class="token operator">=</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> until exhausted (first <code class="language-rust"><span class="token class-name">None</span></code>). </less-important></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-if">if</span> x <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><strong>Conditional branch</strong> <a href="https://doc.rust-lang.org/reference/expressions/if-expr.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> if expression is true.</td></tr>
<tr><td><code class="language-rust"><span class="token lifetime-annotation symbol">'label</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><strong>Block label</strong>, <a href="https://rust-lang.github.io/rfcs/2046-label-break-value.html" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a>  can be used with <code class="language-rust"><span class="token keyword keyword-break">break</span></code> to exit out of this block. <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>1.65+</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token lifetime-annotation symbol">'label</span><span class="token punctuation">:</span> <span class="token keyword keyword-loop">loop</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Similar <strong>loop label</strong>, <a href="https://doc.rust-lang.org/stable/rust-by-example/flow_control/loop/nested.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/expressions/loop-expr.html#loop-labels" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> useful for flow control in nested loops.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-break">break</span></code></td><td><strong>Break expression</strong> <a href="https://doc.rust-lang.org/reference/expressions/loop-expr.html#break-expressions" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> to exit a labelled block or loop.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-break">break</span> <span class="token lifetime-annotation symbol">'label</span> x</code></td><td>Break out of block or loop named <code class="language-rust"><span class="token lifetime-annotation symbol">'label</span></code> and make <code class="language-rust">x</code> its value.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-break">break</span> <span class="token lifetime-annotation symbol">'label</span></code></td><td>Same, but don't produce any value.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-break">break</span> x</code></td><td>Make <code class="language-rust">x</code> value of the innermost loop (only in actual <code class="language-rust"><span class="token keyword keyword-loop">loop</span></code>).</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-continue">continue</span> </code></td><td><strong>Continue expression</strong> <a href="https://doc.rust-lang.org/reference/expressions/loop-expr.html#continue-expressions" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> to the next loop iteration of this loop.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-continue">continue</span> <span class="token lifetime-annotation symbol">'label</span></code></td><td>Same but instead of this loop, enclosing loop marked with 'label.</td></tr>
<tr><td><code class="language-rust">x<span class="token operator">?</span></code></td><td>If <code class="language-rust">x</code> is <a href="https://doc.rust-lang.org/std/result/enum.Result.html#variant.Err">Err</a> or <a href="https://doc.rust-lang.org/std/option/enum.Option.html#variant.None">None</a>, <strong>return and propagate</strong>. <a href="https://doc.rust-lang.org/book/ch09-02-recoverable-errors-with-result.html#propagating-errors" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/error/result/enter_question_mark.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/std/result/index.html#the-question-mark-operator-" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/reference/expressions/operator-expr.html#the-question-mark-operator" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token keyword keyword-await">await</span></code></td><td>Syntactic sugar to <strong>get future, poll, yield</strong>.  <a href="https://doc.rust-lang.org/reference/expressions/await-expr.html#await-expressions" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a>  <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'18</sup></a> Only inside <code class="language-rust"><span class="token keyword keyword-async">async</span></code>.</td></tr>
<tr><td><less-important> <span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> 
<a class="tooltip" style="font-size:70%;position:relative;left:3px;color:grey" title="The parent item expands to ...">↪&nbsp;</a> <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">into_future</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> </less-important></td><td><less-important> Effectively converts any  <strong><code class="language-rust"><span class="token class-name">IntoFuture</span></code></strong> <a href="https://doc.rust-lang.org/std/future/trait.IntoFuture.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> type into proper future first. </less-important></td></tr>
<tr><td><less-important> <span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> 
<a class="tooltip" style="font-size:70%;position:relative;left:3px;color:grey" title="The parent item expands to ...">↪&nbsp;</a> <code class="language-rust">future<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> </less-important></td><td><less-important> On proper <strong><code class="language-rust"><span class="token class-name">Future</span></code></strong> <a href="https://doc.rust-lang.org/std/future/trait.Future.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> then <code class="language-rust"><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and yield flow if <strong><code class="language-rust"><span class="token class-name">Poll</span><span class="token punctuation">::</span><span class="token class-name">Pending</span></code></strong>. <a href="https://doc.rust-lang.org/std/task/enum.Poll.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> </less-important></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-return">return</span> x</code></td><td><strong>Early return</strong> <a href="https://doc.rust-lang.org/reference/expressions/return-expr.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> from fn. More idiomatic is to end with expression.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token punctuation">}</span></code></td><td>Inside normal <code class="language-rust"><span class="token punctuation">{</span><span class="token punctuation">}</span></code>-blocks <code class="language-rust"><span class="token keyword keyword-return">return</span></code> exits surrounding function.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token punctuation">}</span></code></td><td>Within closures <code class="language-rust"><span class="token keyword keyword-return">return</span></code> exits that <em>c.</em> only, i.e., closure is <em>s. fn.</em></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token punctuation">}</span></code></td><td>Inside <code class="language-rust"><span class="token keyword keyword-async">async</span></code> a <code class="language-rust"><span class="token keyword keyword-return">return</span></code> <strong>only</strong> <a href="https://doc.rust-lang.org/reference/expressions/block-expr.html#control-flow-operators" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> exits that <code class="language-rust"><span class="token punctuation">{</span><span class="token punctuation">}</span></code>, i.e., <code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> is <em>s. fn.</em></td></tr>
<tr><td><code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td>Invoke callable <code class="language-rust">f</code> (e.g., a function, closure, function pointer, <code class="language-rust"><span class="token class-name">Fn</span></code>, …).</td></tr>
<tr><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td>Call member fn, requires <code class="language-rust">f</code> takes <code class="language-rust"><span class="token keyword keyword-self">self</span></code>, <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-self">self</span></code>, … as first argument.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token class-name">X</span><span class="token punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></td><td>Same as <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Unless <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Copy</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">X</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>, <code class="language-rust">f</code> can only be called once.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token class-name">X</span><span class="token punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span></code></td><td>Same as <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token class-name">X</span><span class="token punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> x<span class="token punctuation">)</span></code></td><td>Same as <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token class-name">S</span><span class="token punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span></code></td><td>Same as <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> if <code class="language-rust"><span class="token class-name">X</span></code> <a href="https://doc.rust-lang.org/std/ops/trait.Deref.html">derefs</a> to <code class="language-rust"><span class="token class-name">S</span></code>, i.e., <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> finds methods of <code class="language-rust"><span class="token class-name">S</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span></code></td><td>Same as <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> if <code class="language-rust"><span class="token class-name">X</span> <span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span></code>, i.e., <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> finds methods of <code class="language-rust"><span class="token class-name">T</span></code> if in scope.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">X</span><span class="token punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td>Call associated function, e.g., <code class="language-rust"><span class="token class-name">X</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token operator">&lt;</span><span class="token class-name">X</span> <span class="token keyword keyword-as">as</span> <span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td>Call trait method <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> implemented for <code class="language-rust"><span class="token class-name">X</span></code>.</td></tr>
</tbody></table>
</fixed-2-column>
<h3 id="organizing-code">Organizing Code<sup id="target-organizing-code" class="target"><a href="#organizing-code">url</a></sup><feedback element-id="organizing-code" id="feedback-organizing-code">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-organizing-code', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-organizing-code');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-organizing-code', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-organizing-code');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-organizing-code', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-organizing-code', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-organizing-code');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Segment projects into smaller units and minimize dependencies.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-mod">mod</span> <span class="token module-declaration namespace">m</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Define a <strong>module</strong>, <a href="https://doc.rust-lang.org/book/ch07-02-defining-modules-to-control-scope-and-privacy.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/mod.html#modules" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/items/modules.html#modules" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> get definition from inside <code class="language-rust"><span class="token punctuation">{</span><span class="token punctuation">}</span></code>. <a href="#project-anatomy" title="On this site, below."><sup>↓</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-mod">mod</span> <span class="token module-declaration namespace">m</span><span class="token punctuation">;</span></code></td><td>Define a module, get definition from <code class="language-rust">m<span class="token punctuation">.</span>rs</code> or <code class="language-rust">m<span class="token operator">/</span><span class="token keyword keyword-mod">mod</span><span class="token punctuation">.</span>rs</code>. <a href="#project-anatomy" title="On this site, below."><sup>↓</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token namespace">a<span class="token punctuation">::</span></span>b</code></td><td>Namespace <strong>path</strong> <a href="https://doc.rust-lang.org/stable/rust-by-example/mod/use.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/paths.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> to element <code class="language-rust">b</code> within <code class="language-rust">a</code> (<code class="language-rust"><span class="token keyword keyword-mod">mod</span></code>, <code class="language-rust"><span class="token keyword keyword-enum">enum</span></code>, …).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token punctuation">::</span>b</code></td><td>Search <code class="language-rust">b</code> in <strong>crate root</strong> <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'15</sup></a> <a href="https://doc.rust-lang.org/reference/glossary.html#crate" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> or <strong>ext. prelude</strong>; <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'18</sup></a> <a href="https://doc.rust-lang.org/reference/names/preludes.html#extern-prelude" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <strong>global path</strong>. <a href="https://doc.rust-lang.org/reference/paths.html#path-qualifiers" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Largely deprecated or outdated; prefer modern alternative."><sup>🗑️</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-crate">crate</span><span class="token module-declaration namespace"><span class="token punctuation">::</span>b</span></code></td><td>Search <code class="language-rust">b</code> in crate root. <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'18</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-self">self</span><span class="token module-declaration namespace"><span class="token punctuation">::</span>b</span></code></td><td>Search <code class="language-rust">b</code> in current module.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-super">super</span><span class="token module-declaration namespace"><span class="token punctuation">::</span>b</span></code></td><td>Search <code class="language-rust">b</code> in parent module.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-use">use</span> <span class="token namespace">a<span class="token punctuation">::</span></span>b<span class="token punctuation">;</span></code></td><td><strong>Use</strong> <a href="https://doc.rust-lang.org/stable/rust-by-example/mod/use.html#the-use-declaration" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/items/use-declarations.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <code class="language-rust">b</code> directly in this scope without requiring <code class="language-rust">a</code> anymore.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-use">use</span> <span class="token namespace">a<span class="token punctuation">::</span></span><span class="token punctuation">{</span>b<span class="token punctuation">,</span> c<span class="token punctuation">}</span><span class="token punctuation">;</span></code></td><td>Same, but bring <code class="language-rust">b</code> and <code class="language-rust">c</code> into scope.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-use">use</span> <span class="token namespace">a<span class="token punctuation">::</span></span>b <span class="token keyword keyword-as">as</span> x<span class="token punctuation">;</span></code></td><td>Bring <code class="language-rust">b</code> into scope but name <code class="language-rust">x</code>, like <code class="language-rust"><span class="token keyword keyword-use">use</span> <span class="token namespace">std<span class="token punctuation">::</span>error<span class="token punctuation">::</span></span><span class="token class-name">Error</span> <span class="token keyword keyword-as">as</span> <span class="token class-name">E</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-use">use</span> <span class="token namespace">a<span class="token punctuation">::</span></span>b <span class="token keyword keyword-as">as</span> _<span class="token punctuation">;</span></code></td><td>Bring <code class="language-rust">b</code> anon. into scope, useful for traits with conflicting names.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-use">use</span> <span class="token namespace">a<span class="token punctuation">::</span></span><span class="token operator">*</span><span class="token punctuation">;</span></code></td><td>Bring everything from <code class="language-rust">a</code> in, only recomm. if <code class="language-rust">a</code> is some <strong>prelude</strong>. <a href="https://doc.rust-lang.org/std/prelude/index.html#other-preludes" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a>  <a href="https://stackoverflow.com/questions/36384840/what-is-the-prelude" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-pub">pub</span> <span class="token keyword keyword-use">use</span> <span class="token namespace">a<span class="token punctuation">::</span></span>b<span class="token punctuation">;</span></code></td><td>Bring <code class="language-rust"><span class="token namespace">a<span class="token punctuation">::</span></span>b</code> into scope and reexport from here.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-pub">pub</span> <span class="token class-name">T</span></code></td><td>"Public if parent path is public" <strong>visibility</strong> <a href="https://doc.rust-lang.org/book/ch07-02-defining-modules-to-control-scope-and-privacy.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/reference/visibility-and-privacy.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> for <code class="language-rust"><span class="token class-name">T</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-pub">pub</span><span class="token punctuation">(</span><span class="token keyword keyword-crate">crate</span><span class="token punctuation">)</span> <span class="token class-name">T</span></code></td><td>Visible at most<sup>1</sup> in current crate.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-pub">pub</span><span class="token punctuation">(</span><span class="token keyword keyword-super">super</span><span class="token punctuation">)</span> <span class="token class-name">T</span></code></td><td>Visible at most<sup>1</sup> in parent.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-pub">pub</span><span class="token punctuation">(</span><span class="token keyword keyword-self">self</span><span class="token punctuation">)</span> <span class="token class-name">T</span></code></td><td>Visible at most<sup>1</sup> in current module (default, same as no <code class="language-rust"><span class="token keyword keyword-pub">pub</span></code>).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-pub">pub</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token namespace">a<span class="token punctuation">::</span></span>b<span class="token punctuation">)</span> <span class="token class-name">T</span></code></td><td>Visible at most<sup>1</sup> in ancestor <code class="language-rust"><span class="token namespace">a<span class="token punctuation">::</span></span>b</code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-extern">extern</span> <span class="token keyword keyword-crate">crate</span> <span class="token module-declaration namespace">a</span><span class="token punctuation">;</span></code></td><td>Declare dependency on external <strong>crate</strong>; <a href="https://doc.rust-lang.org/book/ch02-00-guessing-game-tutorial.html#using-a-crate-to-get-more-functionality" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/reference/items/extern-crates.html#extern-crate-declarations" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Largely deprecated or outdated; prefer modern alternative."><sup>🗑️</sup></a> just <code class="language-rust"><span class="token keyword keyword-use">use</span> <span class="token namespace">a<span class="token punctuation">::</span></span>b</code> in <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'18</sup></a>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-extern">extern</span> <span class="token string">"C"</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><em>Declare</em> external dependencies and ABI (e.g., <code class="language-rust"><span class="token string">"C"</span></code>) from <strong>FFI</strong>. <a href="https://doc.rust-lang.org/book/ch19-01-unsafe-rust.html#using-extern-functions-to-call-external-code" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/std_misc/ffi.html#foreign-function-interface" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/nightly/nomicon/ffi.html#calling-foreign-functions" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> <a href="https://doc.rust-lang.org/reference/items/external-blocks.html#external-blocks" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-extern">extern</span> <span class="token string">"C"</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><em>Define</em> function to be exported with ABI (e.g., <code class="language-rust"><span class="token string">"C"</span></code>) to FFI.</td></tr>
</tbody></table>
</fixed-2-column>
<footnotes>
<p><sup>1</sup> Items in child modules always have access to any item, regardless if <code class="language-rust"><span class="token keyword keyword-pub">pub</span></code> or not.</p>
</footnotes>
<h3 id="type-aliases-and-casts">Type Aliases and Casts<sup id="target-type-aliases-and-casts" class="target"><a href="#type-aliases-and-casts">url</a></sup><feedback element-id="type-aliases-and-casts" id="feedback-type-aliases-and-casts">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-type-aliases-and-casts', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-type-aliases-and-casts');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-type-aliases-and-casts', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-type-aliases-and-casts');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-type-aliases-and-casts', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-type-aliases-and-casts', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-type-aliases-and-casts');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Short-hand names of types, and methods to convert one type to another.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">T</span> <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">;</span></code></td><td>Create a <strong>type alias</strong>, <a href="https://doc.rust-lang.org/book/ch19-04-advanced-types.html#creating-type-synonyms-with-type-aliases" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/reference/items/type-aliases.html#type-aliases" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> i.e., another name for <code class="language-rust"><span class="token class-name">S</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code></td><td>Type alias for <strong>implementing type</strong>, <a href="https://doc.rust-lang.org/reference/types.html#self-types" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> e.g., <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword keyword-Self">Self</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-self">self</span></code></td><td><strong>Method subject</strong> <a href="https://doc.rust-lang.org/book/ch05-03-method-syntax.html#method-syntax" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/reference/items/associated-items.html#methods" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> in <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token keyword keyword-self">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>, e.g., akin to <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token keyword keyword-self">self</span><span class="token punctuation">:</span> <span class="token keyword keyword-Self">Self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-self">self</span></code></td><td>Same, but refers to self as borrowed, would equal <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword keyword-self">self</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword keyword-Self">Self</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-self">self</span></code></td><td>Same, but mutably borrowed, would equal <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword keyword-self">self</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-Self">Self</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token keyword keyword-self">self</span><span class="token punctuation">:</span> <span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token keyword keyword-Self">Self</span><span class="token operator">&gt;</span></code></td><td><a href="https://github.com/withoutboats/rfcs/blob/arbitray-receivers/text/0000-century-of-the-self-type.md"><strong>Arbitrary self type</strong></a>, add methods to smart ptrs (<code class="language-rust">my_box<span class="token punctuation">.</span><span class="token function">f_of_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>).</td></tr>
<tr><td><code class="language-rust"><span class="token operator">&lt;</span><span class="token class-name">S</span> <span class="token keyword keyword-as">as</span> <span class="token class-name">T</span><span class="token operator">&gt;</span></code></td><td><strong>Disambiguate</strong> <a href="https://doc.rust-lang.org/book/ch19-03-advanced-traits.html#fully-qualified-syntax-for-disambiguation-calling-methods-with-the-same-name" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/reference/expressions/call-expr.html#disambiguating-function-calls" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> type <code class="language-rust"><span class="token class-name">S</span></code> as trait <code class="language-rust"><span class="token class-name">T</span></code>, e.g., <code class="language-rust"><span class="token operator">&lt;</span><span class="token class-name">S</span> <span class="token keyword keyword-as">as</span> <span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token namespace">a<span class="token punctuation">::</span></span>b <span class="token keyword keyword-as">as</span> c</code></td><td>In <code class="language-rust"><span class="token keyword keyword-use">use</span></code> of symbol, import <code class="language-rust"><span class="token class-name">S</span></code> as <code class="language-rust"><span class="token class-name">R</span></code>, e.g., <code class="language-rust"><span class="token keyword keyword-use">use</span> <span class="token namespace">a<span class="token punctuation">::</span></span><span class="token class-name">S</span> <span class="token keyword keyword-as">as</span> <span class="token class-name">R</span></code>.</td></tr>
<tr><td><code class="language-rust">x <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u32">u32</span></code></td><td>Primitive <strong>cast</strong>, <a href="https://doc.rust-lang.org/stable/rust-by-example/types/cast.html#casting" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/expressions/operator-expr.html#type-cast-expressions" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> may truncate and be a bit surprising. <sup>1</sup> <a href="https://doc.rust-lang.org/nightly/nomicon/casts.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a></td></tr>
</tbody></table>
</fixed-2-column>
<footnotes>
<p><sup>1</sup> See <a href="https://cheats.rs/#type-conversions"><strong>Type Conversions</strong></a> below for all the ways to convert between types.</p>
</footnotes>
<h3 id="macros-attributes">Macros &amp; Attributes<sup id="target-macros-attributes" class="target"><a href="#macros-attributes">url</a></sup><feedback element-id="macros-attributes" id="feedback-macros-attributes">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-macros-attributes', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-macros-attributes');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-macros-attributes', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-macros-attributes');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-macros-attributes', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-macros-attributes', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-macros-attributes');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Code generation constructs expanded before the actual compilation happens.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token macro property">m!</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td><strong>Macro</strong> <a href="https://doc.rust-lang.org/book/ch19-06-macros.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/std/index.html#macros" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/reference/macros.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> invocation, also <code class="language-rust"><span class="token macro property">m!</span><span class="token punctuation">{</span><span class="token punctuation">}</span></code>, <code class="language-rust"><span class="token macro property">m!</span><span class="token punctuation">[</span><span class="token punctuation">]</span></code> (depending on macro).</td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[attr]</span></code></td><td>Outer <strong>attribute</strong>, <a href="https://doc.rust-lang.org/stable/rust-by-example/attribute.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/attributes.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> annotating the following item.</td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![attr]</span></code></td><td>Inner attribute, annotating the <em>upper</em>, surrounding item.</td></tr>
</tbody></table>
</fixed-2-column>
<div>&nbsp;</div><fixed-2-column class="color-header special_example">
<table><thead><tr><th>Inside Macros <sup>1</sup></th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">ty</span></code></td><td>Macro capture, the <code class="language-rust"><span class="token punctuation">:</span>…</code> <strong>fragment</strong> <a href="https://doc.rust-lang.org/reference/macros-by-example.html#metavariables" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> declares what is allowed for <code class="language-rust"><span class="token variable">$x</span></code>. <sup>2</sup></td></tr>
<tr><td><code class="language-rust"><span class="token variable">$x</span></code></td><td>Macro substitution, e.g., use the captured <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">ty</span></code> from above.</td></tr>
<tr><td><code class="language-rust">$<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">*</span></code></td><td>Macro <strong>repetition</strong> <a href="https://doc.rust-lang.org/reference/macros-by-example.html#repetitions" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <em>zero or more times</em>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">$<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">+</span></code></td><td>Same, but <em>one or more times</em>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">$<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">?</span></code></td><td>Same, but <em>zero or one time</em> (separator doesn't apply).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">$<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token operator">+</span></code></td><td>In fact separators other than <code class="language-rust"><span class="token punctuation">,</span></code> are also accepted. Here: <code class="language-rust"><span class="token operator">&lt;&lt;</span></code>.</td></tr>
</tbody></table>
</fixed-2-column>
<footnotes>
<p><sup>1</sup> Applies to <strong>'macros by example'</strong>. <a href="https://doc.rust-lang.org/reference/macros-by-example.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <br>
<sup>2</sup> See <a href="https://cheats.rs/#tooling-directives"><strong>Tooling Directives</strong></a> below for all captures.</p>
</footnotes>
<h3 id="pattern-matching">Pattern Matching<sup id="target-pattern-matching" class="target"><a href="#pattern-matching">url</a></sup><feedback element-id="pattern-matching" id="feedback-pattern-matching">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-pattern-matching', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-pattern-matching');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-pattern-matching', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-pattern-matching');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-pattern-matching', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-pattern-matching', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-pattern-matching');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Constructs found in <code class="language-rust"><span class="token keyword keyword-match">match</span></code> or <code class="language-rust"><span class="token keyword keyword-let">let</span></code> expressions, or function parameters.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-match">match</span> m <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Initiate <strong>pattern matching</strong>, <a href="https://doc.rust-lang.org/book/ch06-02-match.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/flow_control/match.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/expressions/match-expr.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> then use match arms, <em>c</em>. next table.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token class-name">S</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Notably, <code class="language-rust"><span class="token keyword keyword-let">let</span></code> also <strong>destructures</strong> <a href="https://doc.rust-lang.org/stable/rust-by-example/flow_control/match/destructuring.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> similar to the table below.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token class-name">S</span> <span class="token punctuation">{</span> x <span class="token punctuation">}</span> <span class="token operator">=</span> s<span class="token punctuation">;</span></code></td><td>Only <code class="language-rust">x</code> will be bound to value <code class="language-rust">s<span class="token punctuation">.</span>x</code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token operator">=</span> abc<span class="token punctuation">;</span></code></td><td>Only <code class="language-rust">b</code> will be bound to value <code class="language-rust">abc<span class="token number">.1</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">..</span><span class="token punctuation">)</span> <span class="token operator">=</span> abc<span class="token punctuation">;</span></code></td><td>Ignoring 'the rest' also works.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token punctuation">(</span><span class="token punctuation">..</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Specific bindings take precedence over 'the rest', here <code class="language-rust">a</code> is <code class="language-rust"><span class="token number">1</span></code>, <code class="language-rust">b</code> is <code class="language-rust"><span class="token number">2</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-let">let</span> s <span class="token operator">@</span> <span class="token class-name">S</span> <span class="token punctuation">{</span> x <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Bind <code class="language-rust">s</code> to <code class="language-rust"><span class="token class-name">S</span></code> while <code class="language-rust">x</code> is bnd. to <code class="language-rust">s<span class="token punctuation">.</span>x</code>, <strong>pattern binding</strong>, <a href="https://doc.rust-lang.org/book/ch18-03-pattern-syntax.html#-bindings" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/flow_control/match/binding.html#binding" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/patterns.html#identifier-patterns" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <em>c</em>. below <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-let">let</span> w <span class="token operator">@</span> t <span class="token operator">@</span> f <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Stores 3 copies of <code class="language-rust"><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> result in each <code class="language-rust">w</code>, <code class="language-rust">t</code>, <code class="language-rust">f</code>. <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>x<span class="token closure-punctuation punctuation">|</span></span> x<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Pathological or-pattern,<a href="#pattern-matching" title="On this site, below."><sup>↓</sup></a> <strong>not</strong> closure.<a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> Same as <code class="language-rust"><span class="token keyword keyword-let">let</span> x <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td><strong>Won't</strong> work <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> if p. can be <strong>refuted</strong>, <a href="https://doc.rust-lang.org/reference/expressions/if-expr.html#if-let-expressions" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> use <code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token keyword keyword-else">else</span></code> or <code class="language-rust"><span class="token keyword keyword-if">if</span> <span class="token keyword keyword-let">let</span></code> instead.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></td><td>Try to assign <a href="https://rust-lang.github.io/rfcs/3137-let-else.html" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a> if not <code class="language-rust"><span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> w. must <code class="language-rust"><span class="token keyword keyword-break">break</span></code>, <code class="language-rust"><span class="token keyword keyword-return">return</span></code>, <code class="language-rust"><span class="token macro property">panic!</span></code>, … <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>1.65+</sup></a> <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-if">if</span> <span class="token keyword keyword-let">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Branch if pattern can be assigned (e.g., <code class="language-rust"><span class="token keyword keyword-enum">enum</span></code> variant), syntactic sugar. <sup>*</sup></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-while">while</span> <span class="token keyword keyword-let">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Equiv.; here keep calling <code class="language-rust"><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, run <code class="language-rust"><span class="token punctuation">{</span><span class="token punctuation">}</span></code> as long as <em>p.</em> can be assigned.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token class-name">S</span> <span class="token punctuation">{</span> x <span class="token punctuation">}</span><span class="token punctuation">:</span> <span class="token class-name">S</span><span class="token punctuation">)</span></code></td><td>Function param. also work like <code class="language-rust"><span class="token keyword keyword-let">let</span></code>, here <code class="language-rust">x</code> bound to <code class="language-rust">s<span class="token punctuation">.</span>x</code> of <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></code>. <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
</tbody></table>
</fixed-2-column>
<footnotes>
<p><sup>*</sup> Desugars to <code class="language-rust"><span class="token keyword keyword-match">match</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> _ <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></code>.</p>
</footnotes>
<div>&nbsp;</div>
<p>Pattern matching arms in <code class="language-rust"><span class="token keyword keyword-match">match</span></code> expressions. Left side of these arms can also be found in <code class="language-rust"><span class="token keyword keyword-let">let</span></code> expressions.</p>
<fixed-2-column class="color-header special_example">
<table><thead><tr><th>Within Match Arm</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">E</span><span class="token punctuation">::</span><span class="token class-name">A</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Match enum variant <code class="language-rust"><span class="token class-name">A</span></code>, <em>c</em>. <strong>pattern matching</strong>. <a href="https://doc.rust-lang.org/book/ch06-02-match.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/flow_control/match.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/expressions/match-expr.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">E</span><span class="token punctuation">::</span><span class="token class-name">B</span> <span class="token punctuation">(</span> <span class="token punctuation">..</span> <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Match enum tuple variant <code class="language-rust"><span class="token class-name">B</span></code>, ignoring any index.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">E</span><span class="token punctuation">::</span><span class="token class-name">C</span> <span class="token punctuation">{</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Match enum struct variant <code class="language-rust"><span class="token class-name">C</span></code>, ignoring any field.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Match <em>s.</em> with specific values (only <code class="language-rust">s</code> with <code class="language-rust">s<span class="token punctuation">.</span>x</code> of <code class="language-rust"><span class="token number">0</span></code> and <code class="language-rust">s<span class="token punctuation">.</span>y</code> of <code class="language-rust"><span class="token number">1</span></code>).</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> a<span class="token punctuation">,</span> y<span class="token punctuation">:</span> b <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Match <em>s.</em> with <em>any</em> <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> values and bind <code class="language-rust">s<span class="token punctuation">.</span>x</code> to <code class="language-rust">a</code> and <code class="language-rust">s<span class="token punctuation">.</span>y</code> to <code class="language-rust">b</code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token class-name">S</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Same, but shorthand with <code class="language-rust">s<span class="token punctuation">.</span>x</code> and <code class="language-rust">s<span class="token punctuation">.</span>y</code> bound as <code class="language-rust">x</code> and <code class="language-rust">y</code> respectively.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Match struct with any values.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">D</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Match enum variant <code class="language-rust"><span class="token class-name">E</span><span class="token punctuation">::</span><span class="token class-name">D</span></code> if <code class="language-rust"><span class="token class-name">D</span></code> in <code class="language-rust"><span class="token keyword keyword-use">use</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">D</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Match anything, bind <code class="language-rust"><span class="token class-name">D</span></code>; possibly false friend <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> of <code class="language-rust"><span class="token class-name">E</span><span class="token punctuation">::</span><span class="token class-name">D</span></code> if <code class="language-rust"><span class="token class-name">D</span></code> not in <code class="language-rust"><span class="token keyword keyword-use">use</span></code>.</td></tr>
<tr><td><code class="language-rust">_ <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Proper wildcard that matches anything / "all the rest".</td></tr>
<tr><td><code class="language-rust"><span class="token number">0</span> <span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Pattern alternatives, <strong>or-patterns</strong>. <a href="https://rust-lang.github.io/rfcs/2535-or-patterns.html" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token class-name">E</span><span class="token punctuation">::</span><span class="token class-name">A</span> <span class="token operator">|</span> <span class="token class-name">E</span><span class="token punctuation">::</span><span class="token class-name">Z</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Same, but on enum variants.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token class-name">E</span><span class="token punctuation">::</span><span class="token class-name">C</span> <span class="token punctuation">{</span>x<span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token class-name">E</span><span class="token punctuation">::</span><span class="token class-name">D</span> <span class="token punctuation">{</span>x<span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Same, but bind <code class="language-rust">x</code> if all variants have it.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token class-name">A</span> <span class="token operator">|</span> <span class="token class-name">B</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Same, can also match alternatives deeply nested.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  <code class="language-rust"><span class="token operator">|</span>x<span class="token operator">|</span> x <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><strong>Pathological or-pattern</strong>,<a href="#pattern-matching" title="On this site, above."><sup>↑</sup></a><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> leading <code class="language-rust"><span class="token operator">|</span></code> ignored, is just <code class="language-rust">x <span class="token operator">|</span> x</code>, thus <code class="language-rust">x</code>. <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Match tuple with any value for <code class="language-rust">a</code> and <code class="language-rust"><span class="token number">0</span></code> for second.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">[</span>a<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><strong>Slice pattern</strong>, <a href="https://doc.rust-lang.org/reference/patterns.html#slice-patterns" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a href="https://doc.rust-lang.org/edition-guide/rust-2018/slice-patterns.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> match array with any value for <code class="language-rust">a</code> and <code class="language-rust"><span class="token number">0</span></code> for second.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">..</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Match array starting with <code class="language-rust"><span class="token number">1</span></code>, any value for rest; <strong>subslice pattern</strong>.  <a href="https://doc.rust-lang.org/reference/patterns.html#rest-patterns" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a href="https://rust-lang.github.io/rfcs/2359-subslice-pattern-syntax.html" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">..</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Match array starting with <code class="language-rust"><span class="token number">1</span></code>, ending with <code class="language-rust"><span class="token number">5</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> x <span class="token operator">@</span> <span class="token punctuation">..</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Same, but also bind <code class="language-rust">x</code> to slice representing middle (<em>c.</em> pattern binding).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token punctuation">[</span>a<span class="token punctuation">,</span> x <span class="token operator">@</span> <span class="token punctuation">..</span><span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Same, but match any first, last, bound as <code class="language-rust">a</code>, <code class="language-rust">b</code> respectively.</td></tr>
<tr><td><code class="language-rust"><span class="token number">1</span> <span class="token punctuation">..</span> <span class="token number">3</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><strong>Range pattern</strong>, <a href="https://doc.rust-lang.org/book/ch18-03-pattern-syntax.html#matching-ranges-of-values-with-" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/reference/patterns.html#range-patterns" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> here matches <code class="language-rust"><span class="token number">1</span></code> and <code class="language-rust"><span class="token number">2</span></code>; partially unstable. <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token number">1</span> <span class="token punctuation">..=</span> <span class="token number">3</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Inclusive range pattern, matches <code class="language-rust"><span class="token number">1</span></code>, <code class="language-rust"><span class="token number">2</span></code> and <code class="language-rust"><span class="token number">3</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token number">1</span> <span class="token punctuation">..</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Open range pattern, matches <code class="language-rust"><span class="token number">1</span></code> and any larger number.</td></tr>
<tr><td><code class="language-rust">x <span class="token operator">@</span> <span class="token number">1</span><span class="token punctuation">..=</span><span class="token number">5</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Bind matched to <code class="language-rust">x</code>; <strong>pattern binding</strong>, <a href="https://doc.rust-lang.org/book/ch18-03-pattern-syntax.html#-bindings" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/flow_control/match/binding.html#binding" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/patterns.html#identifier-patterns" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> here <code class="language-rust">x</code> would be <code class="language-rust"><span class="token number">1</span></code> … <code class="language-rust"><span class="token number">5</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token class-name">Err</span><span class="token punctuation">(</span>x <span class="token operator">@</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span><span class="token punctuation">..</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Also works nested, here <code class="language-rust">x</code> binds to <code class="language-rust"><span class="token class-name">Error</span></code>, esp. useful with <code class="language-rust"><span class="token keyword keyword-if">if</span></code> below.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span> <span class="token punctuation">{</span> x <span class="token punctuation">}</span> <span class="token keyword keyword-if">if</span> x <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Pattern <strong>match guards</strong>, <a href="https://doc.rust-lang.org/book/ch18-03-pattern-syntax.html#extra-conditionals-with-match-guards" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/flow_control/match/guard.html#guards" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/expressions/match-expr.html#match-guards" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> condition must be true as well to match.</td></tr>
</tbody></table>
</fixed-2-column>
<h3 id="generics-constraints">Generics &amp; Constraints<sup id="target-generics-constraints" class="target"><a href="#generics-constraints">url</a></sup><feedback element-id="generics-constraints" id="feedback-generics-constraints">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-generics-constraints', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-generics-constraints');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-generics-constraints', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-generics-constraints');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-generics-constraints', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-generics-constraints', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-generics-constraints');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Generics combine with type constructors, traits and functions to give your users more flexibility.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> …</code></td><td>A <strong>generic</strong> <a href="https://doc.rust-lang.org/book/ch10-01-syntax.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/generics.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> type with a type parameter (<code class="language-rust"><span class="token class-name">T</span></code> is placeholder here).</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">R</span></code></td><td><strong>Trait bound</strong>, <a href="https://doc.rust-lang.org/book/ch10-02-traits.html#using-trait-bounds-to-conditionally-implement-methods" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/generics/bounds.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/trait-bounds.html#trait-and-lifetime-bounds" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> limits allowed <code class="language-rust"><span class="token class-name">T</span></code>, guarantees <code class="language-rust"><span class="token class-name">T</span></code> has trait <code class="language-rust"><span class="token class-name">R</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">P</span><span class="token punctuation">:</span> <span class="token class-name">S</span></code></td><td><strong>Independent trait bounds</strong>, here one for <code class="language-rust"><span class="token class-name">T</span></code> and one for (not shown) <code class="language-rust"><span class="token class-name">P</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">S</span></code></td><td>Compile error, <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> you probably want compound bound <code class="language-rust"><span class="token class-name">R</span> <span class="token operator">+</span> <span class="token class-name">S</span></code> below.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">R</span> <span class="token operator">+</span> <span class="token class-name">S</span></code></td><td><strong>Compound trait bound</strong>, <a href="https://doc.rust-lang.org/book/ch10-02-traits.html#specifying-multiple-trait-bounds-with-the--syntax" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/generics/multi_bounds.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <code class="language-rust"><span class="token class-name">T</span></code> must fulfill <code class="language-rust"><span class="token class-name">R</span></code> and <code class="language-rust"><span class="token class-name">S</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">R</span> <span class="token operator">+</span> <span class="token lifetime-annotation symbol">'a</span></code></td><td>Same, but w. lifetime. <code class="language-rust"><span class="token class-name">T</span></code> must fulfill <code class="language-rust"><span class="token class-name">R</span></code>, if <code class="language-rust"><span class="token class-name">T</span></code> has <em>lt.</em>, must outlive <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token operator">?</span><span class="token class-name">Sized</span></code></td><td>Opt out of a pre-defined trait bound, here <code class="language-rust"><span class="token class-name">Sized</span></code>. <a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token lifetime-annotation symbol">'a</span></code></td><td>Type <strong>lifetime bound</strong>; <a href="https://doc.rust-lang.org/stable/rust-by-example/scope/lifetime/lifetime_bounds.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> if T has references, they must outlive <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token lifetime-annotation symbol">'static</span></code></td><td>Same; does <em>not</em> mean value <code class="language-rust">t</code> <em>will</em> <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> live <code class="language-rust"><span class="token lifetime-annotation symbol">'static</span></code>, only that it could.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-where">where</span> <span class="token lifetime-annotation symbol">'b</span><span class="token punctuation">:</span> <span class="token lifetime-annotation symbol">'a</span></code></td><td>Lifetime <code class="language-rust"><span class="token lifetime-annotation symbol">'b</span></code> must live at least as long as (i.e., <em>outlive</em>) <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code> bound.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-where">where</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">:</span> <span class="token class-name">R</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></td><td>Can also make conditional statements involving <em>other</em> types. <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">R</span><span class="token operator">&gt;</span></code></td><td>Short hand bound, almost same as above, shorter to write.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-const">const</span> <span class="token class-name">N</span><span class="token punctuation">:</span> <span class="token keyword keyword-usize">usize</span><span class="token operator">&gt;</span></code></td><td><strong>Generic const bound</strong>; <a href="https://doc.rust-lang.org/reference/items/generics.html#const-generics" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> user of type <code class="language-rust"><span class="token class-name">S</span></code> can provide constant value <code class="language-rust"><span class="token class-name">N</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token number">10</span><span class="token operator">&gt;</span></code></td><td>Where used, const bounds can be provided as primitive values.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token operator">&gt;</span></code></td><td>Expressions must be put in curly brackets.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span> <span class="token operator">=</span> <span class="token class-name">R</span><span class="token operator">&gt;</span></code></td><td><strong>Default parameters</strong>; <a href="https://doc.rust-lang.org/book/ch19-03-advanced-traits.html#default-generic-type-parameters-and-operator-overloading" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> makes <code class="language-rust"><span class="token class-name">S</span></code> a bit easier to use, but keeps flexible.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-const">const</span> <span class="token class-name">N</span><span class="token punctuation">:</span> <span class="token keyword keyword-u8">u8</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">&gt;</span></code></td><td>Default parameter for constants; e.g., in <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> param <code class="language-rust"><span class="token class-name">N</span></code> is <code class="language-rust"><span class="token number">0</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span> <span class="token operator">=</span> <span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></td><td>Default parameter for types, e.g., in <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> param <code class="language-rust"><span class="token class-name">T</span></code> is <code class="language-rust"><span class="token keyword keyword-u8">u8</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'_</span><span class="token operator">&gt;</span></code></td><td>Inferred <strong>anonymous lt.</strong>; asks compiler to <em>'figure it out'</em> if obvious.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span>_<span class="token operator">&gt;</span></code></td><td>Inferred <strong>anonymous type</strong>, e.g., as <code class="language-rust"><span class="token keyword keyword-let">let</span> x<span class="token punctuation">:</span> <span class="token class-name">Vec</span><span class="token operator">&lt;</span>_<span class="token operator">&gt;</span> <span class="token operator">=</span> iter<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">S</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></td><td><strong>Turbofish</strong> <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.collect" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> call site type disambiguation, e.g., <code class="language-rust"><span class="token function">f</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token keyword keyword-u32">u32</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">T</span><span class="token operator">&lt;</span><span class="token class-name">X</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>A trait generic over <code class="language-rust"><span class="token class-name">X</span></code>. Can have multiple <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span></code> (one per <code class="language-rust"><span class="token class-name">X</span></code>).</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">T</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">X</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></td><td>Defines <strong>associated type</strong> <a href="https://doc.rust-lang.org/book/ch19-03-advanced-traits.html#specifying-placeholder-types-in-trait-definitions-with-associated-types" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/reference/items/associated-items.html#associated-types" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a href="https://rust-lang.github.io/rfcs/0195-associated-items.html" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a> <code class="language-rust"><span class="token class-name">X</span></code>. Only one <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span></code> possible.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">T</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">X</span><span class="token operator">&lt;</span><span class="token class-name">G</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></td><td>Defines <strong>generic associated type</strong> (GAT), <a href="https://rust-lang.github.io/rfcs/1598-generic_associated_types.html" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a> <code class="language-rust"><span class="token class-name">X</span></code> can be generic <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">T</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">X</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></td><td>Defines a GAT generic over a lifetime.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">X</span> <span class="token operator">=</span> <span class="token class-name">R</span><span class="token punctuation">;</span></code></td><td>Set associated type within <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">X</span> <span class="token operator">=</span> <span class="token class-name">R</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">X</span><span class="token operator">&lt;</span><span class="token class-name">G</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token class-name">R</span><span class="token operator">&lt;</span><span class="token class-name">G</span><span class="token operator">&gt;</span><span class="token punctuation">;</span></code></td><td>Same for GAT, e.g., <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">X</span><span class="token operator">&lt;</span><span class="token class-name">G</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">G</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Impl. <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code>'s for any <code class="language-rust"><span class="token class-name">T</span></code> in <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <strong><em>generically</em></strong>, <a href="https://doc.rust-lang.org/reference/items/implementations.html#generic-implementations" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> here <code class="language-rust"><span class="token class-name">T</span></code> ty. parameter.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Impl. <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code>'s for exactly <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <strong><em>inherently</em></strong>, <a href="https://doc.rust-lang.org/reference/items/implementations.html#inherent-implementations" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> here <code class="language-rust"><span class="token class-name">T</span></code> specific type, e.g., <code class="language-rust"><span class="token keyword keyword-u8">u8</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span></code></td><td><strong>Existential types</strong>, <a href="https://doc.rust-lang.org/book/ch10-02-traits.html#returning-types-that-implement-traits" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> returns an unknown-to-caller <code class="language-rust"><span class="token class-name">S</span></code> that <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span><span class="token punctuation">)</span></code></td><td>Trait bound via "<strong>impl traits</strong>", <a href="https://doc.rust-lang.org/book/ch10-02-traits.html#trait-bound-syntax" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> similar to <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token operator">&lt;</span><span class="token class-name">S</span><span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">S</span><span class="token punctuation">)</span></code> below.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword keyword-dyn">dyn</span> <span class="token class-name">T</span><span class="token punctuation">)</span></code></td><td>Invoke <code class="language-rust">f</code> via <strong>dynamic dispatch</strong>, <a href="https://doc.rust-lang.org/book/ch17-02-trait-objects.html#using-trait-objects-that-allow-for-values-of-different-types" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/reference/types.html#trait-objects" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <code class="language-rust">f</code> will not be instantiated for <code class="language-rust">x</code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token operator">&lt;</span><span class="token class-name">X</span><span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">X</span><span class="token punctuation">)</span></code></td><td>Fn. generic over <code class="language-rust"><span class="token class-name">X</span></code>, <code class="language-rust">f</code> will be instantiated ('<a href="https://en.wikipedia.org/wiki/Monomorphization">monomorphized</a>') per <code class="language-rust"><span class="token class-name">X</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-where">where</span> <span class="token keyword keyword-Self">Self</span><span class="token punctuation">:</span> <span class="token class-name">R</span><span class="token punctuation">;</span></code></td><td>In <code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">T</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>, make <code class="language-rust">f</code> accessible only on types known to also <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">R</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-where">where</span> <span class="token keyword keyword-Self">Self</span><span class="token punctuation">:</span> <span class="token class-name">Sized</span><span class="token punctuation">;</span></code></td><td>Using <code class="language-rust"><span class="token class-name">Sized</span></code> can opt <code class="language-rust">f</code> out of trait object vtable, enabling <code class="language-rust"><span class="token keyword keyword-dyn">dyn</span> <span class="token class-name">T</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-where">where</span> <span class="token keyword keyword-Self">Self</span><span class="token punctuation">:</span> <span class="token class-name">R</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Other <code class="language-rust"><span class="token class-name">R</span></code> useful w. dflt. fn. (non dflt. would need be impl'ed anyway).</td></tr>
<tr><td></td></tr></tbody></table></fixed-2-column>

<h3 id="higher-ranked-items">Higher-Ranked Items <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a><sup id="target-higher-ranked-items" class="target"><a href="#higher-ranked-items">url</a></sup><feedback element-id="higher-ranked-items" id="feedback-higher-ranked-items">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-higher-ranked-items', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-higher-ranked-items');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-higher-ranked-items', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-higher-ranked-items');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-higher-ranked-items', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-higher-ranked-items', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-higher-ranked-items');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p><em>Actual</em> types and traits, abstract over something, usually lifetimes.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span></code></td><td>Marker for <strong>higher-ranked bounds.</strong> <a href="https://doc.rust-lang.org/nightly/nomicon/hrtb.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> <a href="https://doc.rust-lang.org/reference/trait-bounds.html#higher-ranked-trait-bounds" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">T</span><span class="token punctuation">:</span> <span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token class-name">R</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Any <code class="language-rust"><span class="token class-name">S</span></code> that <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span></code> would also have to fulfill <code class="language-rust"><span class="token class-name">R</span></code> for any lifetime.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td>Function pointer type holding fn callable with <strong>specific</strong> lifetime <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td><strong>Higher-ranked type</strong><sup>1</sup> <a href="https://github.com/rust-lang/rust/issues/56105" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> holding fn call. with <strong>any</strong> <em>lt.</em>; subtype<a href="#type-conversions" title="On this site, below."><sup>↓</sup></a> of above.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'_</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td>Same; automatically expanded to type <code class="language-rust"><span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td>Same; automatically expanded to type <code class="language-rust"><span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-dyn">dyn</span> <span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td>Higher-ranked (trait-object) type, works like <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code> above.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-dyn">dyn</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'_</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td>Same; automatically expanded to type <code class="language-rust"><span class="token keyword keyword-dyn">dyn</span> <span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-dyn">dyn</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td>Same; automatically expanded to type <code class="language-rust"><span class="token keyword keyword-dyn">dyn</span> <span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code>.</td></tr>
</tbody></table>
<footnotes>
<p><sup>1</sup> Yes, the <code class="language-rust"><span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span></code> is part of the type, which is why you write <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code> below.</p>
</footnotes>
</fixed-2-column>
<div class="color-header special_example">
<div>&nbsp;</div>
<table><thead><tr><th>Implementing Traits</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>For fn. pointer, where call accepts <strong>specific</strong> <em>lt.</em> <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code>, impl trait <code class="language-rust"><span class="token class-name">T</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>For fn. pointer, where call accepts <strong>any</strong> <em>lt.</em>, impl trait <code class="language-rust"><span class="token class-name">T</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Same, short version.</td></tr>
</tbody></table>
</div>
<h3 id="strings-chars">Strings &amp; Chars<sup id="target-strings-chars" class="target"><a href="#strings-chars">url</a></sup><feedback element-id="strings-chars" id="feedback-strings-chars">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-strings-chars', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-strings-chars');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-strings-chars', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-strings-chars');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-strings-chars', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-strings-chars', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-strings-chars');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Rust has several ways to create textual values.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token string">"..."</span></code></td><td><strong>String literal</strong>, <a href="https://doc.rust-lang.org/reference/tokens.html#string-literals" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a><sup>, 1</sup> a UTF-8 <code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword keyword-str">str</span></code>, <a href="https://doc.rust-lang.org/std/primitive.str.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> supporting these escapes:</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token string">"\n\r\t\0\\"</span></code></td><td><strong>Common escapes</strong> <a href="https://doc.rust-lang.org/reference/tokens.html#ascii-escapes" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a>, e.g., <code class="language-rust"><span class="token string">"\n"</span></code> becomes <em>new line</em>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token string">"\x36"</span></code></td><td><strong>ASCII <em>e.</em></strong> <a href="https://doc.rust-lang.org/reference/tokens.html#ascii-escapes" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> up to <code class="language-rust">7f</code>, e.g., <code class="language-rust"><span class="token string">"\x36"</span></code> would become <code class="language-rust"><span class="token number">6</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token string">"\u{7fff}"</span></code></td><td><strong>Unicode <em>e.</em></strong> <a href="https://doc.rust-lang.org/reference/tokens.html#unicode-escapes" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> up to 6 digits, e.g., <code class="language-rust"><span class="token string">"\u{7fff}"</span></code> becomes <code class="language-rust">翿</code>.</td></tr>
<tr><td><code class="language-rust"><span class="token string">r"..."</span></code></td><td><strong>Raw string literal</strong>. <a href="https://doc.rust-lang.org/reference/tokens.html#raw-string-literals" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a><sup>, 1</sup>UTF-8, but won't interpret any escape above.</td></tr>
<tr><td><code class="language-rust"><span class="token string">r#"..."#</span></code></td><td>Raw string literal, UTF-8, but can also contain <code class="language-rust">"</code>. Number of <code class="language-rust">#</code> can vary.</td></tr>
<tr><td><code class="language-rust"><span class="token string">c"..."</span></code></td><td><strong>C string literal</strong>, <a href="https://doc.rust-lang.org/reference/tokens.html#c-string-literals" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> a NUL-terminated <code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token class-name">CStr</span></code>, <a href="https://doc.rust-lang.org/std/ffi/struct.CStr.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> for FFI. <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>1.77+</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token string">cr"..."</span></code>, <code class="language-rust"><span class="token string">cr#"..."#</span></code></td><td>Raw C string literal, combination analog to above.</td></tr>
<tr><td><code class="language-rust"><span class="token string">b"..."</span></code></td><td><strong>Byte string literal</strong>; <a href="https://doc.rust-lang.org/reference/tokens.html#byte-and-byte-string-literals" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a><sup>, 1</sup> constructs ASCII-only <code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">;</span> <span class="token class-name">N</span><span class="token punctuation">]</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token string">br"..."</span></code>, <code class="language-rust"><span class="token string">br#"..."#</span></code></td><td>Raw byte string literal, combination analog to above.</td></tr>
<tr><td><code class="language-rust"><span class="token char">b'x'</span></code></td><td>ASCII <strong>byte literal</strong>, <a href="https://doc.rust-lang.org/reference/tokens.html#byte-literals" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> a single <code class="language-rust"><span class="token keyword keyword-u8">u8</span></code> byte.</td></tr>
<tr><td><code class="language-rust">'🦀'</code></td><td><strong>Character literal</strong>, <a href="https://doc.rust-lang.org/reference/tokens.html#character-and-string-literals" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> fixed 4 byte unicode '<strong>char</strong>'. <a href="https://doc.rust-lang.org/std/primitive.char.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td></tr>
</tbody></table>
<footnotes>
<p><sup>1</sup> Supports multiple lines out of the box. Just keep in mind <code class="language-rust"><span class="token class-name">Debug</span></code><a href="#string-output" title="On this site, below."><sup>↓</sup></a> (e.g., <code class="language-rust"><span class="token macro property">dbg!</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> and <code class="language-rust"><span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{x:?}"</span><span class="token punctuation">)</span></code>) might render them as <code class="language-rust">\n</code>, while <code class="language-rust"><span class="token class-name">Display</span></code><a href="#string-output" title="On this site, below."><sup>↓</sup></a> (e.g., <code class="language-rust"><span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{x}"</span><span class="token punctuation">)</span></code>) renders them <em>proper</em>.</p>
</footnotes>
</fixed-2-column>
<h3 id="documentation">Documentation<sup id="target-documentation" class="target"><a href="#documentation">url</a></sup><feedback element-id="documentation" id="feedback-documentation">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-documentation', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-documentation');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-documentation', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-documentation');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-documentation', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-documentation', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-documentation');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Debuggers hate him. Avoid bugs with this one weird trick.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token comment">///</span></code></td><td>Outer line <strong>doc comment</strong>,<sup>1</sup> <a href="https://doc.rust-lang.org/book/ch14-02-publishing-to-crates-io.html#making-useful-documentation-comments" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/meta/doc.html#documentation" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/comments.html#doc-comments" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> use these on ty., traits, fn's, …</td></tr>
<tr><td><code class="language-rust"><span class="token comment">//!</span></code></td><td>Inner line doc comment, mostly used at top of file.</td></tr>
<tr><td><code class="language-rust"><span class="token comment">//</span></code></td><td>Line comment, use these to document code flow or <em>internals</em>.</td></tr>
<tr><td><code class="language-rust"><span class="token comment">/* … */</span></code></td><td>Block comment. <sup>2</sup> <a class="tooltip" title="Largely deprecated or outdated; prefer modern alternative."><sup>🗑️</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token comment">/** … */</span></code></td><td>Outer block doc comment. <sup>2</sup> <a class="tooltip" title="Largely deprecated or outdated; prefer modern alternative."><sup>🗑️</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token comment">/*! … */</span></code></td><td>Inner block doc comment. <sup>2</sup> <a class="tooltip" title="Largely deprecated or outdated; prefer modern alternative."><sup>🗑️</sup></a></td></tr>
</tbody></table>
</fixed-2-column>
<footnotes>
<p><sup>1</sup> <a href="https://cheats.rs/#tooling-directives">Tooling Directives</a> outline what you can do inside doc comments. <br>
<sup>2</sup> Generally discouraged due to bad UX. If possible use equivalent line comment instead with IDE support.</p>
</footnotes>
<h3 id="miscellaneous">Miscellaneous<sup id="target-miscellaneous" class="target"><a href="#miscellaneous">url</a></sup><feedback element-id="miscellaneous" id="feedback-miscellaneous">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-miscellaneous', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-miscellaneous');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-miscellaneous', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-miscellaneous');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-miscellaneous', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-miscellaneous', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-miscellaneous');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>These sigils did not fit any other category but are good to know nonetheless.</p>
<fixed-2-column>
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token operator">!</span></code></td><td>Always empty <strong>never type</strong>. <a href="https://doc.rust-lang.org/book/ch19-04-advanced-types.html#the-never-type-that-never-returns" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/fn/diverging.html#diverging-functions" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/std/primitive.never.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://doc.rust-lang.org/reference/types.html#never-type" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">!</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Function that never ret.; compat. with any <em>ty.</em> e.g., <code class="language-rust"><span class="token keyword keyword-let">let</span> x<span class="token punctuation">:</span> <span class="token keyword keyword-u8">u8</span> <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Function that must return <code class="language-rust"><span class="token class-name">Result</span></code> but signals it can never <code class="language-rust"><span class="token class-name">Err</span></code>. <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Function that exists, but can never be called. Not very useful. <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td></tr>
<tr><td><code class="language-rust">_</code></td><td>Unnamed <strong>wildcard</strong> <a href="https://doc.rust-lang.org/reference/patterns.html#wildcard-pattern" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> variable binding, e.g., <code class="language-rust"><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>x<span class="token punctuation">,</span> _<span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-let">let</span> _ <span class="token operator">=</span> x<span class="token punctuation">;</span></code></td><td>Unnamed assign. is no-op, does <strong>not</strong> <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> move out <code class="language-rust">x</code> or preserve scope!</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">_ <span class="token operator">=</span> x<span class="token punctuation">;</span></code></td><td>You can assign <em>anything</em> to <code class="language-rust">_</code> without <code class="language-rust"><span class="token keyword keyword-let">let</span></code>, i.e.,  <code class="language-rust">_ <span class="token operator">=</span> <span class="token function">ignore_rval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code> <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a></td></tr>
<tr><td><code class="language-rust">_x</code></td><td>Variable binding that won't emit <em>unused variable</em> warnings.</td></tr>
<tr><td><code class="language-rust"><span class="token number">1_234_567</span></code></td><td>Numeric separator for visual clarity.</td></tr>
<tr><td><code class="language-rust"><span class="token number">1_u8</span></code></td><td>Type specifier for <strong>numeric literals</strong> <a href="https://doc.rust-lang.org/stable/rust-by-example/types/literals.html#literals" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/tokens.html#number-literals" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a>  (also <code class="language-rust"><span class="token keyword keyword-i8">i8</span></code>, <code class="language-rust"><span class="token keyword keyword-u16">u16</span></code>, …).</td></tr>
<tr><td><code class="language-rust"><span class="token number">0xBEEF</span></code>, <code class="language-rust"><span class="token number">0o777</span></code>, <code class="language-rust"><span class="token number">0b1001</span></code></td><td>Hexadecimal (<code class="language-rust">0x</code>), octal (<code class="language-rust">0o</code>) and binary (<code class="language-rust">0b</code>) integer literals.</td></tr>
<tr><td><code class="language-rust">r#foo</code></td><td>A <strong>raw identifier</strong> <a href="https://doc.rust-lang.org/book/appendix-01-keywords.html#raw-identifiers" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/compatibility/raw_identifiers.html#raw-identifiers" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> for edition compatibility. <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust">x<span class="token punctuation">;</span></code></td><td><strong>Statement</strong> <a href="https://doc.rust-lang.org/reference/statements.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> terminator, <em>c</em>. <strong>expressions</strong> <a href="https://doc.rust-lang.org/stable/rust-by-example/expression.html" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/expressions.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
</tbody></table>
</fixed-2-column>
<h3 id="common-operators">Common Operators<sup id="target-common-operators" class="target"><a href="#common-operators">url</a></sup><feedback element-id="common-operators" id="feedback-common-operators">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-common-operators', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-common-operators');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-common-operators', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-common-operators');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-common-operators', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-common-operators', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-common-operators');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Rust supports most operators you would expect (<code class="language-rust"><span class="token operator">+</span></code>, <code class="language-rust"><span class="token operator">*</span></code>, <code class="language-rust"><span class="token operator">%</span></code>, <code class="language-rust"><span class="token operator">=</span></code>, <code class="language-rust"><span class="token operator">==</span></code>, …), including <strong>overloading</strong>. <a href="https://doc.rust-lang.org/std/ops/index.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> Since they behave no differently in Rust we do not list them here.</p>
<hr>
<magic>
<h1 id="behind-the-scenes">Behind the Scenes<sup id="target-behind-the-scenes" class="target"><a href="#behind-the-scenes">url</a></sup></h1>
<p>Arcane knowledge that may do terrible things to your mind, highly recommended.</p>
<h2 id="the-abstract-machine">The Abstract Machine<sup id="target-the-abstract-machine" class="target"><a href="#the-abstract-machine">url</a></sup><feedback element-id="the-abstract-machine" id="feedback-the-abstract-machine">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-the-abstract-machine', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-the-abstract-machine');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-the-abstract-machine', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-the-abstract-machine');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-the-abstract-machine', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-the-abstract-machine', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-the-abstract-machine');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Like <code class="language-rust"><span class="token class-name">C</span></code> and <code class="language-rust"><span class="token class-name">C</span><span class="token operator">+</span><span class="token operator">+</span></code>, Rust is based on an <em>abstract machine</em>.</p>
<tabs>

<tab>
<input type="radio" id="tab-abstract-machine-1" name="tab-group-abstract-machine" checked="">
<label for="tab-abstract-machine-1"><b>Overview</b></label>
<panel><div>
<div style="text-align:center">
<mini-zoo class="zoo" style="text-align:center">
    <entry>
        <machine class="bad">Rust</machine>
    </entry>
    <code style="text-align:center" class="language-rust">→</code>
    <entry>
        <machine class="bad">CPU</machine>
    </entry>
    <br>
    <note><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> Misleading.</note>
</mini-zoo>
<mini-zoo class="zoo" style="text-align:center;margin-left:80px">
    <entry>
        <machine class="good">Rust</machine>
    </entry>
    <code style="text-align:center" class="language-rust">→</code>
    <entry style="width:120px">
        <machine class="good">Abstract Machine</machine>
    </entry>
    <code style="text-align:center" class="language-rust">→</code>
    <entry>
        <machine class="good">CPU</machine>
    </entry>
    <br>
    <note>Correct.</note>
</mini-zoo>
</div>
<div>&nbsp;</div>
<p>With rare exceptions you are never 'allowed to reason' about the actual CPU. You write code for an <em>abstracted</em> CPU. Rust then (sort of) understands what you want, and translates that into actual RISC-V / x86 / … machine code.</p>
<div>&nbsp;</div>
<p>This <em>abstract machine</em></p>
<ul>
<li>is not a runtime, and does not have any runtime overhead, but is a <em>computing model abstraction</em>,</li>
<li>contains concepts such as memory regions (<em>stack</em>, …), execution semantics, …</li>
<li><em>knows</em> and <em>sees</em> things your CPU might not care about,</li>
<li>is de-facto a contract between you and the compiler,</li>
<li>and <strong>exploits all of the above for optimizations</strong>.</li>
</ul>
</div></panel></tab>

<tab>
<input type="radio" id="tab-abstract-machine-2" name="tab-group-abstract-machine">
<label for="tab-abstract-machine-2"><b>Misconceptions</b></label>
<panel><div>
<div class="abstract-machine color-header">
<p>On the left things people may incorrectly assume they <em>should get away with</em> if Rust targeted CPU directly. On the right things you'd interfere with if in reality if you violate the AM contract.</p>
<div>&nbsp;</div><table><thead><tr><th>Without AM</th><th>With AM</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token number">0xffff_ffff</span></code> would make a valid <code class="language-rust"><span class="token keyword keyword-char">char</span></code>. <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a></td><td>AM may exploit <em>'invalid'</em> bit patterns to pack unrelated data.</td></tr>
<tr><td><code class="language-rust"><span class="token number">0xff</span></code> and <code class="language-rust"><span class="token number">0xff</span></code> are same pointer. <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a></td><td>AM pointers can have <em>'domain'</em> attached for optimization.</td></tr>
<tr><td>Any r/w on pointer <code class="language-rust"><span class="token number">0xff</span></code> always fine. <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a></td><td>AM may issue cache-friendly ops since <em>'no read possible'</em>.</td></tr>
<tr><td>Reading un-init just gives random value. <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a></td><td>AM <em>'knows'</em> read impossible, may remove all related code.</td></tr>
<tr><td>Data race just gives random value. <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a></td><td>AM may split R/W, produce <em>impossible</em> value, see above.</td></tr>
<tr><td>Null ref. is just <code class="language-rust"><span class="token number">0x0</span></code> in some register. <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a></td><td>Holding <code class="language-rust"><span class="token number">0x0</span></code> in reference summons Cthulhu.</td></tr>
</tbody></table>
<div>&nbsp;</div>
<blockquote>
<p>This table is only to outline what the AM does. Unlike C or C++, Rust never lets you do the wrong thing unless you force it with <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code>. <a href="#unsafe-unsound-undefined" title="On this site, below."><sup>↓</sup></a></p>
</blockquote>
</div>
</div></panel></tab>
</tabs>






<h2 id="language-sugar">Language Sugar<sup id="target-language-sugar" class="target"><a href="#language-sugar">url</a></sup><feedback element-id="language-sugar" id="feedback-language-sugar">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-language-sugar', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-language-sugar');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-language-sugar', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-language-sugar');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-language-sugar', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-language-sugar', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-language-sugar');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>If something works that "shouldn't work now that you think about it", it might be due to one of these.</p>
<div class="color-header language-sugar">
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>Coercions</strong> <a href="https://doc.rust-lang.org/nightly/nomicon/coercions.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a></td><td><em>Weakens</em> types to match signature, e.g., <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span></code> to <code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">T</span></code>; <em>c</em>. <em>type conv.</em> <a href="#type-conversions" title="On this site, below."><sup>↓</sup></a></td></tr>
<tr><td><strong>Deref</strong> <a href="https://doc.rust-lang.org/nightly/nomicon/vec-deref.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> <a href="https://stackoverflow.com/questions/28519997/what-are-rusts-exact-auto-dereferencing-rules" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td><a href="https://doc.rust-lang.org/std/ops/trait.Deref.html">Derefs</a> <code class="language-rust">x<span class="token punctuation">:</span> <span class="token class-name">T</span></code> until <code class="language-rust"><span class="token operator">*</span>x</code>, <code class="language-rust"><span class="token operator">*</span><span class="token operator">*</span>x</code>, … compatible with some target <code class="language-rust"><span class="token class-name">S</span></code>.</td></tr>
<tr><td><strong>Prelude</strong> <a href="https://doc.rust-lang.org/std/prelude/index.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td><td>Automatic import of basic items, e.g., <code class="language-rust"><span class="token class-name">Option</span></code>, <code class="language-rust"><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, …</td></tr>
<tr><td><strong>Reborrow</strong> <a href="https://quinedot.github.io/rust-learning/st-reborrow.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td>Since <code class="language-rust">x<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span></code> can't be copied; moves new <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token operator">*</span>x</code> instead.</td></tr>
<tr><td><strong>Lifetime Elision</strong> <a href="https://doc.rust-lang.org/book/ch10-03-lifetime-syntax.html#lifetime-elision" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/nightly/nomicon/lifetime-elision.html#lifetime-elision" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> <a href="https://doc.rust-lang.org/reference/lifetime-elision.html#lifetime-elision" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td><td>Allows you to write <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">T</span><span class="token punctuation">)</span></code>, instead of <code class="language-rust">f<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span><span class="token punctuation">)</span></code>, for brevity.</td></tr>
<tr><td><strong>Lifetime Extensions</strong> <a href="https://blog.m-ou.se/super-let/" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a>  <a href="https://doc.rust-lang.org/reference/destructors.html#temporary-lifetime-extension" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td><td>In <code class="language-rust"><span class="token keyword keyword-let">let</span> x <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token function">tmp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>f</code> and similar hold on to temporary past line.</td></tr>
<tr><td><strong>Method Resolution</strong> <a href="https://doc.rust-lang.org/reference/expressions/method-call-expr.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td><td>Derefs or borrow <code class="language-rust">x</code> until <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> works.</td></tr>
<tr><td><strong>Match Ergonomics</strong> <a href="https://rust-lang.github.io/rfcs/2005-match-ergonomics.html" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a></td><td>Repeatedly deref. <a href="https://doc.rust-lang.org/stable/reference/glossary.html#scrutinee">scrutinee</a> and adds <code class="language-rust"><span class="token keyword keyword-ref">ref</span></code> and <code class="language-rust"><span class="token keyword keyword-ref">ref</span> <span class="token keyword keyword-mut">mut</span></code> to bindings.</td></tr>
<tr><td><strong>Rvalue Static Promotion</strong> <a href="https://rust-lang.github.io/rfcs/1414-rvalue_static_promotion.html" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a>  <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td><td>Makes refs. to constants <code class="language-rust"><span class="token lifetime-annotation symbol">'static</span></code>, e.g., <code class="language-rust"><span class="token operator">&amp;</span><span class="token number">42</span></code>, <code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">None</span></code>, <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></code>.</td></tr>
<tr><td><strong>Dual Definitions</strong> <a href="https://rust-lang.github.io/rfcs/1506-adt-kinds.html#tuple-structs" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td><td>Defining one (e.g., <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token punctuation">(</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code>) implicitly def. another (e.g., <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">S</span></code>).</td></tr>
<tr><td><strong>Drop Hidden Flow</strong> <a href="https://doc.rust-lang.org/reference/destructors.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td><td>At end of blocks <code class="language-rust"><span class="token punctuation">{</span> <span class="token punctuation">...</span> <span class="token punctuation">}</span></code> or <code class="language-rust">_</code> assignment, may call <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">::</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. <a href="https://doc.rust-lang.org/std/ops/trait.Drop.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td></tr>
<tr><td><strong>Drop Not Callable</strong> <a href="https://doc.rust-lang.org/std/ops/trait.Drop.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td><td>Compiler forbids explicit <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">::</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> call, must use <code class="language-rust"><span class="token namespace">mem<span class="token punctuation">::</span></span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. <a href="https://doc.rust-lang.org/std/mem/fn.drop.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td></tr>
</tbody></table>
</div>
<div>&nbsp;</div>
<blockquote>
<p><strong>Opinion</strong> <a class="tooltip" title="Author's opinion."><sup>💬</sup></a> — These features make your life easier <em>using</em> Rust, but stand in the way of <em>learning</em> it. If you want to develop a <em>genuine understanding</em>, spend some extra time exploring them.</p>
</blockquote>
<h2 id="memory-lifetimes">Memory &amp; Lifetimes<sup id="target-memory-lifetimes" class="target"><a href="#memory-lifetimes">url</a></sup><feedback element-id="memory-lifetimes" id="feedback-memory-lifetimes">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-memory-lifetimes', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-memory-lifetimes');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-memory-lifetimes', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-memory-lifetimes');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-memory-lifetimes', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-memory-lifetimes', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-memory-lifetimes');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>An illustrated guide to moves, references and lifetimes.</p>
<tabs class="lifetimes">

<tab>
<input type="radio" id="tab-lt-1" name="tab-lt" checked="">
<label for="tab-lt-1"><b>Types &amp; Moves</b></label>
<panel>
<div>
<lifetime-section>
<lifetime-example>
    <section-header>Application Memory</section-header>
    <memory-row>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 hide t" style="left:57px">S(1)</value>
        </values>
        <labels>
            <label style="right:10px">&nbsp;</label>
        </labels>
        <subtext>Application Memory</subtext>
    </memory-row>
</lifetime-example>
<explanation>
<ul>
<li>Application memory is just array of bytes on low level.</li>
<li>Operating environment usually segments that, amongst others, into:
<ul>
<li><strong>stack</strong> (small, low-overhead memory,<sup>1</sup> most <em>variables</em> go here),</li>
<li><strong>heap</strong> (large, flexible memory, but always handled via stack proxy like <code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code>),</li>
<li><strong>static</strong> (most commonly used as resting place for <code class="language-rust"><span class="token keyword keyword-str">str</span></code> part of <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code>),</li>
<li><strong>code</strong> (where bitcode of your functions reside).</li>
</ul>
</li>
<li>Most tricky part is tied to <strong>how stack evolves</strong>, which is <strong>our focus</strong>.</li>
</ul>
<footnotes>
<p><sup>1</sup> For fixed-size values stack is trivially manageable: <em>take a few bytes more while you need them, discarded once you leave</em>. However, giving out pointers to these <em>transient</em> locations form the very essence of why <em>lifetimes</em> exist; and are the subject of the rest of this chapter.</p>
</footnotes>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <section-header>Variables</section-header>
    <memory-row>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 hide t" style="left:57px">S(1)</value>
            <value class="byte2 t" style="left:97.5px">S(1)</value>
        </values>
        <labels>
            <label class="byte2 hide" style="left:57px"><code class="language-rust">a</code></label>
            <label class="byte2" style="left:97.5px"><code class="language-rust">t</code></label>
        </labels>
        <subtext>Variables</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-let">let</span> t <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Reserves memory location with name <code class="language-rust">t</code> of type <code class="language-rust"><span class="token class-name">S</span></code> and the value <code class="language-rust"><span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></code> stored inside.</li>
<li>If declared with <code class="language-rust"><span class="token keyword keyword-let">let</span></code> that location lives on stack. <sup>1</sup></li>
<li>Note the <strong>linguistic ambiguity</strong>, in the term <strong><em>variable</em></strong>, it can mean the:
<ol>
<li><strong>name</strong> of the location in the source file ("rename that variable"),</li>
<li><strong>location</strong> in a compiled app, <code class="language-rust"><span class="token number">0x7</span></code> ("tell me the address of that variable"),</li>
<li><strong>value</strong> contained within, <code class="language-rust"><span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></code> ("increment that variable").</li>
</ol>
</li>
<li>Specifically towards the compiler <code class="language-rust">t</code> can mean <strong>location of</strong> <code class="language-rust">t</code>, here <code class="language-rust"><span class="token number">0x7</span></code>, and <strong>value within</strong> <code class="language-rust">t</code>, here <code class="language-rust"><span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></code>.</li>
</ul>
<footnotes>
<p><sup>1</sup> Compare above,<a href="#data-structures" title="On this site, above."><sup>↑</sup></a> true for fully synchronous code, but <code class="language-rust"><span class="token keyword keyword-async">async</span></code> stack frame might placed it on heap via runtime.</p>
</footnotes>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <section-header>Move Semantics</section-header>
    <memory-row>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 t" style="left:57px">S(1)</value>
        </values>
        <labels>
            <label class="byte2" style="left:57px"><code class="language-rust">a</code></label>
            <label class="byte2" style="left:97.5px"><code class="language-rust">t</code></label>
        </labels>
        <subtext>Moves</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-let">let</span> a <span class="token operator">=</span> t<span class="token punctuation">;</span>
</code></pre>
<ul>
<li>This will <strong>move</strong> value within <code class="language-rust">t</code> to location of <code class="language-rust">a</code>, or copy it, if <code class="language-rust"><span class="token class-name">S</span></code> is <code class="language-rust"><span class="token class-name">Copy</span></code>.</li>
<li>After move location <code class="language-rust">t</code> is <strong>invalid</strong> and cannot be read anymore.
<ul>
<li>Technically the bits at that location are not really <em>empty</em>, but <em>undefined</em>.</li>
<li>If you still had access to <code class="language-rust">t</code> (via <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code>) they might still <em>look</em> like valid <code class="language-rust"><span class="token class-name">S</span></code>, but
any attempt to use them as valid <code class="language-rust"><span class="token class-name">S</span></code> is undefined behavior. <a href="#unsafe-unsound-undefined" title="On this site, below."><sup>↓</sup></a></li>
</ul>
</li>
<li>We do not cover <code class="language-rust"><span class="token class-name">Copy</span></code> types explicitly here. They change the rules a bit, but not much:
<ul>
<li>They won't be dropped.</li>
<li>They never leave behind an 'empty' variable location.</li>
</ul>
</li>
</ul>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <section-header>Type Safety</section-header>
    <memory-row>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <failed style="left:231.5px"><value class="atomic byte4">M { … }</value></failed>
            <denied style="left:141px">⛔</denied>
        </values>
        <labels>
            <label class="byte2" style="left:57px"><code class="language-rust"></code></label>
            <label class="byte2" style="left:170px"><code class="language-rust">c</code></label>
        </labels>
        <subtext>Type Safety</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-let">let</span> c<span class="token punctuation">:</span> <span class="token class-name">S</span> <span class="token operator">=</span> <span class="token class-name">M</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>The <strong>type of a variable</strong> serves multiple important purposes, it:
<ol>
<li>dictates how the underlying bits are to be interpreted,</li>
<li>allows only well-defined operations on these bits</li>
<li>prevents random other values or bits from being written to that location.</li>
</ol>
</li>
<li>Here assignment fails to compile since the bytes of <code class="language-rust"><span class="token class-name">M</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> cannot be converted to form of type <code class="language-rust"><span class="token class-name">S</span></code>.</li>
<li><strong>Conversions between types will <em>always</em> fail</strong> in general, <strong>unless explicit rule allows it</strong> (coercion, cast, …).</li>
</ul>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <section-header>Scope &amp; Drop</section-header>
    <memory-row>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <drop><value class="byte2 t" style="left:57px">S(1)</value><droparrow style="left:37px">▼</droparrow></drop>
            <value class="byte2 hide t" style="left:87.5px">C(2)</value>
            <drop><value class="byte2 t" style="left:128px">S(2)</value><droparrow style="left:107px">▼</droparrow></drop>
            <failed style="left:-27.5px"><value class="byte2 t" style="left:128px">S(3)</value></failed>
        </values>
        <labels>
            <label class="byte2" style="left:57px"><code class="language-rust"></code></label>
            <label class="byte2" style="left:97.5px"><code class="language-rust">t</code></label>
            
        </labels>
        <subtext>Scope &amp; Drop</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token punctuation">{</span>
    <span class="token keyword keyword-let">let</span> <span class="token keyword keyword-mut">mut</span> c <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &lt;- Drop called on `c` before assignment.</span>
    <span class="token keyword keyword-let">let</span> t <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-let">let</span> a <span class="token operator">=</span> t<span class="token punctuation">;</span>
<span class="token punctuation">}</span>   <span class="token comment">// &lt;- Scope of `a`, `t`, `c` ends here, drop called on `a`, `c`.</span>
</code></pre>
<ul>
<li>Once the 'name' of a non-vacated variable goes out of (drop-)<strong>scope</strong>, the contained value is <strong>dropped</strong>.
<ul>
<li>Rule of thumb: execution reaches point where name of variable leaves <code class="language-rust"><span class="token punctuation">{</span><span class="token punctuation">}</span></code>-block it was defined in</li>
<li>In detail more tricky, esp. temporaries, …</li>
</ul>
</li>
<li>Drop also invoked when new value assigned to existing variable location.</li>
<li>In that case <strong><code class="language-rust"><span class="token class-name">Drop</span><span class="token punctuation">::</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></strong> is called on the location of that value.
<ul>
<li>In the example above <code class="language-rust"><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is called on <code class="language-rust">a</code>, twice on <code class="language-rust">c</code>, but not on <code class="language-rust">t</code>.</li>
</ul>
</li>
<li>Most non-<code class="language-rust"><span class="token class-name">Copy</span></code> values get dropped most of the time; exceptions include <code class="language-rust"><span class="token namespace">mem<span class="token punctuation">::</span></span><span class="token function">forget</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, <code class="language-rust"><span class="token class-name">Rc</span></code> cycles, <code class="language-rust"><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</li>
</ul>
</explanation>
</lifetime-section>
</div></panel></tab>

<tab>
<input type="radio" id="tab-lt-2" name="tab-lt">
<label for="tab-lt-2"><b>Call Stack</b></label>
<panel><div>
<lifetime-section>
<lifetime-example>
    <section-header>Stack Frame</section-header>
    <memory-row>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 t" style="left:57px">S(1)</value>
        </values>
        <labels>
            <label class="byte2" style="left:57px"><code class="language-rust">a</code></label>
            <label class="byte2" style="left:97.5px"><code class="language-rust">x</code></label>
        </labels>
        <subtext>Function Boundaries</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>

<span class="token keyword keyword-let">let</span> a <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;- We are here</span>
<span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>When a <strong>function is called</strong>, memory for parameters (and return values) are reserved on stack.<sup>1</sup></li>
<li>Here before <code class="language-rust">f</code> is invoked value in <code class="language-rust">a</code> is moved to 'agreed upon' location on stack, and during <code class="language-rust">f</code> works like 'local variable' <code class="language-rust">x</code>.</li>
</ul>
<footnotes>
<p><sup>1</sup> Actual location depends on calling convention, might practically not end up on stack at all, but that doesn't change mental model.</p>
</footnotes>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <memory-row>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 t" style="left:131px">S(1)</value>
        </values>
        <labels>
            <label class="byte2" style="left:57px"><code class="language-rust">a</code></label>
            <label class="byte2" style="left:97.5px"><code class="language-rust">x</code></label>
            <label class="byte2" style="left:136px"><code class="language-rust">x</code></label>
        </labels>
        <subtext>Nested Functions</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token function">once</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token comment">// &lt;- We are here (before recursion)</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-let">let</span> a <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li><strong>Recursively calling</strong> functions, or calling other functions, likewise extends the stack frame.</li>
<li>Nesting too many invocations (esp. via unbounded recursion) will cause stack to grow, and eventually to overflow, terminating the app.</li>
</ul>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <section-header>Validity of Variables</section-header>
    <memory-row>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t" style="opacity:.4"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 t" style="left:131px">S(1)</value>
            <value class="atomic byte4" style="left:190px">M { }</value>
        </values>
        <labels>
            <label class="byte2" style="left:57px"><code class="language-rust">a</code></label>
            <label class="byte2" style="left:97.5px"><code class="language-rust">x</code></label>
            <label class="byte2" style="left:174px"><code class="language-rust">m</code></label>
        </labels>
        <subtext>Repurposing Memory</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token function">once</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-let">let</span> m <span class="token operator">=</span> <span class="token class-name">M</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &lt;- We are here (after recursion)</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-let">let</span> a <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Stack that previously held a certain type will be repurposed across (even within) functions.</li>
<li>Here, recursing on <code class="language-rust">f</code> produced second <code class="language-rust">x</code>, which after recursion was partially reused for <code class="language-rust">m</code>.</li>
</ul>
<blockquote>
<p>Key take away so far, there are multiple ways how memory locations that previously held a valid value of a certain type stopped doing so in the meantime.
As we will see shortly, this has implications for pointers.</p>
</blockquote>
</explanation>
</lifetime-section>
</div></panel></tab>

<tab>
<input type="radio" id="tab-lt-3" name="tab-lt">
<label for="tab-lt-3"><b>References &amp; Pointers</b></label>
<panel><div>
<lifetime-section>
<lifetime-example>
    <section-header class="arrowed">Reference Types</section-header>
    <memory-row>
        <arrows>
            <arrow style="left:62px;width:176px">&nbsp;<tip>▼</tip></arrow>
        </arrows>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 t" style="left:57px">S(1)</value>
            <value class="byte4 ptr" style="left:171px">0x3</value>
        </values>
        <labels>
            <label class="byte2" style="left:57px"><code class="language-rust">a</code></label>
            <label class="byte4" style="left:171px"><code class="language-rust">r</code></label>
        </labels>
        <subtext>References as Pointers</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-let">let</span> a <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> r<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">S</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>
</code></pre>
<ul>
<li>A <strong>reference type</strong> such as <code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">S</span></code> or <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">S</span></code> can hold the <strong>location of</strong> some <code class="language-rust">s</code>.</li>
<li>Here type <code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">S</span></code>, bound as name <code class="language-rust">r</code>, holds <em>location of</em> variable <code class="language-rust">a</code> (<code class="language-rust"><span class="token number">0x3</span></code>), that must be type <code class="language-rust"><span class="token class-name">S</span></code>, obtained via <code class="language-rust"><span class="token operator">&amp;</span>a</code>.</li>
<li>If you think of variable <code class="language-rust">c</code> as <em>specific location</em>, reference <strong><code class="language-rust">r</code> is a <em>switchboard for locations</em></strong>.</li>
<li>The type of the reference, like all other types, can often be inferred, so we might omit it from now on:<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-let">let</span> r<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">S</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> r <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>
</code></pre>
</li>
</ul>

</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <section-header class="arrowed">(Mutable) References</section-header>
    <memory-row>
        <arrows>
            <arrow style="left:62px;width:176px">&nbsp;<tip>▼</tip></arrow>
        </arrows>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 t" style="left:57px">S(2)</value>
            <value class="byte4 ptr" style="left:171px">0x3</value>
            <value class="byte2 t" style="left:213px">S(1)</value>
        </values>
        <labels>
            <label class="byte2" style="left:57px"><code class="language-rust">a</code></label>
            <label class="byte4" style="left:171px"><code class="language-rust">r</code></label>
            <label class="byte4" style="left:193px"><code class="language-rust">d</code></label>
        </labels>
        <subtext>Access to Non-Owned Memory</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token keyword keyword-mut">mut</span> a <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> r <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> a<span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> d <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Valid to clone (or copy) from r-target.</span>
<span class="token operator">*</span>r <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// Valid to set new S value to r-target.</span>
</code></pre>
<ul>
<li>References can <strong>read from</strong>  (<code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">S</span></code>) and also <strong>write to</strong> (<code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">S</span></code>) locations they point to.</li>
<li>The <em>dereference</em> <code class="language-rust"><span class="token operator">*</span>r</code> means to use the <strong>location <code class="language-rust">r</code> points to</strong> (<em>not</em> the <em>location of</em> or <em>value within</em> <code class="language-rust">r</code> itself)</li>
<li>In the example, clone <code class="language-rust">d</code> is created from <code class="language-rust"><span class="token operator">*</span>r</code>, and <code class="language-rust"><span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></code> written to <code class="language-rust"><span class="token operator">*</span>r</code>.
<ul>
<li>We assume <code class="language-rust"><span class="token class-name">S</span></code> implements <code class="language-rust"><span class="token class-name">Clone</span></code>, and <code class="language-rust">r<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> clones target-of-<code class="language-rust">r</code>, not <code class="language-rust">r</code> itself.</li>
<li>On assignment <code class="language-rust"><span class="token operator">*</span>r <span class="token operator">=</span> …</code> old value in location also dropped (not shown above).</li>
</ul>
</li>
</ul>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <memory-row>
        <arrows>
            <arrow style="left:62px;width:176px">&nbsp;<tip>▼</tip></arrow>
        </arrows>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 hide t" style="left:57px">S(2)</value>
            <value class="byte4 ptr" style="left:171px">0x3</value>
            <value class="atomic byte4" style="top:-36px;left:20px">M { x }</value>
            <denied style="left:-71px;top:-36px">⛔</denied>
            <denied style="left:-131px">⛔</denied>
        </values>
        <labels>
            <label class="byte2" style="left:57px"><code class="language-rust">a</code></label>
            <label class="byte4" style="left:171px"><code class="language-rust">r</code></label>
            <label class="byte4" style="left:193px"><code class="language-rust">d</code></label>
        </labels>
        <subtext>References Guard Referents</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token keyword keyword-mut">mut</span> a <span class="token operator">=</span> …<span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> r <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> a<span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> d <span class="token operator">=</span> <span class="token operator">*</span>r<span class="token punctuation">;</span>       <span class="token comment">// Invalid to move out value, `a` would be empty.</span>
<span class="token operator">*</span>r <span class="token operator">=</span> <span class="token class-name">M</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// invalid to store non S value, doesn't make sense.</span>
</code></pre>
<ul>
<li>While bindings guarantee to always <em>hold</em> valid data, references guarantee to always <em>point to</em> valid data.</li>
<li>Esp. <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span></code> must provide same guarantees as variables, and some more as they can't dissolve the target:
<ul>
<li>They do <strong>not allow writing invalid</strong> data.</li>
<li>They do <strong>not allow moving out</strong> data (would leave target empty w/o owner knowing).</li>
</ul>
</li>
</ul>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <memory-row>
        <arrows>
            <arrow style="left:62px;width:176px;border-color:red">&nbsp;<tip style="color:red">▼</tip></arrow>
        </arrows>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 hide t" style="left:57px">C(2)</value>
            <value class="byte4 ptr unsafe" style="left:171px">0x3</value>
        </values>
        <labels>
            <label class="byte2 hide" style="left:57px"><code class="language-rust">c</code></label>
            <label class="byte4" style="left:171px"><code class="language-rust">p</code></label>
        </labels>
        <subtext>Raw Pointers</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-let">let</span> p<span class="token punctuation">:</span> <span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token class-name">S</span> <span class="token operator">=</span> <span class="token function">questionable_origin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>In contrast to references, pointers come with almost no guarantees.</li>
<li>They may point to invalid or non-existent data.</li>
<li>Dereferencing them is <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code>, and treating an invalid <code class="language-rust"><span class="token operator">*</span>p</code> as if it were valid is undefined behavior. <a href="#unsafe-unsound-undefined" title="On this site, below."><sup>↓</sup></a></li>
</ul>
</explanation>
</lifetime-section>
</div></panel></tab>

<tab>
<input type="radio" id="tab-lt-10" name="tab-lt">
<label for="tab-lt-10"><b>Lifetime Basics</b></label>
<panel><div>
<lifetime-section>
<lifetime-example>
    <memory-row>
        <memory-backdrop class="past" style="padding-left:7px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <memory-backdrop class="past" style="padding-left:3px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 hide t" style="left:57px">C(2)</value>
            <value class="byte4 hide ptr" style="left:171px">0x3</value>
        </values>
        <labels>
            
        </labels>
        <subtext>"Lifetime" of Things</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<ul>
<li>Every entity in a program has some (temporal / spatial) extent where it is relevant, i.e., <em>alive</em>.</li>
<li>Loosely speaking, this <em>alive time</em> can be<sup>1</sup>
<ol>
<li>the <strong>LOC</strong> (lines of code) where an <strong>item is available</strong> (e.g., a module name).</li>
<li>the <strong>LOC</strong> between when a <em>location</em> is <strong>initialized</strong> with a value, and when the location is <strong>abandoned</strong>.</li>
<li>the <strong>LOC</strong> between when a location is first <strong>used in a certain way</strong>, and when that <strong>usage stops</strong>.</li>
<li>the <strong>LOC (or actual time)</strong> between when a <em>value</em> is created, and when that value is dropped.</li>
</ol>
</li>
<li>Within the rest of this section, we will refer to the items above as the:
<ol>
<li><strong>scope</strong> of that item, irrelevant here.</li>
<li><strong>scope</strong> of that variable or location.</li>
<li><strong>lifetime</strong><sup>2</sup> of that usage.</li>
<li><strong>lifetime</strong> of that value, might be useful when discussing open file descriptors, but also irrelevant here.</li>
</ol>
</li>
<li>Likewise, lifetime parameters in code, e.g., <code class="language-rust">r<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">S</span></code>, are
<ul>
<li>concerned with LOC any <strong>location r <em>points to</em></strong> needs to be accessible or locked;</li>
<li>unrelated to the 'existence time' (as LOC) of <code class="language-rust">r</code> itself (well, it needs to exist shorter, that's it).</li>
</ul>
</li>
<li><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token class-name">S</span></code> means address must be <em>valid during all lines of code</em>.</li>
</ul>
<blockquote>
<p><sup>1</sup> There is sometimes ambiguity in the docs differentiating the various <em>scopes</em> and <em>lifetimes</em>.
We try to be pragmatic here, but suggestions are welcome.</p>
<p><sup>2</sup> <em>Live lines</em> might have been a more appropriate term …</p>
</blockquote>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <memory-row>
        <memory-backdrop class="past" style="padding-left:7px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <memory-backdrop class="past" style="padding-left:3px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <arrows>
            <arrow style="left:192px;width:120px">&nbsp;<tip>▼</tip></arrow>
        </arrows>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 hide t" style="left:38px">S(0)</value>
            <value class="byte2 hide t" style="left:79px">S(1)</value>
            <value class="byte2 t" style="left:119px">S(2)</value>
            <value class="byte4 ptr" style="left:177px">0xa</value>
        </values>
        <labels>
            <label class="byte2 hide" style="left:37px"><code class="language-rust">a</code></label>
            <label class="byte2 hide" style="left:78px"><code class="language-rust">b</code></label>
            <label class="byte2" style="left:118px"><code class="language-rust">c</code></label>
            <label class="byte4" style="left:177px"><code class="language-rust">r</code></label>
        </labels>
        <subtext>Meaning of <code class="language-rust">r<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'c</span> <span class="token class-name">S</span></code></subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<ul>
<li>Assume you got a <code class="language-rust">r<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'c</span> <span class="token class-name">S</span></code> from somewhere it means:
<ul>
<li><code class="language-rust">r</code> holds an address of some <code class="language-rust"><span class="token class-name">S</span></code>,</li>
<li>any address <code class="language-rust">r</code> points to must and will exist for at least <code class="language-rust"><span class="token lifetime-annotation symbol">'c</span></code>,</li>
<li>the variable <code class="language-rust">r</code> itself cannot live longer than <code class="language-rust"><span class="token lifetime-annotation symbol">'c</span></code>.</li>
</ul>
</li>
</ul>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <memory-row>
        <memory-backdrop class="past" style="padding-left:7px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <memory-backdrop class="past" style="padding-left:3px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <arrows>
            <arrow style="left:118px;width:193px">&nbsp;<tip>▼</tip></arrow>
        </arrows>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 t" style="left:38px">S(0)</value>
            <value class="byte2 t" style="left:79px">S(3)</value>
            <value class="byte2 t" style="left:119px">S(2)</value>
            <value class="byte4 ptr" style="left:177px">0x6</value>
            <denied style="left:-125px;top:-25px">⛔</denied>
        </values>
        <labels>
            <label class="byte2" style="left:37px"><code class="language-rust">a</code></label>
            <label class="byte2" style="left:78px"><code class="language-rust">b</code></label>
            <label class="byte2" style="left:118px"><code class="language-rust">c</code></label>
            <label class="byte4" style="left:177px"><code class="language-rust">r</code></label>
        </labels>
        <subtext>Typelikeness of Lifetimes</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token punctuation">{</span>
    <span class="token keyword keyword-let">let</span> b <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-let">let</span> c <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-let">let</span> r<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'c</span> <span class="token class-name">S</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>c<span class="token punctuation">;</span>      <span class="token comment">// Does not quite work since we can't name lifetimes of local</span>
        <span class="token punctuation">{</span>                       <span class="token comment">// variables in a function body, but very same principle applies</span>
            <span class="token keyword keyword-let">let</span> a <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// to functions next page.</span>

            r <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>             <span class="token comment">// Location of `a` does not live sufficient many lines -&gt; not ok.</span>
            r <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span>             <span class="token comment">// Location of `b` lives all lines of `c` and more -&gt; ok.</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>Assume you got a <code class="language-rust"><span class="token keyword keyword-mut">mut</span> r<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token lifetime-annotation symbol">'c</span> <span class="token class-name">S</span></code> from somewhere.
<ul>
<li>That is, a mutable location that can hold a mutable reference.</li>
</ul>
</li>
<li>As mentioned, that reference must guard the targeted memory.</li>
<li>However, the <strong><code class="language-rust"><span class="token lifetime-annotation symbol">'c</span></code> part</strong>, like a type, also <strong>guards what is allowed into <code class="language-rust">r</code></strong>.</li>
<li>Here assiging <code class="language-rust"><span class="token operator">&amp;</span>b</code> (<code class="language-rust"><span class="token number">0x6</span></code>) to <code class="language-rust">r</code> is valid, but <code class="language-rust"><span class="token operator">&amp;</span>a</code> (<code class="language-rust"><span class="token number">0x3</span></code>) would not, as only <code class="language-rust"><span class="token operator">&amp;</span>b</code> lives equal or longer than <code class="language-rust"><span class="token operator">&amp;</span>c</code>.</li>
</ul>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <memory-row>
        <memory-backdrop class="past" style="padding-left:7px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <memory-backdrop class="past" style="padding-left:3px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <arrows>
            <arrow style="left:118px;width:193px">&nbsp;<tip>▼</tip></arrow>
        </arrows>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="borrowed t"></byte>
            <byte class="borrowed t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 hide t" style="left:38px">S(0)</value>
            <value class="byte2 t" style="left:79px">&nbsp;</value>
            <value class="byte2 hide t" style="left:119px">S(2)</value>
            <value class="byte4 ptr" style="left:177px">0x6</value>
            <failed style="left:-40px"><value class="bytes t">S(4)</value></failed>
            <denied style="left:-83px">⛔</denied>
        </values>
        <labels>
            <label class="byte2 hide" style="left:37px"><code class="language-rust">a</code></label>
            <label class="byte2" style="left:78px"><code class="language-rust">b</code></label>
            <label class="byte2 hide" style="left:118px"><code class="language-rust">c</code></label>
            <label class="byte4 hide" style="left:177px"><code class="language-rust"></code></label>
        </labels>
        <subtext>Borrowed State</subtext>
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token keyword keyword-mut">mut</span> b <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> r <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> b<span class="token punctuation">;</span>

b <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// Will fail since `b` in borrowed state.</span>

<span class="token function">print_byte</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Once the address of a variable is taken via <code class="language-rust"><span class="token operator">&amp;</span>b</code> or <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> b</code> the variable is marked as <strong>borrowed</strong>.</li>
<li>While borrowed, the content of the address cannot be modified anymore via original binding <code class="language-rust">b</code>.</li>
<li>Once address taken via <code class="language-rust"><span class="token operator">&amp;</span>b</code> or <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> b</code> stops being used (in terms of LOC) original binding <code class="language-rust">b</code> works again.</li>
</ul>
</explanation>
</lifetime-section>
</div></panel></tab>

<tab>
<input type="radio" id="tab-lt-11" name="tab-lt">
<label for="tab-lt-11"><b>Lifetimes in Functions</b></label>
<panel>
<div>
<lifetime-section>
<lifetime-example>
    <memory-row>
        <memory-backdrop class="past" style="padding-left:7px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <memory-backdrop class="past" style="padding-left:3px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="borrowed t"></byte>
            <byte class="borrowed t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="borrowed t"></byte>
            <byte class="borrowed t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 hide t" style="left:38px">S(0)</value>
            <value class="byte2 t" style="left:79px">S(1)</value>
            <value class="byte2 t" style="left:119px">S(2)</value>
            <value class="byte4 ptr" style="left:177px">?</value>
            <value class="byte4 ptr" style="left:201px">0x6</value>
            <value class="byte4 ptr" style="left:224px">0xa</value>
        </values>
        <labels>
            <label class="byte2 hide" style="left:37px"><code class="language-rust">a</code></label>
            <label class="byte4" style="left:59px"><code class="language-rust">b</code></label>
            <label class="byte2" style="left:81px"><code class="language-rust">c</code></label>
            <label class="byte4" style="left:139px"><code class="language-rust">r</code></label>
            <label class="byte4" style="left:165px"><code class="language-rust">x</code></label>
            <label class="byte4" style="left:188px"><code class="language-rust">y</code></label>
        </labels>
        <subtext>Function Parameters</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">S</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span><span class="token operator">&amp;</span><span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>

<span class="token keyword keyword-let">let</span> b <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> c <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-let">let</span> r <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>When calling functions that take and return references two interesting things happen:
<ul>
<li>The used local variables are placed in a borrowed state,</li>
<li>But it is during compilation unknown which address will be returned.</li>
</ul>
</li>
</ul>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <memory-row>
        <memory-backdrop class="past" style="padding-left:7px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <memory-backdrop class="past" style="padding-left:3px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="maybe-borrowed t"></byte>
            <byte class="maybe-borrowed t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="maybe-borrowed t"></byte>
            <byte class="maybe-borrowed t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 hide t" style="left:38px">S(0)</value>
            <value class="byte2 t" style="left:79px">S(1)</value>
            <value class="byte2 t" style="left:119px">S(2)</value>
            <value class="byte4 ptr" style="left:177px">?</value>
            <value class="byte4 hide ptr" style="left:201px">0x6</value>
            <value class="byte4 hide ptr" style="left:224px">0xa</value>
        </values>
        <labels>
            <label class="byte2" style="left:37px"><code class="language-rust">a</code></label>
            <label class="byte4" style="left:59px"><code class="language-rust">b</code></label>
            <label class="byte2" style="left:81px"><code class="language-rust">c</code></label>
            <label class="byte4" style="left:139px"><code class="language-rust">r</code></label>
            <label class="byte4 hide" style="left:165px"><code class="language-rust">x</code></label>
            <label class="byte4 hide" style="left:188px"><code class="language-rust">y</code></label>
        </labels>
        <subtext>Problem of 'Borrowed' Propagation</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-let">let</span> b <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> c <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-let">let</span> r <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-let">let</span> a <span class="token operator">=</span> b<span class="token punctuation">;</span>   <span class="token comment">// Are we allowed to do this?</span>
<span class="token keyword keyword-let">let</span> a <span class="token operator">=</span> c<span class="token punctuation">;</span>   <span class="token comment">// Which one is _really_ borrowed?</span>

<span class="token function">print_byte</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Since <code class="language-rust">f</code> can return only one address, not in all cases <code class="language-rust">b</code> and <code class="language-rust">c</code> need to stay locked.</li>
<li>In many cases we can get quality-of-life improvements.
<ul>
<li>Notably, when we know one parameter <em>couldn't</em> have been used in return value anymore.</li>
</ul>
</li>
</ul>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <memory-row>
        <memory-backdrop class="past" style="padding-left:7px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <memory-backdrop class="past" style="padding-left:3px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <arrows>
            <arrow style="left:210px;width:102px">&nbsp;<tip>▼</tip></arrow>
        </arrows>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="borrowed t"></byte>
            <byte class="borrowed t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 t" style="left:38px">S(1)</value>
            <value class="byte2 hide t" style="left:79px">S(1)</value>
            <value class="byte2 t" style="left:119px">S(2)</value>
            <value class="byte4 ptr" style="left:177px">y + _</value>
            <value class="byte4 hide ptr" style="left:201px">0x6</value>
            <value class="byte4 hide ptr" style="left:224px">0xa</value>
        </values>
        <labels>
            <label class="byte2" style="left:37px"><code class="language-rust">a</code></label>
            <label class="byte4" style="left:59px"><code class="language-rust">b</code></label>
            <label class="byte2" style="left:81px"><code class="language-rust">c</code></label>
            <label class="byte4" style="left:139px"><code class="language-rust">r</code></label>
            <label class="byte4 hide" style="left:165px"><code class="language-rust">x</code></label>
            <label class="byte4 hide" style="left:188px"><code class="language-rust">y</code></label>
        </labels>
        <subtext>Lifetimes Propagate Borrowed State</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'b</span><span class="token punctuation">,</span> <span class="token lifetime-annotation symbol">'c</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span> <span class="token class-name">S</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'c</span> <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'c</span> <span class="token keyword keyword-u8">u8</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>

<span class="token keyword keyword-let">let</span> b <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> c <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-let">let</span> r <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// We know returned reference is `c`-based, which must stay locked,</span>
                   <span class="token comment">// while `b` is free to move.</span>

<span class="token keyword keyword-let">let</span> a <span class="token operator">=</span> b<span class="token punctuation">;</span>

<span class="token function">print_byte</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Lifetime parameters in signatures, like <code class="language-rust"><span class="token lifetime-annotation symbol">'c</span></code> above, solve that problem.</li>
<li>Their primary purpose is:
<ul>
<li><strong>outside the function</strong>, to explain based on which input address an output address could be generated,</li>
<li><strong>within the function</strong>, to guarantee only addresses that live at least <code class="language-rust"><span class="token lifetime-annotation symbol">'c</span></code> are assigned.</li>
</ul>
</li>
<li>The actual lifetimes <code class="language-rust"><span class="token lifetime-annotation symbol">'b</span></code>, <code class="language-rust"><span class="token lifetime-annotation symbol">'c</span></code> are transparently picked by the compiler at <strong>call site</strong>, based on the borrowed variables the developer gave.</li>
<li>They are <strong>not</strong> equal to the <em>scope</em> (which would be LOC from initialization to destruction) of <code class="language-rust">b</code> or <code class="language-rust">c</code>, but only a minimal subset of their scope called <em>lifetime</em>, that is, a minmal set of LOC based on how long <code class="language-rust">b</code> and <code class="language-rust">c</code> need to be borrowed to perform this call and use the obtained result.</li>
<li>In some cases, like if <code class="language-rust">f</code> had <code class="language-rust"><span class="token lifetime-annotation symbol">'c</span><span class="token punctuation">:</span> <span class="token lifetime-annotation symbol">'b</span></code> instead, we still couldn't distinguish and both needed to stay locked.</li>
</ul>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <memory-row>
        <memory-backdrop class="past" style="padding-left:7px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte class="atomic"></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <memory-backdrop class="past" style="padding-left:3px">
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 t" style="left:38px">S(2)</value>
            <value class="byte2 hide t" style="left:79px">S(1)</value>
            <value class="byte2 hide t" style="left:119px">S(2)</value>
            <value class="byte4 hide ptr" style="left:177px">y + 1</value>
            <value class="byte4 hide ptr" style="left:201px">0x6</value>
            <value class="byte4 hide ptr" style="left:224px">0xa</value>
        </values>
        <labels>
            <label class="byte2" style="left:37px"><code class="language-rust">a</code></label>
            <label class="byte4 hide" style="left:59px"><code class="language-rust">b</code></label>
            <label class="byte2" style="left:81px"><code class="language-rust">c</code></label>
            <label class="byte4 hide" style="left:139px"><code class="language-rust">r</code></label>
            <label class="byte4 hide" style="left:165px"><code class="language-rust">x</code></label>
            <label class="byte4 hide" style="left:188px"><code class="language-rust">y</code></label>
        </labels>
        
        <subtext>Unlocking</subtext>
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-let">let</span> <span class="token keyword keyword-mut">mut</span> c <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-let">let</span> r <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> s <span class="token operator">=</span> r<span class="token punctuation">;</span>
                    <span class="token comment">// &lt;- Not here, `s` prolongs locking of `c`.</span>

<span class="token function">print_byte</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-let">let</span> a <span class="token operator">=</span> c<span class="token punctuation">;</span>          <span class="token comment">// &lt;- But here, no more use of `r` or `s`.</span>


</code></pre>
<ul>
<li>A variable location is <em>unlocked</em> again once the last use of any reference that may point to it ends.</li>
</ul>
</explanation>
</lifetime-section>
</div></panel></tab>

<tab>
<input type="radio" id="tab-lt-12" name="tab-lt">
<label for="tab-lt-12"><b>Advanced <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></b></label>
<panel>
<div>
<lifetime-section>
<lifetime-example>
    <memory-row>
        <arrows>
            <arrow style="left:53px;width:92px">&nbsp;<tip>▼</tip></arrow>
            <arrow style="left:57px;width:104px">&nbsp;<tip>▼</tip></arrow>
            <arrow style="left:-155px;width:320px;top:-5px;border-style:dashed">&nbsp;</arrow>
        </arrows>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte class="ptr"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <value class="byte2 t" style="left:38px">S(1)</value>
            <value class="byte4 ptr" style="left:80px">0x2</value>
            <value class="byte4 ptr" style="left:120px">0x6</value>
            <value class="byte4 ptr" style="left:162px">0x2</value>
        </values>
        <labels>
            <label class="byte2" style="left:37px"><code class="language-rust">a</code></label>
            <label class="byte4" style="left:79px"><code class="language-rust">ra</code></label>
            <label class="byte2" style="left:139px"><code class="language-rust">rb</code></label>
            <label class="byte2" style="left:216px"><code class="language-rust">rval</code></label>
        </labels>
        <subtext>References to References</subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// Return short ('b) reference</span>
<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f1sr</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'b</span><span class="token punctuation">,</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>rb<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span>     <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span>     <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span>     <span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token operator">*</span>rb <span class="token punctuation">}</span>
<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f2sr</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'b</span><span class="token punctuation">,</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>rb<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span>     <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-mut">mut</span> <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span>     <span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token operator">*</span>rb <span class="token punctuation">}</span>
<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f3sr</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'b</span><span class="token punctuation">,</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>rb<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span> <span class="token keyword keyword-mut">mut</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span>     <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span>     <span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token operator">*</span>rb <span class="token punctuation">}</span>
<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f4sr</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'b</span><span class="token punctuation">,</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>rb<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span> <span class="token keyword keyword-mut">mut</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-mut">mut</span> <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span>     <span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token operator">*</span>rb <span class="token punctuation">}</span>

<span class="token comment">// Return short ('b) mutable reference.</span>
<span class="token comment">// f1sm&lt;'b, 'a&gt;(rb: &amp;'b     &amp;'a     S) -&gt; &amp;'b mut S { *rb } // M</span>
<span class="token comment">// f2sm&lt;'b, 'a&gt;(rb: &amp;'b     &amp;'a mut S) -&gt; &amp;'b mut S { *rb } // M</span>
<span class="token comment">// f3sm&lt;'b, 'a&gt;(rb: &amp;'b mut &amp;'a     S) -&gt; &amp;'b mut S { *rb } // M</span>
<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f4sm</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'b</span><span class="token punctuation">,</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>rb<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span> <span class="token keyword keyword-mut">mut</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-mut">mut</span> <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span> <span class="token keyword keyword-mut">mut</span> <span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token operator">*</span>rb <span class="token punctuation">}</span>

<span class="token comment">// Return long ('a) reference.</span>
<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f1lr</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'b</span><span class="token punctuation">,</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>rb<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span>     <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span>     <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span>     <span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token operator">*</span>rb <span class="token punctuation">}</span>
<span class="token comment">// f2lr&lt;'b, 'a&gt;(rb: &amp;'b     &amp;'a mut S) -&gt; &amp;'a     S { *rb } // L</span>
<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f3lr</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'b</span><span class="token punctuation">,</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>rb<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span> <span class="token keyword keyword-mut">mut</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span>     <span class="token class-name">S</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span>     <span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token operator">*</span>rb <span class="token punctuation">}</span>
<span class="token comment">// f4lr&lt;'b, 'a&gt;(rb: &amp;'b mut &amp;'a mut S) -&gt; &amp;'a     S { *rb } // L</span>

<span class="token comment">// Return long ('a) mutable reference.</span>
<span class="token comment">// f1lm&lt;'b, 'a&gt;(rb: &amp;'b     &amp;'a     S) -&gt; &amp;'a mut S { *rb } // M</span>
<span class="token comment">// f2lm&lt;'b, 'a&gt;(rb: &amp;'b     &amp;'a mut S) -&gt; &amp;'a mut S { *rb } // M</span>
<span class="token comment">// f3lm&lt;'b, 'a&gt;(rb: &amp;'b mut &amp;'a     S) -&gt; &amp;'a mut S { *rb } // M</span>
<span class="token comment">// f4lm&lt;'b, 'a&gt;(rb: &amp;'b mut &amp;'a mut S) -&gt; &amp;'a mut S { *rb } // L</span>

<span class="token comment">// Now assume we have a `ra` somewhere</span>
<span class="token keyword keyword-let">let</span> <span class="token keyword keyword-mut">mut</span> ra<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-mut">mut</span> <span class="token class-name">S</span> <span class="token operator">=</span> …<span class="token punctuation">;</span>

<span class="token keyword keyword-let">let</span> rval <span class="token operator">=</span> <span class="token function">f1sr</span><span class="token punctuation">(</span><span class="token operator">&amp;&amp;</span><span class="token operator">*</span>ra<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// OK</span>
<span class="token keyword keyword-let">let</span> rval <span class="token operator">=</span> <span class="token function">f2sr</span><span class="token punctuation">(</span><span class="token operator">&amp;&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token operator">*</span>ra<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> rval <span class="token operator">=</span> <span class="token function">f3sr</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token operator">&amp;</span><span class="token operator">*</span>ra<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> rval <span class="token operator">=</span> <span class="token function">f4sr</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> ra<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//  rval = f1sm(&amp;&amp;*ra);       // Would be bad, since rval would be mutable</span>
<span class="token comment">//  rval = f2sm(&amp;&amp;mut *ra);   // reference obtained from broken mutability</span>
<span class="token comment">//  rval = f3sm(&amp;mut &amp;*ra);   // chain.</span>
<span class="token keyword keyword-let">let</span> rval <span class="token operator">=</span> <span class="token function">f4sm</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> ra<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-let">let</span> rval <span class="token operator">=</span> <span class="token function">f1lr</span><span class="token punctuation">(</span><span class="token operator">&amp;&amp;</span><span class="token operator">*</span>ra<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//  rval = f2lr(&amp;&amp;mut *ra);   // If this worked we'd have `rval` and `ra` …</span>
<span class="token keyword keyword-let">let</span> rval <span class="token operator">=</span> <span class="token function">f3lr</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token operator">&amp;</span><span class="token operator">*</span>ra<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//  rval = f4lr(&amp;mut ra);     // … now (mut) aliasing `S` in compute below.</span>

<span class="token comment">//  rval = f1lm(&amp;&amp;*ra);       // Same as above, fails for mut-chain reasons.</span>
<span class="token comment">//  rval = f2lm(&amp;&amp;mut *ra);   //                    "</span>
<span class="token comment">//  rval = f3lm(&amp;mut &amp;*ra);   //                    "</span>
<span class="token comment">//  rval = f4lm(&amp;mut ra);     // Same as above, fails for aliasing reasons.</span>

<span class="token comment">// Some fictitious place where we use `ra` and `rval`, both alive.</span>
<span class="token function">compute</span><span class="token punctuation">(</span>ra<span class="token punctuation">,</span> rval<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<footnotes>
<p>Here (<code class="language-rust"><span class="token class-name">M</span></code>) means compilation fails because mutability error, (<code class="language-rust"><span class="token class-name">L</span></code>) lifetime error.
Also, dereference <code class="language-rust"><span class="token operator">*</span>rb</code> not strictly necessary, just added for clarity.</p>
</footnotes>
<ul>
<li><code class="language-rust">f_sr</code> cases always work, short reference (only living <code class="language-rust"><span class="token lifetime-annotation symbol">'b</span></code>) can always be produced.</li>
<li><code class="language-rust">f_sm</code> cases usually fail simply because <em>mutable chain</em> to <code class="language-rust"><span class="token class-name">S</span></code> needed to return <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">S</span></code>.</li>
<li><code class="language-rust">f_lr</code> cases can fail because returning <code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">S</span></code> from <code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-mut">mut</span> <span class="token class-name">S</span></code> to caller means there would now exist two references (one mutable) to same <code class="language-rust"><span class="token class-name">S</span></code> which is illegal.</li>
<li><code class="language-rust">f_lm</code> cases always fail for combination of reasons above.</li>
</ul>
</explanation>
</lifetime-section>
<lifetime-section>
<lifetime-example class="not-first">
    <memory-row>
        <memory-backdrop>
            <byte></byte>
            <byte></byte>
            <byte class="t"></byte>
            <byte class="t"></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
            <byte></byte>
        </memory-backdrop>
        <values>
            <drop><value class="byte2 t" style="left:38px">S(1)</value><droparrow style="left:17px">▼</droparrow></drop>
        </values>
        <labels>
            <label class="byte2" style="left:37px"><code class="language-rust">_</code></label>
            
        </labels>
        <subtext>Drop and <code class="language-rust">_</code></subtext>
        
    </memory-row>
</lifetime-example>
<explanation>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token punctuation">{</span>
    <span class="token keyword keyword-let">let</span> f <span class="token operator">=</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>x<span class="token punctuation">,</span> y<span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">S</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Function returning two 'Droppables'.</span>

    <span class="token keyword keyword-let">let</span> <span class="token punctuation">(</span>    x1<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// S(1) - Scope   S(4) - Scope</span>
    <span class="token keyword keyword-let">let</span> <span class="token punctuation">(</span>    x2<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// S(2) - Scope   S(5) - Immediately</span>
    <span class="token keyword keyword-let">let</span> <span class="token punctuation">(</span><span class="token keyword keyword-ref">ref</span> x3<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// S(3) - Scope   S(6) - Scope</span>

    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"…"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<footnotes>
<p>Here <code class="language-rust"><span class="token class-name">Scope</span></code> means contained value lives until end of scope, i.e., past the <code class="language-rust"><span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</p>
</footnotes>
<ul>
<li>Functions or expressions producing movable values must be handled by callee.</li>
<li>Values stores in 'normal' bindings are kept until end of scope, then dropped.</li>
<li>Values stored in <code class="language-rust">_</code> bindings are usually dropped right away.</li>
<li>However, sometimes references (e.g., <code class="language-rust"><span class="token keyword keyword-ref">ref</span> x3</code>) can keep value (e.g., the tuple <code class="language-rust"><span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>) around for longer, so <code class="language-rust"><span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span></code>, being part of that tuple can only be dropped once reference to its <code class="language-rust"><span class="token class-name">S</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></code> sibling disappears).</li>
</ul>
</explanation>
</lifetime-section>
</div></panel></tab>
</tabs>
<footnotes>
<p>↕️ Examples expand by clicking.</p>
</footnotes>
<div>&nbsp;</div></magic>
<hr>
<h1 id="memory-layout">Memory Layout<sup id="target-memory-layout" class="target"><a href="#memory-layout">url</a></sup></h1>
<p>Byte representations of common types.</p>
<h2 id="basic-types">Basic Types<sup id="target-basic-types" class="target"><a href="#basic-types">url</a></sup><feedback element-id="basic-types" id="feedback-basic-types">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-basic-types', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-basic-types');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-basic-types', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-basic-types');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-basic-types', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-basic-types', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-basic-types');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Essential types built into the core of the language.</p>
<h4 id="boolean-and-numeric-types">Boolean <a href="https://doc.rust-lang.org/reference/types/boolean.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> and Numeric Types <a href="https://doc.rust-lang.org/reference/types/numeric.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a><sup id="target-boolean-and-numeric-types" class="target"><a href="#boolean-and-numeric-types">url</a></sup><feedback element-id="boolean-and-numeric-types" id="feedback-boolean-and-numeric-types">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-boolean-and-numeric-types', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-boolean-and-numeric-types');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-boolean-and-numeric-types', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-boolean-and-numeric-types');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-boolean-and-numeric-types', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-boolean-and-numeric-types', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-boolean-and-numeric-types');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h4>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-bool">bool</span></code></name>
    <visual class="bool">
        <byte><code class="language-rust"></code></byte>
    </visual>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code>, <code class="language-rust"><span class="token keyword keyword-i8">i8</span></code></name>
    <visual class="bytes">
        <byte><code class="language-rust"></code></byte>
    </visual>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code>, <code class="language-rust"><span class="token keyword keyword-i16">i16</span></code></name>
    <visual class="bytes">
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
    </visual>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-u32">u32</span></code>, <code class="language-rust"><span class="token keyword keyword-i32">i32</span></code></name>
    <visual class="bytes">
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
    </visual>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-u64">u64</span></code>, <code class="language-rust"><span class="token keyword keyword-i64">i64</span></code></name>
    <visual class="bytes">
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
    </visual>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-u128">u128</span></code>, <code class="language-rust"><span class="token keyword keyword-i128">i128</span></code></name>
    <visual class="bytes">
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
    </visual>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-usize">usize</span></code>, <code class="language-rust"><span class="token keyword keyword-isize">isize</span></code></name>
    <visual class="sized">
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte style="border-color:#888"><code class="language-rust"></code></byte>
        <byte style="border-color:#888"><code class="language-rust"></code></byte>
        <byte style="border-color:#aaa"><code class="language-rust"></code></byte>
        <byte style="border-color:#aaa"><code class="language-rust"></code></byte>
        <byte style="border-color:#aaa"><code class="language-rust"></code></byte>
        <byte style="border-color:#aaa"><code class="language-rust"></code></byte>
    </visual>
    <zoom>
        Same as <code class="language-rust">ptr</code> on platform.
    </zoom>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-f16">f16</span></code> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a> </name>
    <visual class="float">
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
    </visual>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-f32">f32</span></code></name>
    <visual class="float">
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
    </visual>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-f64">f64</span></code></name>
    <visual class="float">
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
    </visual>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-f128">f128</span></code> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a> </name>
    <visual class="float">
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
    </visual>
</datum>
<br>
<div>&nbsp;</div>
<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<tabs>

<tab>
<input type="radio" id="tab-numeric-1" name="tab-group-numeric" checked="">
<label for="tab-numeric-1"><b>Unsigned Types</b></label>
<panel><div>
<table><thead><tr><th>Type</th><th>Max Value</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token number">255</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td><td><code class="language-rust"><span class="token number">65_535</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-u32">u32</span></code></td><td><code class="language-rust"><span class="token number">4_294_967_295</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-u64">u64</span></code></td><td><code class="language-rust"><span class="token number">18_446_744_073_709_551_615</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-u128">u128</span></code></td><td><code class="language-rust"><span class="token number">340_282_366_920_938_463_463_374_607_431_768_211_455</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-usize">usize</span></code></td><td>Depending on platform pointer size, same as <code class="language-rust"><span class="token keyword keyword-u16">u16</span></code>, <code class="language-rust"><span class="token keyword keyword-u32">u32</span></code>, or <code class="language-rust"><span class="token keyword keyword-u64">u64</span></code>.</td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-numeric-3" name="tab-group-numeric">
<label for="tab-numeric-3"><b>Signed Types</b></label>
<panel><div>
<table><thead><tr><th>Type</th><th>Max Value</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-i8">i8</span></code></td><td><code class="language-rust"><span class="token number">127</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-i16">i16</span></code></td><td><code class="language-rust"><span class="token number">32_767</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-i32">i32</span></code></td><td><code class="language-rust"><span class="token number">2_147_483_647</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-i64">i64</span></code></td><td><code class="language-rust"><span class="token number">9_223_372_036_854_775_807</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-i128">i128</span></code></td><td><code class="language-rust"><span class="token number">170_141_183_460_469_231_731_687_303_715_884_105_727</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-isize">isize</span></code></td><td>Depending on platform pointer size, same as <code class="language-rust"><span class="token keyword keyword-i16">i16</span></code>, <code class="language-rust"><span class="token keyword keyword-i32">i32</span></code>, or <code class="language-rust"><span class="token keyword keyword-i64">i64</span></code>.</td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Type</th><th>Min Value</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-i8">i8</span></code></td><td><code class="language-rust"><span class="token operator">-</span><span class="token number">128</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-i16">i16</span></code></td><td><code class="language-rust"><span class="token operator">-</span><span class="token number">32_768</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-i32">i32</span></code></td><td><code class="language-rust"><span class="token operator">-</span><span class="token number">2_147_483_648</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-i64">i64</span></code></td><td><code class="language-rust"><span class="token operator">-</span><span class="token number">9_223_372_036_854_775_808</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-i128">i128</span></code></td><td><code class="language-rust"><span class="token operator">-</span><span class="token number">170_141_183_460_469_231_731_687_303_715_884_105_728</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-isize">isize</span></code></td><td>Depending on platform pointer size, same as <code class="language-rust"><span class="token keyword keyword-i16">i16</span></code>, <code class="language-rust"><span class="token keyword keyword-i32">i32</span></code>, or <code class="language-rust"><span class="token keyword keyword-i64">i64</span></code>.</td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-numeric-6" name="tab-group-numeric">
<label for="tab-numeric-6"><b>Float Types</b></label>
<panel><div>
<table><thead><tr><th>Type</th><th>Max value</th><th>Min pos value</th><th>Max lossless integer<sup>1</sup></th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-f16">f16</span></code> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td><td>65536.0 <a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td><td><a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td><td><code class="language-rust"><span class="token number">2048</span></code> <a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-f32">f32</span></code></td><td>3.40 ⋅ 10 <sup>38</sup></td><td>3.40 ⋅ 10 <sup>-38</sup></td><td><code class="language-rust"><span class="token number">16_777_216</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-f64">f64</span></code></td><td>1.79 ⋅ 10 <sup>308</sup></td><td>2.23 ⋅ 10 <sup>-308</sup></td><td><code class="language-rust"><span class="token number">9_007_199_254_740_992</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-f128">f128</span></code> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td><td><a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td><td><a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td><td><a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td></tr>
</tbody></table>
<footnotes>
<p><sup>1</sup> The maximum integer <code class="language-rust"><span class="token class-name">M</span></code> so that all other integers <code class="language-rust"><span class="token number">0</span> <span class="token operator">&lt;=</span> <span class="token class-name">X</span> <span class="token operator">&lt;=</span> <span class="token class-name">M</span></code> can be
losslessly represented in that type. In other words, there might be larger integers
that could still be represented losslessly (e.g., <code class="language-rust"><span class="token number">65536</span></code> for <code class="language-rust"><span class="token keyword keyword-f16">f16</span></code>), but up until that
value a lossless representation is guaranteed.</p>
</footnotes>
<div>&nbsp;</div>
<blockquote>
<p>Float values approximated for visual clarity. Negative limits are values multipled with -1.</p>
</blockquote>
</div></panel></tab>

<tab>
<input type="radio" id="tab-numeric-2" name="tab-group-numeric">
<label for="tab-numeric-2"><b>Float Internals</b><a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></label>
<panel><div>
<p>Sample bit representation<sup>*</sup> for a <code class="language-rust"><span class="token keyword keyword-f32">f32</span></code>:</p>

<datum style="opacity:.7;margin-bottom:10px">
    <visual class="float">
    <bitgroup>
        <bit><code class="language-rust"><span class="token class-name">S</span></code></bit>
    </bitgroup>
    <bitgroup>
        <bit><code class="language-rust"><span class="token class-name">E</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">E</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">E</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">E</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">E</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">E</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">E</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">E</span></code></bit>
    </bitgroup>
    <bitgroup>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
        <bit><code class="language-rust"><span class="token class-name">F</span></code></bit>
    </bitgroup>
    </visual>
</datum>
<div>&nbsp;</div>
<p>Explanation:</p>
<table><thead><tr><th>f32</th><th>S (1)</th><th>E (8)</th><th>F (23)</th><th>Value</th></tr></thead><tbody>
<tr><td>Normalized number</td><td>±</td><td>1 to 254</td><td>any</td><td>±(1.F)<sub>2</sub> * 2<sup>E-127</sup></td></tr>
<tr><td>Denormalized number</td><td>±</td><td>0</td><td>non-zero</td><td>±(0.F)<sub>2</sub> * 2<sup>-126</sup></td></tr>
<tr><td>Zero</td><td>±</td><td>0</td><td>0</td><td>±0</td></tr>
<tr><td>Infinity</td><td>±</td><td>255</td><td>0</td><td>±∞</td></tr>
<tr><td>NaN</td><td>±</td><td>255</td><td>non-zero</td><td>NaN</td></tr>
</tbody></table>
<div>&nbsp;</div>
<p>Similarly, for <code class="language-rust"><span class="token keyword keyword-f64">f64</span></code> types this would look like:</p>
<table><thead><tr><th>f64</th><th>S (1)</th><th>E (11)</th><th>F (52)</th><th>Value</th></tr></thead><tbody>
<tr><td>Normalized number</td><td>±</td><td>1 to 2046</td><td>any</td><td>±(1.F)<sub>2</sub> * 2<sup>E-1023</sup></td></tr>
<tr><td>Denormalized number</td><td>±</td><td>0</td><td>non-zero</td><td>±(0.F)<sub>2</sub> * 2<sup>-1022</sup></td></tr>
<tr><td>Zero</td><td>±</td><td>0</td><td>0</td><td>±0</td></tr>
<tr><td>Infinity</td><td>±</td><td>2047</td><td>0</td><td>±∞</td></tr>
<tr><td>NaN</td><td>±</td><td>2047</td><td>non-zero</td><td>NaN</td></tr>
</tbody></table>
<footnotes>
    <sup>*</sup> Float types follow <a href="https://en.wikipedia.org/wiki/IEEE_754-2008_revision">IEEE 754-2008</a> and depend on platform endianness.
</footnotes>
</div></panel></tab>

<tab>
<input type="radio" id="tab-numeric-4" name="tab-group-numeric">
<label for="tab-numeric-4"><b>Casting Pitfalls</b> <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a></label>
<panel><div>
<table><thead><tr><th>Cast<sup>1</sup></th><th>Gives</th><th>Note</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token number">3.9_f32</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token number">3</span></code></td><td>Truncates, consider <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> first.</td></tr>
<tr><td><code class="language-rust"><span class="token number">314_f32</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token number">255</span></code></td><td>Takes closest available number.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-f32">f32</span><span class="token punctuation">::</span><span class="token constant">INFINITY</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token number">255</span></code></td><td>Same, treats <code class="language-rust"><span class="token constant">INFINITY</span></code> as <em>really</em> large number.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-f32">f32</span><span class="token punctuation">::</span><span class="token constant">NAN</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token number">0</span></code></td><td>-</td></tr>
<tr><td><code class="language-rust"><span class="token constant">_314</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token number">58</span></code></td><td>Truncates excess bits.</td></tr>
<tr><td><code class="language-rust"><span class="token constant">_257</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-i8">i8</span></code></td><td><code class="language-rust"><span class="token number">1</span></code></td><td>Truncates excess bits.</td></tr>
<tr><td><code class="language-rust"><span class="token constant">_200</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-i8">i8</span></code></td><td><code class="language-rust"><span class="token operator">-</span><span class="token number">56</span></code></td><td>Truncates excess bits, MSB might then also signal negative.</td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-numeric-5" name="tab-group-numeric">
<label for="tab-numeric-5"><b>Arithmetic Pitfalls</b> <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a></label>
<panel><div>
<table><thead><tr><th>Operation<sup>1</sup></th><th>Gives</th><th>Note</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token number">200_u8</span> <span class="token operator">/</span> <span class="token number">0_u8</span></code></td><td>Compile error.</td><td>-</td></tr>
<tr><td><code class="language-rust"><span class="token number">200_u8</span> <span class="token operator">/</span> <span class="token constant">_0</span></code> <sup>d, r</sup></td><td>Panic.</td><td>Regular math may panic; here: division by zero.</td></tr>
<tr><td><code class="language-rust"><span class="token number">200_u8</span> <span class="token operator">+</span> <span class="token number">200_u8</span></code></td><td>Compile error.</td><td>-</td></tr>
<tr><td><code class="language-rust"><span class="token number">200_u8</span> <span class="token operator">+</span> <span class="token constant">_200</span></code> <sup>d</sup></td><td>Panic.</td><td>Consider <code class="language-rust">checked_</code>, <code class="language-rust">wrapping_</code>, … instead. <a href="https://doc.rust-lang.org/std/primitive.isize.html#method.checked_add" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token number">200_u8</span> <span class="token operator">+</span> <span class="token constant">_200</span></code> <sup>r</sup></td><td><code class="language-rust"><span class="token number">144</span></code></td><td>In release mode this will overflow.</td></tr>
<tr><td><code class="language-rust"><span class="token operator">-</span><span class="token number">128_i8</span> <span class="token operator">*</span> <span class="token operator">-</span><span class="token number">1</span></code></td><td>Compile error.</td><td>Would overflow (<code class="language-rust"><span class="token number">128_i8</span></code> doesn't exist).</td></tr>
<tr><td><code class="language-rust"><span class="token operator">-</span><span class="token number">128_i8</span> <span class="token operator">*</span> _1neg</code> <sup>d</sup></td><td>Panic.</td><td>-</td></tr>
<tr><td><code class="language-rust"><span class="token operator">-</span><span class="token number">128_i8</span> <span class="token operator">*</span> _1neg</code> <sup>r</sup></td><td><code class="language-rust"><span class="token operator">-</span><span class="token number">128</span></code></td><td>Overflows back to <code class="language-rust"><span class="token operator">-</span><span class="token number">128</span></code> in release mode.</td></tr>
<tr><td><code class="language-rust"><span class="token number">1_u8</span> <span class="token operator">/</span> <span class="token number">2_u8</span></code></td><td><code class="language-rust"><span class="token number">0</span></code></td><td>Other integer division truncates.</td></tr>
<tr><td><code class="language-rust"><span class="token number">0.8_f32</span> <span class="token operator">+</span> <span class="token number">0.1_f32</span></code></td><td><code class="language-rust"><span class="token number">0.90000004</span></code></td><td>-</td></tr>
<tr><td><code class="language-rust"><span class="token number">1.0_f32</span> <span class="token operator">/</span> <span class="token number">0.0_f32</span></code></td><td><code class="language-rust"><span class="token keyword keyword-f32">f32</span><span class="token punctuation">::</span><span class="token constant">INFINITY</span></code></td><td>-</td></tr>
<tr><td><code class="language-rust"><span class="token number">0.0_f32</span> <span class="token operator">/</span> <span class="token number">0.0_f32</span></code></td><td><code class="language-rust"><span class="token keyword keyword-f32">f32</span><span class="token punctuation">::</span><span class="token constant">NAN</span></code></td><td>-</td></tr>
<tr><td><code class="language-rust">x <span class="token operator">&lt;</span> <span class="token keyword keyword-f32">f32</span><span class="token punctuation">::</span><span class="token constant">NAN</span></code></td><td><code class="language-rust"><span class="token boolean">false</span></code></td><td><code class="language-rust"><span class="token constant">NAN</span></code> comparisons always return false.</td></tr>
<tr><td><code class="language-rust">x <span class="token operator">&gt;</span> <span class="token keyword keyword-f32">f32</span><span class="token punctuation">::</span><span class="token constant">NAN</span></code></td><td><code class="language-rust"><span class="token boolean">false</span></code></td><td><code class="language-rust"><span class="token constant">NAN</span></code> comparisons always return false.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-f32">f32</span><span class="token punctuation">::</span><span class="token constant">NAN</span> <span class="token operator">==</span> <span class="token keyword keyword-f32">f32</span><span class="token punctuation">::</span><span class="token constant">NAN</span></code></td><td><code class="language-rust"><span class="token boolean">false</span></code></td><td>Use <code class="language-rust"><span class="token keyword keyword-f32">f32</span><span class="token punctuation">::</span><span class="token function">is_nan</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="https://doc.rust-lang.org/std/primitive.f32.html#method.is_nan" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> instead.</td></tr>
</tbody></table>
</div></panel></tab>

</tabs>

</div></div>
<footnotes>
<p><sup>1</sup> Expression <code class="language-rust"><span class="token constant">_100</span></code> means anything that might contain the value <code class="language-rust"><span class="token number">100</span></code>, e.g., <code class="language-rust"><span class="token number">100_i32</span></code>, but is opaque to compiler.<br>
<sup>d</sup> Debug build.<br>
<sup>r</sup> Release build.<br></p>
</footnotes>
<div>&nbsp;</div><h4 id="textual-types">Textual Types <a href="https://doc.rust-lang.org/reference/types/textual.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a><sup id="target-textual-types" class="target"><a href="#textual-types">url</a></sup><feedback element-id="textual-types" id="feedback-textual-types">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-textual-types', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-textual-types');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-textual-types', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-textual-types');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-textual-types', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-textual-types', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-textual-types');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h4>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-char">char</span></code></name>
    <visual class="char">
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
        <byte><code class="language-rust"></code></byte>
    </visual>
    <description>Any Unicode scalar.</description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-str">str</span></code></name>
    <visual>
        <note>…</note>
        <byte class="bytes"><code class="language-rust"><span class="token class-name">U</span></code></byte>
        <byte class="bytes"><code class="language-rust"><span class="token class-name">T</span></code></byte>
        <byte class="bytes"><code class="language-rust"><span class="token class-name">F</span></code></byte>
        <byte class="bytes"><code class="language-rust"><span class="token operator">-</span></code></byte>
        <byte class="bytes"><code class="language-rust"><span class="token number">8</span></code></byte>
        <note>… unspecified times</note>
    </visual>
    <description>Rarely seen alone, but as <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code> instead.</description>
</datum>
<div>&nbsp;</div><tabs>

<tab>
<input type="radio" id="tab-textual-3" name="tab-group-textual" checked="">
<label for="tab-textual-3"><b>Basics</b></label>
<panel><div>
<table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-char">char</span></code></td><td>Always 4 bytes and only holds a single Unicode <strong>scalar value</strong> <a href="https://www.unicode.org/glossary/#unicode_scalar_value" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-str">str</span></code></td><td>An <code class="language-rust"><span class="token keyword keyword-u8">u8</span></code>-array of unknown length guaranteed to hold <strong>UTF-8 encoded code points</strong>.</td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-textual-1" name="tab-group-textual">
<label for="tab-textual-1"><b>Usage</b></label>
<panel><div>

<table><thead><tr><th>Chars</th><th>Description</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-let">let</span> c <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span></code></td><td>Often a <code class="language-rust"><span class="token keyword keyword-char">char</span></code> (unicode scalar) can coincide with your intuition of <em>character</em>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-let">let</span> c <span class="token operator">=</span> <span class="token char">'❤'</span><span class="token punctuation">;</span></code></td><td>It can also hold many Unicode symbols.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-let">let</span> c <span class="token operator">=</span> '❤️'<span class="token punctuation">;</span></code></td><td>But not always. Given emoji is <strong>two</strong> <code class="language-rust"><span class="token keyword keyword-char">char</span></code> (see Encoding) and <strong>can't</strong> <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> be held by <code class="language-rust">c</code>.<sup>1</sup></td></tr>
<tr><td><code class="language-rust">c <span class="token operator">=</span> <span class="token number">0xffff_ffff</span><span class="token punctuation">;</span></code></td><td>Also, chars are <strong>not allowed</strong> <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> to hold arbitrary bit patterns.</td></tr>
</tbody></table>
<footnotes>
    <sup>1</sup> Fun fact, due to the <a href="https://en.wikipedia.org/wiki/Zero-width_joiner">Zero-width joiner</a> (⨝) what the user <i>perceives as a character</i> can get even more unpredictable: 👨‍👩‍👧 is in fact 5 chars 👨⨝👩⨝👧, and rendering engines are free to either show them fused as one, or separately as three, depending on their abilities.
</footnotes>
<div>&nbsp;</div><table><thead><tr><th>Strings</th><th>Description</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-let">let</span> s <span class="token operator">=</span> <span class="token string">"a"</span><span class="token punctuation">;</span></code></td><td>A <code class="language-rust"><span class="token keyword keyword-str">str</span></code> is usually never held directly, but as <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code>, like <code class="language-rust">s</code> here.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-let">let</span> s <span class="token operator">=</span> <span class="token string">"❤❤️"</span><span class="token punctuation">;</span></code></td><td>It can hold arbitrary text, has variable length per <em>c.</em>, and is hard to index.</td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-textual-2" name="tab-group-textual">
<label for="tab-textual-2"><b>Encoding</b><a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></label>
<panel><div>
<p><code class="language-rust"><span class="token keyword keyword-let">let</span> s <span class="token operator">=</span> <span class="token string">"I ❤ Rust"</span><span class="token punctuation">;</span> </code> <br>
<code class="language-rust"><span class="token keyword keyword-let">let</span> t <span class="token operator">=</span> <span class="token string">"I ❤️ Rust"</span><span class="token punctuation">;</span></code></p>
<table><thead><tr><th>Variant</th><th>Memory Representation<sup>2<sup></sup></sup></th></tr></thead><tbody>
<tr><td><code class="language-rust">s<span class="token punctuation">.</span><span class="token function">as_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token number">49</span></code> <code class="language-rust"><span class="token number">20</span></code> <span class="force-code-color same-black"><b><code class="language-rust">e2 9d a4</code></b> </span> <code class="language-rust"><span class="token number">20</span> <span class="token number">52</span> <span class="token number">75</span> <span class="token number">73</span> <span class="token number">74</span></code> <sup>3<sup></sup></sup></td></tr>
<tr><td><code class="language-rust">t<span class="token punctuation">.</span><span class="token function">as_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token number">49</span></code> <code class="language-rust"><span class="token number">20</span></code> <span class="force-code-color same-black"><b><code class="language-rust">e2 9d a4</code></b> </span> <span class="force-code-color same-red"><b><code class="language-rust">ef b8 8f</code></b></span> <code class="language-rust"><span class="token number">20</span> <span class="token number">52</span> <span class="token number">75</span> <span class="token number">73</span> <span class="token number">74</span></code> <sup>4<sup></sup></sup></td></tr>
<tr><td><code class="language-rust">s<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code><sup>1<sup></sup></sup></td><td><code class="language-rust"><span class="token number">49</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">20</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span></code> <span class="force-code-color same-black"><b><code class="language-rust"><span class="token number">64</span> <span class="token number">27</span> <span class="token number">00</span> <span class="token number">00</span></code> </b></span> <code class="language-rust"><span class="token number">20</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">52</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">75</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">73</span> <span class="token number">00</span></code> …</td></tr>
<tr><td><code class="language-rust">t<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code><sup>1<sup></sup></sup></td><td><code class="language-rust"><span class="token number">49</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">20</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span></code> <span class="force-code-color same-black"><b><code class="language-rust"><span class="token number">64</span> <span class="token number">27</span> <span class="token number">00</span> <span class="token number">00</span></code></b></span> <span class="force-code-color same-red"><b><code class="language-rust">0f fe <span class="token number">01</span> <span class="token number">00</span></code></b></span> <code class="language-rust"><span class="token number">20</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">52</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">75</span> <span class="token number">00</span></code> …</td></tr>
</tbody></table>
<div>&nbsp;</div><footnotes>
    <sup>1</sup> Result then collected into array and transmuted to bytes.<br>
    <sup>2</sup> Values given in hex, on x86.<br>
    <sup>3</sup> Notice how <code class="language-rust">❤</code>, having <a href="https://codepoints.net/U+2764">Unicode Code Point (U+2764)</a>, is represented as <span class="force-code-color same-black"><b>64 27 00 00</b></span> inside the <code class="language-rust"><span class="token keyword keyword-char">char</span></code>, but got <a href="https://en.wikipedia.org/wiki/UTF-8#Description">UTF-8 encoded to</a> <span class="force-code-color same-black"><b>e2 9d a4</b></span> in the <code class="language-rust"><span class="token keyword keyword-str">str</span></code>.<br>
    <sup>4</sup> Also observe how the emoji <a href="https://emojipedia.org/red-heart/">Red Heart <code class="language-rust">❤️</code></a>, is a combination of <code class="language-rust">❤</code> and the <a href="https://codepoints.net/U+FE0F">U+FE0F Variation Selector</a>, thus <code class="language-rust">t</code> has a higher char count than <code class="language-rust">s</code>.
</footnotes>
<div>&nbsp;</div><footnotes>
<blockquote>
<p><sup>⚠️</sup> For what seem to be browser bugs Safari and Edge render the hearts in Footnote 3 and 4 wrong, despite being able to differentiate them correctly in <code class="language-rust">s</code> and <code class="language-rust">t</code> above.</p>
</blockquote>
</footnotes>
</div></panel></tab>

</tabs>
<div>&nbsp;</div><h2 id="custom-types">Custom Types<sup id="target-custom-types" class="target"><a href="#custom-types">url</a></sup><feedback element-id="custom-types" id="feedback-custom-types">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-custom-types', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-custom-types');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-custom-types', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-custom-types');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-custom-types', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-custom-types', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-custom-types');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Basic types definable by users. Actual <b>layout</b> <a href="https://doc.rust-lang.org/reference/type-layout.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> is subject to <b>representation</b>; <a href="https://doc.rust-lang.org/reference/type-layout.html#representations" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> padding can be present.</p>

<datum class="spaced">
    <name class="nogrow"><code class="language-rust"><span class="token class-name">T</span></code></name>
    <name class="hidden">x</name>
    <visual>
       <framed class="any t"><code class="language-rust"><span class="token class-name">T</span></code></framed>
    </visual>
    <description>Sized <a href="#sized-types" title="On this site, below."><sup>↓</sup></a> </description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token operator">?</span><span class="token class-name">Sized</span></code></name>
    <visual>
       <framed class="any unsized"><code class="language-rust"><span class="token class-name">T</span></code></framed>
    </visual>
    <description>Maybe DST <a href="#sized-types" title="On this site, below."><sup>↓</sup></a> </description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">;</span> n<span class="token punctuation">]</span></code></name>
    <visual>
       <framed class="any t"><code class="language-rust"><span class="token class-name">T</span></code></framed>
       <framed class="any t"><code class="language-rust"><span class="token class-name">T</span></code></framed>
       <framed class="any t"><code class="language-rust"><span class="token class-name">T</span></code></framed>
       <note>… n times</note>
    </visual>
    <description>Fixed array of <code class="language-rust">n</code> elements.</description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span></code></name>
    <visual>
       <note>…</note>
       <framed class="any t"><code class="language-rust"><span class="token class-name">T</span></code></framed>
       <framed class="any t"><code class="language-rust"><span class="token class-name">T</span></code></framed>
       <framed class="any t"><code class="language-rust"><span class="token class-name">T</span></code></framed>
       <note>… unspecified times</note>
    </visual>
    <description><b>Slice type</b> of unknown-many elements. Neither <br> <code class="language-rust"><span class="token class-name">Sized</span></code> (nor carries <code class="language-rust">len</code> information), and most<br> often lives behind reference as <code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span></code>. <a href="#references-pointers-ui" title="On this site, below."><sup>↓</sup></a></description>
</datum>

<datum style="margin-right:70px;position:relative;width:70px">
    <name class="nogrow"><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token punctuation">;</span></code></name>
    <name class="hidden"><code class="language-rust"><span class="token punctuation">;</span></code></name>
    <visual style="width:15px" class="zst">
        <code class="language-rust"></code>
    </visual>
    <description>Zero-Sized <a href="#sized-types" title="On this site, below."><sup>↓</sup></a> </description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">,</span> <span class="token class-name">B</span><span class="token punctuation">,</span> <span class="token class-name">C</span><span class="token punctuation">)</span></code></name>
    <visual style="width:182px">
       <framed class="any"><code class="language-rust"><span class="token class-name">A</span></code></framed>
       <framed class="any" style="width:100px"><code class="language-rust"><span class="token class-name">B</span></code></framed>
       <framed class="any" style="width:50px"><code class="language-rust"><span class="token class-name">C</span></code></framed>
    </visual>
    <andor>or maybe</andor>
    <visual style="width:182px">
       <framed class="any" style="width:100px"><code class="language-rust"><span class="token class-name">B</span></code></framed>
       <framed class="any"><code class="language-rust"><span class="token class-name">A</span></code></framed>
       <framed class="any" style="width:50px"><code class="language-rust"><span class="token class-name">C</span></code></framed>
    </visual>
    <description>Unless a representation is forced <br>(e.g., via <code class="language-rust"><span class="token attribute attr-name">#[repr(C)]</span></code>), type layout<br> unspecified.</description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span> <span class="token punctuation">{</span> b<span class="token punctuation">:</span> <span class="token class-name">B</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token class-name">C</span> <span class="token punctuation">}</span> </code></name>
    <visual style="width:166px">
       <framed class="any" style="width:100px"><code class="language-rust"><span class="token class-name">B</span></code></framed>
       <framed class="any" style="width:50px"><code class="language-rust"><span class="token class-name">C</span></code></framed>
    </visual>
    <andor>or maybe</andor>
    <visual>
       <framed class="any" style="width:50px"><code class="language-rust"><span class="token class-name">C</span></code></framed>
       <pad><code class="language-rust">↦</code></pad>
       <framed class="any" style="width:100px"><code class="language-rust"><span class="token class-name">B</span></code></framed>
    </visual>
    <description>Compiler may also add padding.</description>
</datum>
<blockquote>
<footnotes>
<p>Also note, two types <code class="language-rust"><span class="token class-name">A</span><span class="token punctuation">(</span><span class="token class-name">X</span><span class="token punctuation">,</span> <span class="token class-name">Y</span><span class="token punctuation">)</span></code> and <code class="language-rust"><span class="token class-name">B</span><span class="token punctuation">(</span><span class="token class-name">X</span><span class="token punctuation">,</span> <span class="token class-name">Y</span><span class="token punctuation">)</span></code> with exactly the same fields can still have differing layout; never <code class="language-rust"><span class="token function">transmute</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="https://doc.rust-lang.org/std/mem/fn.transmute.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> without representation guarantees.</p>
</footnotes>
</blockquote>
<div>&nbsp;</div>
<p>These <strong>sum types</strong> hold a value of one of their sub types:</p>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-enum">enum</span> <span class="token type-definition class-name">E</span> <span class="token punctuation">{</span> <span class="token class-name">A</span><span class="token punctuation">,</span> <span class="token class-name">B</span><span class="token punctuation">,</span> <span class="token class-name">C</span> <span class="token punctuation">}</span></code></name>
    <visual class="enum" style="text-align:left">
        <pad><code class="language-rust"><span class="token class-name">Tag</span></code></pad>
        <framed class="any">
            <code class="language-rust"><span class="token class-name">A</span></code>
        </framed>
    </visual>
    <andor>exclusive or</andor>
    <visual class="enum" style="text-align:left">
        <pad><code class="language-rust"><span class="token class-name">Tag</span></code></pad>
        <framed class="any" style="width:100px">
            <code class="language-rust"><span class="token class-name">B</span></code>
        </framed>
    </visual>
    <andor>exclusive or</andor>
    <visual class="enum" style="text-align:left">
        <pad><code class="language-rust"><span class="token class-name">Tag</span></code></pad>
        <framed class="any" style="width:50px">
            <code class="language-rust"><span class="token class-name">C</span></code>
        </framed>
    </visual>
    <description>
        Safely holds A or B or C, also <br> called 'tagged union', though <br> compiler may squeeze tag<br>into 'unused' bits.
    </description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token keyword keyword-union">union</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></name>
    <visual style="text-align:left">
        <framed class="any">
            <code class="language-rust"><span class="token class-name">A</span></code>
        </framed>
    </visual>
    <andor>unsafe or</andor>
    <visual style="text-align:left">
        <framed class="any" style="width:100px">
            <code class="language-rust"><span class="token class-name">B</span></code>
        </framed>
    </visual>
    <andor>unsafe or</andor>
    <visual style="text-align:left">
        <framed class="any" style="width:50px">
            <code class="language-rust"><span class="token class-name">C</span></code>
        </framed>
    </visual>
    <description>
        Can unsafely reinterpret <br>memory. Result might <br> be undefined.
    </description>
</datum>
<h2 id="references-pointers-ui">References &amp; Pointers<sup id="target-references-pointers-ui" class="target"><a href="#references-pointers-ui">url</a></sup><feedback element-id="references-pointers-ui" id="feedback-references-pointers-ui">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-references-pointers-ui', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-references-pointers-ui');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-references-pointers-ui', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-references-pointers-ui');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-references-pointers-ui', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-references-pointers-ui', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-references-pointers-ui');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>References give safe access to 3<sup>rd</sup> party memory, raw pointers <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> access.
The corresponding <code class="language-rust"><span class="token keyword keyword-mut">mut</span></code> types have an identical data layout to their immutable counterparts.</p>

<datum class="spaced">
    <name><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span></code></name>
    <visual>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <payload>
            <code class="language-rust">meta</code><sub>2/4/8</sub>
        </payload>
    </visual>
    <memory-entry>
        <memory-link style="left:46%">|</memory-link>
        <memory class="anymem">
            <framed class="any unsized"><code class="language-rust"><span class="token class-name">T</span></code></framed>
        </memory>
    </memory-entry>
    <description>Must target some valid <code class="language-rust">t</code> of <code class="language-rust"><span class="token class-name">T</span></code>, <br> and any such target must exist for <br> at least <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code>.</description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token class-name">T</span></code></name>
    <visual class="unsafe">
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <payload>
            <code class="language-rust">meta</code><sub>2/4/8</sub>
        </payload>
    </visual>
    <zoom>
        No guarantees.
    </zoom>
</datum>
<br>
<h3 id="pointer-meta">Pointer Meta<sup id="target-pointer-meta" class="target"><a href="#pointer-meta">url</a></sup><feedback element-id="pointer-meta" id="feedback-pointer-meta">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-pointer-meta', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-pointer-meta');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-pointer-meta', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-pointer-meta');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-pointer-meta', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-pointer-meta', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-pointer-meta');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h3>
<p>Many reference and pointer types can carry an extra field, <strong>pointer metadata</strong>. <a href="https://doc.rust-lang.org/nightly/std/ptr/trait.Pointee.html#pointer-metadata" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a>
It can be the element- or byte-length of the target, or a pointer to a <i>vtable</i>. Pointers with meta are called <strong>fat</strong>, otherwise <strong>thin</strong>.</p>

<datum class="spaced">
    <name><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span></code></name>
    <visual>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
    </visual>
    <memory-entry>
        <memory-link style="left:46%">|</memory-link>
        <memory class="anymem">
            <framed class="any t"><code class="language-rust"><span class="token class-name">T</span></code></framed>
        </memory>
    </memory-entry>
    <description>No meta for <br>sized target.<br>(pointer is thin).</description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span></code></name>
    <visual>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <sized>
            <code class="language-rust">len</code><sub>2/4/8</sub>
        </sized>
    </visual>
    <memory-entry>
        <memory-link style="left:46%">|</memory-link>
        <memory class="anymem">
            <framed class="any unsized"><code class="language-rust"><span class="token class-name">T</span></code></framed>
        </memory>
    </memory-entry>
    <description>If <code class="language-rust"><span class="token class-name">T</span></code> is a DST <code class="language-rust"><span class="token keyword keyword-struct">struct</span></code> such as<br> <code class="language-rust"><span class="token class-name">S</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></code>
    meta field <code class="language-rust">len</code> is <br>count of dyn. sized content.</description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span></code></name>
    <visual>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <sized>
            <code class="language-rust">len</code><sub>2/4/8</sub>
        </sized>
    </visual>
    <memory-entry class="double">
        <memory-link style="left:24%">|</memory-link>
        <memory class="anymem">
            …
            <framed class="any" style="width:30px"><code class="language-rust"><span class="token class-name">T</span></code></framed>
            <framed class="any" style="width:30px"><code class="language-rust"><span class="token class-name">T</span></code></framed>
            …
        </memory>
    </memory-entry>
    <description>Regular <b>slice reference</b> (i.e., the <br>reference type of a slice type <code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span></code>) <a href="#custom-types" title="On this site, above."><sup>↑</sup></a> <br>often seen as <code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span></code> if <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code> elided.</description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-str">str</span></code></name>
    <visual>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <sized>
            <code class="language-rust">len</code><sub>2/4/8</sub>
        </sized>
    </visual>
    <memory-entry class="double">
        <memory-link style="left:24%">|</memory-link>
        <memory class="anymem">
            …
            <byte class="bytes"><code class="language-rust"><span class="token class-name">U</span></code></byte>
            <byte class="bytes"><code class="language-rust"><span class="token class-name">T</span></code></byte>
            <byte class="bytes"><code class="language-rust"><span class="token class-name">F</span></code></byte>
            <byte class="bytes"><code class="language-rust"><span class="token operator">-</span></code></byte>
            <byte class="bytes"><code class="language-rust"><span class="token number">8</span></code></byte>
            …
        </memory>
    </memory-entry>
    <description><b>String slice reference</b> (i.e., the <br>reference type of string type <code class="language-rust"><span class="token keyword keyword-str">str</span></code>),<br> with meta <code class="language-rust">len</code> being byte length.</description>
</datum>
<br>

<datum class="spaced" style="padding-bottom:165px;position:relative">
    <name><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-dyn">dyn</span> <span class="token class-name">Trait</span></code></name>
    <visual>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <ptr>
            <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
    </visual>
    <memory-entry>
        <memory-link style="left:49%">|</memory-link>
        <memory class="anymem">
            <framed class="any unsized"><code class="language-rust"><span class="token class-name">T</span></code></framed>
        </memory>
    </memory-entry>
    <memory-entry style="width:220px;position:absolute">
        <memory-link style="left:22%">|</memory-link>
        <memory class="static-vtable" style="width:210px">
            <table>
                <tbody><tr class="vtable"><td><code class="language-rust"><span class="token operator">*</span><span class="token class-name">Drop</span><span class="token punctuation">::</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span><span class="token punctuation">)</span></code></td></tr>
                <tr class="vtable"><td><code class="language-rust">size</code></td></tr>
                <tr class="vtable"><td><code class="language-rust">align</code></td></tr>
                <tr class="vtable"><td><code class="language-rust"><span class="token operator">*</span><span class="token class-name">Trait</span><span class="token punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token class-name">T</span><span class="token punctuation">,</span> …<span class="token punctuation">)</span></code></td></tr>
                <tr class="vtable"><td><code class="language-rust"><span class="token operator">*</span><span class="token class-name">Trait</span><span class="token punctuation">::</span><span class="token function">g</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token class-name">T</span><span class="token punctuation">,</span> …<span class="token punctuation">)</span></code></td></tr>
            </tbody></table>
        </memory>
        <description>Meta points to vtable, where <code class="language-rust"><span class="token operator">*</span><span class="token class-name">Drop</span><span class="token punctuation">::</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, <code class="language-rust"><span class="token operator">*</span><span class="token class-name">Trait</span><span class="token punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, … are pointers to their respective <code class="language-rust"><span class="token keyword keyword-impl">impl</span></code> for <code class="language-rust"><span class="token class-name">T</span></code>.</description>
    </memory-entry>
</datum>
<h2 id="closures-data">Closures<sup id="target-closures-data" class="target"><a href="#closures-data">url</a></sup><feedback element-id="closures-data" id="feedback-closures-data">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-closures-data', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-closures-data');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-closures-data', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-closures-data');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-closures-data', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-closures-data', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-closures-data');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Ad-hoc functions with an automatically managed data block <strong>capturing</strong> <a href="https://doc.rust-lang.org/reference/types/closure.html#capture-modes" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a><sup>, 1</sup>
environment where closure was defined. For example, if you had:</p>
<pre data-lang="rust" class="language-rust" tabindex="0"><code class="language-rust" data-lang="rust"><span class="token keyword keyword-let">let</span> y <span class="token operator">=</span> <span class="token punctuation">...</span><span class="token punctuation">;</span>
<span class="token keyword keyword-let">let</span> z <span class="token operator">=</span> <span class="token punctuation">...</span><span class="token punctuation">;</span>

<span class="token function">with_closure</span><span class="token punctuation">(</span><span class="token keyword keyword-move">move</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>x<span class="token closure-punctuation punctuation">|</span></span> x <span class="token operator">+</span> y<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// y and z are moved into closure instance (of type C1)</span>
<span class="token function">with_closure</span><span class="token punctuation">(</span>     <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>x<span class="token closure-punctuation punctuation">|</span></span> x <span class="token operator">+</span> y<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// y and z are pointed at from closure instance (of type C2)</span>
</code></pre>
<p>Then the generated, anonymous closures types <code class="language-rust"><span class="token constant">C1</span></code> and <code class="language-rust"><span class="token constant">C2</span></code> passed to <code class="language-rust"><span class="token function">with_closure</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> would look like:</p>

<datum class="doublespaced">
    <name><code class="language-rust"><span class="token keyword keyword-move">move</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>x<span class="token closure-punctuation punctuation">|</span></span> x <span class="token operator">+</span> y<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> z</code></name>
    <visual>
       <framed class="any" style="width:100px"><code class="language-rust"><span class="token class-name">Y</span></code></framed>
       <framed class="any" style="width:50px"><code class="language-rust"><span class="token class-name">Z</span></code></framed>
    </visual>
    <zoom>Anonymous closure type C1</zoom>
    
</datum>

<datum>
    <name><code class="language-rust"><span class="token operator">|</span>x<span class="token operator">|</span> x <span class="token operator">+</span> y<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> z</code></name>
    <visual>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
    </visual>
    <zoom>Anonymous closure type C2</zoom>
    <memory-entry>
        <memory-link style="left:44%">|</memory-link>
        <memory class="anymem">
            <framed class="any" style="width:30px"><code class="language-rust"><span class="token class-name">Y</span></code></framed>
        </memory>
    </memory-entry>
    <memory-entry>
        <memory-link style="left:44%">|</memory-link>
        <memory class="anymem">
            <framed class="any" style="width:30px"><code class="language-rust"><span class="token class-name">Z</span></code></framed>
        </memory>
    </memory-entry>
    
</datum>


<blockquote>
<footnotes>
<p>Also produces anonymous <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code> such as <code class="language-rust"><span class="token function">f<sub>c1</sub></span><span class="token punctuation">(</span><span class="token constant">C1</span><span class="token punctuation">,</span> <span class="token class-name">X</span><span class="token punctuation">)</span></code> or <code class="language-rust"><span class="token function">f<sub>c2</sub></span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token constant">C2</span><span class="token punctuation">,</span> <span class="token class-name">X</span><span class="token punctuation">)</span></code>. Details depend on which <code class="language-rust"><span class="token class-name">FnOnce</span></code>, <code class="language-rust"><span class="token class-name">FnMut</span></code>, <code class="language-rust"><span class="token class-name">Fn</span></code> ... is supported, based on properties of captured types.</p>
</footnotes>
</blockquote>
<footnotes>
<p><sup>1</sup> A bit oversimplified a closure is a convenient-to-write 'mini function' that accepts parameters <em>but also</em> needs some local variables to do its job. It is therefore a type (containing the needed locals) and a function. <em>'Capturing the environment'</em> is a fancy way of saying that and how the closure type holds on to these locals, either <em>by moved value</em>, or <em>by pointer</em>. See <strong>Closures in APIs</strong> <a href="#closures-in-apis" title="On this site, below."><sup>↓</sup></a> for various implications.</p>
</footnotes>
<h2 id="standard-library-types">Standard Library Types<sup id="target-standard-library-types" class="target"><a href="#standard-library-types">url</a></sup><feedback element-id="standard-library-types" id="feedback-standard-library-types">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-standard-library-types', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-standard-library-types');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-standard-library-types', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-standard-library-types');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-standard-library-types', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-standard-library-types', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-standard-library-types');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Rust's standard library combines the above primitive types into useful types with special semantics, e.g.:</p>

<datum class="spaced">
    <name><code class="language-rust"><span class="token class-name">UnsafeCell</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/cell/struct.UnsafeCell.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    <visual class="cell">
           <framed class="any unsized"><code class="language-rust"><span class="token class-name">T</span></code></framed>
    </visual>
    <description>Magic type allowing <br>aliased mutability.</description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token class-name">Cell</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/cell/struct.Cell.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    <visual>
           <framed class="any celled unsized"><code class="language-rust"><span class="token class-name">T</span></code></framed>
    </visual>
    <description>Allows <code class="language-rust"><span class="token class-name">T</span></code>'s<br> to move in<br> and out.</description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token class-name">RefCell</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/cell/struct.RefCell.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    <visual>
        <sized class="celled"><code class="language-rust">borrowed</code></sized>
        <framed class="any celled unsized"><code class="language-rust"><span class="token class-name">T</span></code></framed>
    </visual>
    <description>Also support dynamic<br>
    borrowing of <code class="language-rust"><span class="token class-name">T</span></code>. Like <code class="language-rust"><span class="token class-name">Cell</span></code> this<br>
    is <code class="language-rust"><span class="token class-name">Send</span></code>, but not <code class="language-rust"><span class="token class-name">Sync</span></code>.</description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token class-name">ManuallyDrop</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/mem/struct.ManuallyDrop.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    <visual>
           <framed class="any unsized" style="width:100px"><code class="language-rust"><span class="token class-name">T</span></code></framed>
    </visual>
    <description>Prevents <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">::</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> from<br>being called.</description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token class-name">AtomicUsize</span></code> <a href="https://doc.rust-lang.org/std/sync/atomic/index.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    <visual class="atomic">
        <ptr class="atomic">
            <code class="language-rust"><span class="token keyword keyword-usize">usize</span></code><sub>2/4/8</sub>
        </ptr>
    </visual>
    <description>Other atomic similarly.</description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/option/enum.Option.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    <visual class="enum" style="text-align:left">
        <pad><code class="language-rust"><span class="token class-name">Tag</span></code></pad>
    </visual>
    <andor>or</andor>
    <visual class="enum">
        <pad><code class="language-rust"><span class="token class-name">Tag</span></code></pad>
        <framed class="any" style="width:100px">
            <code class="language-rust"><span class="token class-name">T</span></code>
        </framed>
    </visual>
    <description>Tag may be omitted for <br> certain T, e.g., <code class="language-rust"><span class="token class-name">NonNull</span></code>.<a href="https://doc.rust-lang.org/std/ptr/struct.NonNull.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></description>
</datum>

<datum class="spaced">
    <name><code class="language-rust"><span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">E</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/result/enum.Result.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    <visual class="enum" style="text-align:left">
        <pad><code class="language-rust"><span class="token class-name">Tag</span></code></pad>
        <framed class="any" style="width:50px">
            <code class="language-rust"><span class="token class-name">E</span></code>
        </framed>
    </visual>
    <andor>or</andor>
    <visual class="enum" style="text-align:left">
        <pad><code class="language-rust"><span class="token class-name">Tag</span></code></pad>
        <framed class="any" style="width:100px">
            <code class="language-rust"><span class="token class-name">T</span></code>
        </framed>
    </visual>
    <description>Either some error <code class="language-rust"><span class="token class-name">E</span></code> or value<br>of <code class="language-rust"><span class="token class-name">T</span></code>.</description>
</datum>

<datum>
    <name><code class="language-rust"><span class="token class-name">MaybeUninit</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code><span style="position:absolute"> <a href="https://doc.rust-lang.org/std/mem/union.MaybeUninit.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></span></name>
    <visual class="enum">
        <framed class="uninit" style="width:100px">
            <code class="language-rust"><span class="token class-name">U</span>̼̟̔͛n̥͕͐͞d̛̲͔̦̳̑̓̐e̱͎͒̌fị̱͕̈̉͋ne̻̅ḓ̓</code>
        </framed>
    </visual>
    <andor>unsafe or</andor>
    <visual class="enum">
        <framed class="any" style="width:100px">
            <code class="language-rust"><span class="token class-name">T</span></code>
        </framed>
    </visual>
    <description>Uninitialized memory or<br>some <code class="language-rust"><span class="token class-name">T</span></code>. Only legal way<br>to work with uninit data.</description>
</datum>
<blockquote>
<p><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> All depictions are for <strong>illustrative</strong> purposes only.
The fields should exist in latest <code class="language-rust">stable</code>, but Rust makes no guarantees about their layouts, and you must not
attempt to <em>unsafely</em> access anything unless the docs allow it.</p>
</blockquote>
<div>&nbsp;</div><h4 id="order-preserving-collections">Order-Preserving Collections<sup id="target-order-preserving-collections" class="target"><a href="#order-preserving-collections">url</a></sup><feedback element-id="order-preserving-collections" id="feedback-order-preserving-collections">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-order-preserving-collections', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-order-preserving-collections');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-order-preserving-collections', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-order-preserving-collections');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-order-preserving-collections', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-order-preserving-collections', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-order-preserving-collections');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h4>

<datum class="spaced">
    <name><code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/boxed/struct.Box.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    <visual>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <payload>
            <code class="language-rust">meta</code><sub>2/4/8</sub>
        </payload>
    </visual>
    <memory-entry>
        <memory-link style="left:49%">|</memory-link>
        <memory class="heap">
        <framed class="any unsized"><code class="language-rust"><span class="token class-name">T</span></code></framed>
        </memory>
    </memory-entry>
    <description>For some <code class="language-rust"><span class="token class-name">T</span></code> stack proxy may carry <br>meta<a href="#custom-types" title="On this site, above."><sup>↑</sup></a> (e.g., <code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></code>).</description>
</datum>
<spacer>
</spacer>

<datum>
    <name><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/vec/struct.Vec.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    
    <visual>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <sized>
            <code class="language-rust">len</code><sub>2/4/8</sub>
        </sized>
        <sized>
            <code class="language-rust">capacity</code><sub>2/4/8</sub>
        </sized>
    </visual>
    <memory-entry class="double">
        <memory-link style="left:25%">|</memory-link>
        <memory class="capacity heap">
            <div>
                <framed class="any t"><code class="language-rust"><span class="token class-name">T</span></code></framed>
                <framed class="any t"><code class="language-rust"><span class="token class-name">T</span></code></framed>
                <note>… len</note>
            </div>
            <capacity>← <note>capacity</note> →</capacity>
        </memory>
    </memory-entry>
    <description>Regular <i>growable array</i> vector of single type.</description>
</datum>
<spacer>
</spacer>

<datum>
    <name><code class="language-rust"><span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/collections/struct.LinkedList.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a><a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a> </name>
    
    <visual>
        <ptr>
           <code class="language-rust">head</code><sub>2/4/8</sub>
        </ptr>
        <ptr>
           <code class="language-rust">tail</code><sub>2/4/8</sub>
        </ptr>
        <sized>
            <code class="language-rust">len</code><sub>2/4/8</sub>
        </sized>
    </visual>
    <memory-entry style="width:265px;left:0;display:block">
        <memory-link style="left:25%">|</memory-link>
        <memory-link style="left:50%">|</memory-link>
        <memory class="capacity heap">
            <ptr>
            <code class="language-rust">next</code><sub>2/4/8</sub>
            </ptr>
            <ptr>
            <code class="language-rust">prev</code><sub>2/4/8</sub>
            </ptr>
            <framed class="any t"><code class="language-rust"><span class="token class-name">T</span></code></framed>
        </memory>
    </memory-entry>
    <description>Elements <code class="language-rust">head</code> and <code class="language-rust">tail</code> both <code class="language-rust">null</code> or point to nodes on<br> the heap. Each node can point to its <code class="language-rust">prev</code> and <code class="language-rust">next</code> node.<br>Eats your cache (just look at the thing!); don't use unless<br> you evidently must. <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> </description>
</datum>
<spacer>
</spacer>

<datum>
    <name><code class="language-rust"><span class="token class-name">VecDeque</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/collections/struct.VecDeque.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    
    <visual>
        <sized>
            <code class="language-rust">head</code><sub>2/4/8</sub>
        </sized>
        <sized>
            <code class="language-rust">len</code><sub>2/4/8</sub>
        </sized>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <sized>
            <code class="language-rust">capacity</code><sub>2/4/8</sub>
        </sized>
    </visual>
    <memory-entry></memory-entry>
    <memory-entry></memory-entry>
    <memory-entry class="double">
        <memory-link style="left:25%">|</memory-link>
        <memory class="capacity heap">
            <div>
                
                <framed class="any t"><code class="language-rust"><span class="token class-name">T</span></code></framed>
                
                <note>… empty …</note>
                <framed class="any t"><code class="language-rust"><span class="token class-name">T</span>⁣<span class="token class-name"><sup>H</sup></span></code></framed>
            </div>
            <capacity>← <note>capacity</note> →</capacity>
        </memory>
    </memory-entry>
    <description>Index <code class="language-rust">head</code> selects in array-as-ringbuffer. This means content may be<br> non-contiguous and empty in the middle, as exemplified above.</description>
</datum>
<div>&nbsp;</div><h4 id="other-collections">Other Collections<sup id="target-other-collections" class="target"><a href="#other-collections">url</a></sup><feedback element-id="other-collections" id="feedback-other-collections">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-other-collections', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-other-collections');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-other-collections', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-other-collections');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-other-collections', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-other-collections', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-other-collections');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h4>

<datum>
    <name><code class="language-rust"><span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/collections/struct.HashMap.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    
    <visual>
        <sized>
            <code class="language-rust">bmask</code><sub>2/4/8</sub>
        </sized>
        <ptr>
           <code class="language-rust">ctrl</code><sub>2/4/8</sub>
        </ptr>
        <sized>
            <code class="language-rust">left</code><sub>2/4/8</sub>
        </sized>
        <sized>
            <code class="language-rust">len</code><sub>2/4/8</sub>
        </sized>
    </visual>
    <memory-entry></memory-entry>
    <memory-entry style="width:265px;left:-5%">
        <memory-link style="left:25%">|</memory-link>
        <memory class="heap oversimplified">
            <framed class="any t"><code class="language-rust"><span class="token class-name">K</span><span class="token punctuation">:</span><span class="token class-name">V</span></code></framed>
            <framed class="any t"><code class="language-rust"><span class="token class-name">K</span><span class="token punctuation">:</span><span class="token class-name">V</span></code></framed>
            …
            <framed class="any t"><code class="language-rust"><span class="token class-name">K</span><span class="token punctuation">:</span><span class="token class-name">V</span></code></framed>
            …
            <framed class="any t"><code class="language-rust"><span class="token class-name">K</span><span class="token punctuation">:</span><span class="token class-name">V</span></code></framed>
            <capacity><note style="font-weight:bolder">Oversimplified!</note></capacity>
        </memory>
    </memory-entry>
    <description>Stores keys and values on heap according to hash value, <a href="https://www.youtube.com/watch?v=ncHmEUmJZf4">SwissTable</a> <br> implementation via <a href="https://github.com/rust-lang/hashbrown">hashbrown</a>. <code class="language-rust"><span class="token class-name">HashSet</span></code> <a href="https://doc.rust-lang.org/std/collections/struct.HashSet.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> identical to <code class="language-rust"><span class="token class-name">HashMap</span></code>, <br>just type <code class="language-rust"><span class="token class-name">V</span></code> disappears. Heap view grossly oversimplified. <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> </description>
</datum>
<spacer>
</spacer>

<datum>
    <name><code class="language-rust"><span class="token class-name">BinaryHeap</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/collections/struct.BinaryHeap.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    
    <visual>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <sized>
            <code class="language-rust">capacity</code><sub>2/4/8</sub>
        </sized>
        <sized>
            <code class="language-rust">len</code><sub>2/4/8</sub>
        </sized>
    </visual>
    <memory-entry style="width:265px">
        <memory-link style="left:20%">|</memory-link>
        <memory class="capacity heap">
            <div>
                <framed class="any t"><code class="language-rust"><span class="token class-name">T</span>⁣<span class="token number"><sup style="color:#000;font-weight:bolder">0</sup></span></code></framed>
                <framed class="any t" style="background-color:#f9b172"><code class="language-rust"><span class="token class-name">T</span>⁣<span class="token number"><sup style="color:#000;font-weight:bolder">1</sup></span></code></framed>
                <framed class="any t" style="background-color:#f9b172"><code class="language-rust"><span class="token class-name">T</span>⁣<span class="token number"><sup style="color:#000;font-weight:bolder">1</sup></span></code></framed>
                <framed class="any t" style="background-color:#f9d372"><code class="language-rust"><span class="token class-name">T</span>⁣<span class="token number"><sup style="color:#000;font-weight:bolder">2</sup></span></code></framed>
                <framed class="any t" style="background-color:#f9d372"><code class="language-rust"><span class="token class-name">T</span>⁣<span class="token number"><sup style="color:#000;font-weight:bolder">2</sup></span></code></framed>
                <note>… len</note>
            </div>
            <capacity>← <note>capacity</note> →</capacity>
        </memory>
    </memory-entry>
    <description>Heap stored as array with <code class="language-rust">2<sup>N</sup></code> elements per layer. Each <code class="language-rust"><span class="token class-name">T</span></code> <br>
    can have 2 children in layer below. Each <code class="language-rust"><span class="token class-name">T</span></code> larger than its<br>
    children.</description>
</datum>
<h4 id="owned-strings">Owned Strings<sup id="target-owned-strings" class="target"><a href="#owned-strings">url</a></sup><feedback element-id="owned-strings" id="feedback-owned-strings">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-owned-strings', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-owned-strings');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-owned-strings', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-owned-strings');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-owned-strings', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-owned-strings', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-owned-strings');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h4>

<datum>
    <name><code class="language-rust"><span class="token class-name">String</span></code> <a href="https://doc.rust-lang.org/std/string/struct.String.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    
    <visual>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <sized>
            <code class="language-rust">capacity</code><sub>2/4/8</sub>
        </sized>
        <sized>
            <code class="language-rust">len</code><sub>2/4/8</sub>
        </sized>
    </visual>
    <memory-entry class="double">
        <memory-link style="left:25%">|</memory-link>
        <memory class="heap">
            <div>
                <byte class="bytes"><code class="language-rust"><span class="token class-name">U</span></code></byte>
                <byte class="bytes"><code class="language-rust"><span class="token class-name">T</span></code></byte>
                <byte class="bytes"><code class="language-rust"><span class="token class-name">F</span></code></byte>
                <byte class="bytes"><code class="language-rust"><span class="token operator">-</span></code></byte>
                <byte class="bytes"><code class="language-rust"><span class="token number">8</span></code></byte>
                <note>… len</note>
            </div>
            <capacity>← <note>capacity</note> →</capacity>
        </memory>
    </memory-entry>
    <description>Observe how <code class="language-rust"><span class="token class-name">String</span></code> differs from <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code> and <code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-char">char</span><span class="token punctuation">]</span></code>.</description>
</datum>
<spacer>
</spacer>

<datum>
    <name><code class="language-rust"><span class="token class-name">CString</span></code> <a href="https://doc.rust-lang.org/std/ffi/struct.CString.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    
    <visual>
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <sized>
            <code class="language-rust">len</code><sub>2/4/8</sub>
        </sized>
    </visual>
    <memory-entry class="double">
        <memory-link style="left:25%">|</memory-link>
        <memory class="heap">
            <div>
                <byte class="bytes"><code class="language-rust"><span class="token class-name">A</span></code></byte>
                <byte class="bytes"><code class="language-rust"><span class="token class-name">B</span></code></byte>
                <byte class="bytes"><code class="language-rust"><span class="token class-name">C</span></code></byte>
                <note>… len …</note>
                <byte class="bytes"><code class="language-rust">∅</code></byte>
            </div>
        </memory>
    </memory-entry>
    <description>NUL-terminated but w/o NUL in middle.</description>
</datum>
<spacer>
</spacer>

<datum>
    <name><code class="language-rust"><span class="token class-name">OsString</span></code> <a href="https://doc.rust-lang.org/std/ffi/struct.OsString.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    
    <visual class="platformdefined">
        Platform Defined
    </visual>
    <memory-entry class="double">
        <memory-link style="left:25%">|</memory-link>
        <memory class="heap">
            <div>
                <byte class="bytes"><code class="language-rust"> </code></byte>
                <byte class="bytes"><code class="language-rust"> </code></byte>
                /
                <word class="bytes"><code class="language-rust"> </code></word>
                <word class="bytes"><code class="language-rust"> </code></word>
            </div>
        </memory>
    </memory-entry>
    <description>Encapsulates how operating system<br> represents strings (e.g., <a href="https://simonsapin.github.io/wtf-8/">WTF-8</a> on <br>Windows).</description>
</datum>
<spacer>
</spacer>

<datum>
    <name><code class="language-rust"><span class="token class-name">PathBuf</span></code> <a href="https://doc.rust-lang.org/std/path/struct.PathBuf.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    
    <visual class="platformdefined">
        <payload>
            <code class="language-rust"><span class="token class-name">OsString</span></code>
        </payload>
    </visual>
    <memory-entry class="double">
        <memory-link style="left:40%">|</memory-link>
        <memory class="heap">
            <div>
                <byte class="bytes"><code class="language-rust"> </code></byte>
                <byte class="bytes"><code class="language-rust"> </code></byte>
                /
                <word class="bytes"><code class="language-rust"> </code></word>
                <word class="bytes"><code class="language-rust"> </code></word>
            </div>
        </memory>
    </memory-entry>
    <description>Encapsulates how operating system<br> represents paths.</description>
</datum>
<div>&nbsp;</div><h4 id="shared-ownership">Shared Ownership<sup id="target-shared-ownership" class="target"><a href="#shared-ownership">url</a></sup><feedback element-id="shared-ownership" id="feedback-shared-ownership">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-shared-ownership', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-shared-ownership');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-shared-ownership', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-shared-ownership');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-shared-ownership', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-shared-ownership', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-shared-ownership');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h4>
<p>If the type does not contain a <code class="language-rust"><span class="token class-name">Cell</span></code> for <code class="language-rust"><span class="token class-name">T</span></code>, these are often combined with one of the <code class="language-rust"><span class="token class-name">Cell</span></code> types above to allow shared de-facto mutability.</p>

<datum>
    <name><code class="language-rust"><span class="token class-name">Rc</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/rc/struct.Rc.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    <visual style="width:180px">
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <payload>
            <code class="language-rust">meta</code><sub>2/4/8</sub>
        </payload>
    </visual>
    <div>
        <memory-entry class="quad">
            <memory-link style="left:15%">|</memory-link>
            <memory class="heap">
                <sized class="celled"><code class="language-rust">strng</code><sub>2/4/8</sub></sized>
                <sized class="celled"><code class="language-rust">weak</code><sub>2/4/8</sub></sized>
                <framed class="any unsized"><code class="language-rust"><span class="token class-name">T</span></code></framed>
            </memory>
        </memory-entry>
    </div>
    <description>Share ownership of <code class="language-rust"><span class="token class-name">T</span></code> in same thread. Needs nested <code class="language-rust"><span class="token class-name">Cell</span></code>
    <br>or <code class="language-rust"><span class="token class-name">RefCell</span></code>to allow mutation. Is neither <code class="language-rust"><span class="token class-name">Send</span></code> nor <code class="language-rust"><span class="token class-name">Sync</span></code>.</description>
</datum>

<datum>
    <name><code class="language-rust"><span class="token class-name">Arc</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/sync/struct.Arc.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    <visual style="width:180px">
        <ptr>
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </ptr>
        <payload>
            <code class="language-rust">meta</code><sub>2/4/8</sub>
        </payload>
    </visual>
    <div style="width:0">
        <memory-entry class="quad">
            <memory-link style="left:15%">|</memory-link>
            <memory class="heap">
                <sized class="atomicx"><code class="language-rust">strng</code><sub>2/4/8</sub></sized>
                <sized class="atomicx"><code class="language-rust">weak</code><sub>2/4/8</sub></sized>
                <framed class="any unsized"><code class="language-rust"><span class="token class-name">T</span></code></framed>
            </memory>
        </memory-entry>
    </div>
    <description>Same, but allow sharing between threads IF contained<br>
    <code class="language-rust"><span class="token class-name">T</span></code> itself is <code class="language-rust"><span class="token class-name">Send</span></code> and <code class="language-rust"><span class="token class-name">Sync</span></code>.</description>
</datum>
<br>

<datum>
    <name><code class="language-rust"><span class="token class-name">Mutex</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/sync/struct.Mutex.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> / <code class="language-rust"><span class="token class-name">RwLock</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/sync/struct.RwLock.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    <visual style="width:230px">
        <payload><code class="language-rust">inner</code></payload>
        <sized class="atomicx"><code class="language-rust">poison</code><sub>2/4/8</sub></sized>
        <framed class="any celled unsized"><code class="language-rust"><span class="token class-name">T</span></code></framed>
    </visual>
    <description>Inner fields depend on platform. Needs to be <br>held in <code class="language-rust"><span class="token class-name">Arc</span></code> to be shared between decoupled<br>threads, or
    via <code class="language-rust"><span class="token function">scope</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="https://doc.rust-lang.org/std/thread/fn.scope.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> for scoped threads.
    </description>
</datum>
<spacer>
</spacer>
<spacer>
</spacer>

<datum class="spaced">
    <name><code class="language-rust"><span class="token class-name">Cow</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token operator">&gt;</span></code> <a href="https://doc.rust-lang.org/std/borrow/enum.Cow.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></name>
    <visual class="enum" style="text-align:left">
        <pad><code class="language-rust"><span class="token class-name">Tag</span></code></pad>
        <framed class="any unsized" style="width:100px;text-align:center">
            <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">::</span><span class="token class-name">Owned</span></code>
        </framed>
    </visual>
    <andor>or</andor>
    <visual class="enum" style="text-align:left">
        <pad><code class="language-rust"><span class="token class-name">Tag</span></code></pad>
        <framed class="ptr" style="width:50px">
           <code class="language-rust">ptr</code><sub>2/4/8</sub>
        </framed>
    </visual>
    <div>
        <memory-entry style="width:40px"></memory-entry>
        <memory-entry>
            <memory-link style="left:15%">|</memory-link>
            <memory class="anymem">
                <framed class="any unsized"><code class="language-rust"><span class="token class-name">T</span></code></framed>
            </memory>
        </memory-entry>
    </div>
    <description>Holds read-only reference to<br>some <code class="language-rust"><span class="token class-name">T</span></code>, or owns its <code class="language-rust"><span class="token class-name">ToOwned</span></code> <a href="https://doc.rust-lang.org/std/borrow/trait.ToOwned.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <br>analog.</description>
</datum>
<hr>
<h1 id="standard-library">Standard Library<sup id="target-standard-library" class="target"><a href="#standard-library">url</a></sup></h1>
<h2 id="one-liners">One-Liners<sup id="target-one-liners" class="target"><a href="#one-liners">url</a></sup><feedback element-id="one-liners" id="feedback-one-liners">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-one-liners', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-one-liners');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-one-liners', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-one-liners');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-one-liners', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-one-liners', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-one-liners');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Snippets that are common, but still easy to forget. See <strong>Rust Cookbook</strong> <a href="https://rust-lang-nursery.github.io/rust-cookbook/" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> for more.</p>


<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<tabs>

<tab>
<input type="radio" id="tab-api-2" name="tab-api-sized" checked="">
<label for="tab-api-2"><b>Strings</b></label>
<panel><div class="cheats color-header one-liners">
<table><thead><tr><th>Intent</th><th>Snippet</th></tr></thead><tbody>
<tr><td>Concatenate strings (any <code class="language-rust"><span class="token class-name">Display</span></code><a href="#string-output" title="On this site, below."><sup>↓</sup></a> that is).  <a href="https://doc.rust-lang.org/std/fmt/index.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <sup>1</sup>  <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'21</sup></a></td><td><code class="language-rust"><span class="token macro property">format!</span><span class="token punctuation">(</span><span class="token string">"{x}{y}"</span><span class="token punctuation">)</span></code></td></tr>
<tr><td>Append string (any <code class="language-rust"><span class="token class-name">Display</span></code> to any <code class="language-rust"><span class="token class-name">Write</span></code>).  <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'21</sup></a> <a href="https://doc.rust-lang.org/std/fmt/index.html#write" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td><td><code class="language-rust"><span class="token macro property">write!</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">"{y}"</span><span class="token punctuation">)</span></code></td></tr>
<tr><td>Split by separator pattern. <a href="https://doc.rust-lang.org/std/str/pattern/trait.Pattern.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a href="https://stackoverflow.com/a/38138985" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td><code class="language-rust">s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span></code></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> … with <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td><code class="language-rust">s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> … with <code class="language-rust"><span class="token keyword keyword-char">char</span></code></td><td><code class="language-rust">s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token char">'/'</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> … with closure</td><td><code class="language-rust">s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token keyword keyword-char">char</span><span class="token punctuation">::</span>is_numeric<span class="token punctuation">)</span></code></td></tr>
<tr><td>Split by whitespace.  <a href="https://doc.rust-lang.org/std/primitive.str.html#method.split_whitespace" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td><td><code class="language-rust">s<span class="token punctuation">.</span><span class="token function">split_whitespace</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td>Split by newlines.  <a href="https://doc.rust-lang.org/std/primitive.str.html#method.lines" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td><td><code class="language-rust">s<span class="token punctuation">.</span><span class="token function">lines</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td>Split by regular expression. <a href="https://docs.rs/regex/latest/regex/struct.Regex.html#method.split" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> <sup>2</sup></td><td><code class="language-rust"> <span class="token class-name">Regex</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">r"\s"</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"one two three"</span><span class="token punctuation">)</span></code></td></tr>
</tbody></table>
<footnotes>
<p><sup>1</sup> Allocates; if <code class="language-rust">x</code> or <code class="language-rust">y</code> are not going to be used afterwards consider using <code class="language-rust"><span class="token macro property">write!</span></code> or <code class="language-rust"><span class="token namespace">std<span class="token punctuation">::</span>ops<span class="token punctuation">::</span></span><span class="token class-name">Add</span></code>.<br>
<sup>2</sup> Requires <a href="https://crates.io/crates/regex">regex</a> crate.</p>
</footnotes>
</div></panel></tab>

<tab>
<input type="radio" id="tab-api-1" name="tab-api-sized">
<label for="tab-api-1"><b>I/O</b></label>
<panel><div class="cheats color-header one-liners">
<table><thead><tr><th>Intent</th><th>Snippet</th></tr></thead><tbody>
<tr><td>Create a new file <a href="https://doc.rust-lang.org/std/fs/struct.File.html#method.open" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td><td><code class="language-rust"><span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token constant">PATH</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span>  Same, via OpenOptions</td><td><code class="language-rust"><span class="token class-name">OpenOptions</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">truncate</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token constant">PATH</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td>Read file as <code class="language-rust"><span class="token class-name">String</span></code> <a href="https://doc.rust-lang.org/std/fs/fn.read_to_string.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td><td><code class="language-rust"><span class="token function">read_to_string</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
</tbody></table>

</div></panel></tab>

<tab>
<input type="radio" id="tab-api-4" name="tab-api-sized">
<label for="tab-api-4"><b>Macros</b></label>
<panel><div class="cheats color-header one-liners">
<table><thead><tr><th>Intent</th><th>Snippet</th></tr></thead><tbody>
<tr><td>Macro w. variable arguments</td><td><code class="language-rust"><span class="token macro property">macro_rules!</span> var_args <span class="token punctuation">{</span> <span class="token punctuation">(</span>$<span class="token punctuation">(</span><span class="token variable">$args</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">expr</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token punctuation">}</span></code></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> Using <code class="language-rust">args</code>, e.g., calling <code class="language-rust">f</code> multiple times.</td><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"> $<span class="token punctuation">(</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token variable">$args</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">)</span><span class="token operator">*</span></code></td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-api-5" name="tab-api-sized">
<label for="tab-api-5"><b>Transforms <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a></b></label>
<panel><div class="cheats color-header one-liners">
<table><thead><tr><th>Starting Type</th><th>Resource</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">-&gt;</span> …</code></td><td>See the <a href="https://upsuper.github.io/rust-cheatsheet/">Type-Based Cheat Sheet</a></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token operator">&gt;</span> <span class="token punctuation">-&gt;</span> …</code></td><td>See the <a href="https://upsuper.github.io/rust-cheatsheet/">Type-Based Cheat Sheet</a></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Iterator</span><span class="token operator">&lt;</span><span class="token class-name">Item</span><span class="token operator">=</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">-&gt;</span> …</code></td><td>See the <a href="https://upsuper.github.io/rust-cheatsheet/">Type-Based Cheat Sheet</a></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span> <span class="token punctuation">-&gt;</span> …</code></td><td>See the <a href="https://upsuper.github.io/rust-cheatsheet/">Type-Based Cheat Sheet</a></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Future</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">-&gt;</span> …</code></td><td>See the <a href="https://rufflewind.com/img/rust-futures-cheatsheet.html">Futures Cheat Sheet</a></td></tr>
</tbody></table>

</div></panel></tab>

<tab>
<input type="radio" id="tab-api-3" name="tab-api-sized">
<label for="tab-api-3"><b>Esoterics</b><a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></label>
<panel><div class="cheats color-header one-liners">
<table><thead><tr><th>Intent</th><th>Snippet</th></tr></thead><tbody>
<tr><td>Cleaner closure captures</td><td><code class="language-rust"><span class="token function">wants_closure</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword keyword-let">let</span> c <span class="token operator">=</span> outer<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword keyword-move">move</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token function">use_clone</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></td></tr>
<tr><td>Fix inference in '<code class="language-rust"><span class="token keyword keyword-try">try</span></code>' closures</td><td><code class="language-rust">iter<span class="token punctuation">.</span><span class="token function">try_for_each</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>x<span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span> <span class="token class-name">Ok</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Error</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span></code></td></tr>
<tr><td>Iterate <em>and</em> edit <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span></code> if <code class="language-rust"><span class="token class-name">T</span></code> Copy.</td><td><code class="language-rust"><span class="token class-name">Cell</span><span class="token punctuation">::</span><span class="token function">from_mut</span><span class="token punctuation">(</span>mut_slice<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as_slice_of_cells</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td>Get subslice with length.</td><td><code class="language-rust"><span class="token operator">&amp;</span>original_slice<span class="token punctuation">[</span>offset<span class="token punctuation">..</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">..</span>length<span class="token punctuation">]</span></code></td></tr>
<tr><td>Canary so trait <code class="language-rust"><span class="token class-name">T</span></code> is object safe.</td><td><code class="language-rust"><span class="token keyword keyword-const">const</span> _<span class="token punctuation">:</span> <span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token keyword keyword-dyn">dyn</span> <span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token class-name">None</span><span class="token punctuation">;</span></code></td></tr>
</tbody></table>
</div></panel></tab>
</tabs>
</div></div>
<h2 id="thread-safety">Thread Safety<sup id="target-thread-safety" class="target"><a href="#thread-safety">url</a></sup><feedback element-id="thread-safety" id="feedback-thread-safety">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-thread-safety', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-thread-safety');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-thread-safety', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-thread-safety');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-thread-safety', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-thread-safety', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-thread-safety');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Assume you hold some variables in Thread 1, and want to either <strong>move</strong> them to Thread 2, or pass their <strong>references</strong> to Thread 3.
Whether this is allowed is governed by <strong><code class="language-rust"><span class="token class-name">Send</span></code></strong><a href="https://doc.rust-lang.org/std/marker/trait.Send.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> and <strong><code class="language-rust"><span class="token class-name">Sync</span></code></strong><a href="https://doc.rust-lang.org/std/marker/trait.Sync.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> respectively:</p>
<div>&nbsp;</div>
<div style="overflow:auto;padding-top:10px">
<div style="min-width:100%;width:650px">
<div class="color-header number">
<threading-section>
    <thread-row>
        <thread-backdrop><hr></thread-backdrop>
        <values>
            <value class="both" style="left:57px"><thread-link>|<br>|<br>|</thread-link>&nbsp;Mutex&lt;u32&gt;</value>
            <value class="one" style="left:97.5px"><thread-link>|<br>|<br>|</thread-link>&nbsp;Cell&lt;u32&gt;</value>
            <value class="one" style="left:137.5px"><thread-link>|<br>|<br>|</thread-link>&nbsp;MutexGuard&lt;u32&gt;</value>
            <value class="none" style="left:177.5px"><thread-link>|<br>|<br>|</thread-link>&nbsp;Rc&lt;u32&gt;</value>
        </values>
        <subtext><blank-background>Thread 1</blank-background></subtext>
    </thread-row>
    <thread-row>
        <thread-backdrop><hr></thread-backdrop>
        <values>
            <value class="both" style="left:77px">&nbsp;Mutex&lt;u32&gt;</value>
            <value class="one" style="left:117.5px">&nbsp;Cell&lt;u32&gt;</value>
            <value class="disabled" style="left:157.5px">&nbsp;MutexGuard&lt;u32&gt;</value>
            <value class="disabled" style="left:197.5px">&nbsp;Rc&lt;u32&gt;</value>
        </values>
        <subtext><blank-background>Thread 2</blank-background></subtext>
    </thread-row>
    <thread-row>
        <thread-backdrop><hr></thread-backdrop>
        <values>
            <value class="both" style="left:77px"><b>&amp;</b>Mutex&lt;u32&gt;</value>
            <value class="disabled" style="left:117.5px"><b>&amp;</b>Cell&lt;u32&gt;</value>
            <value class="one" style="left:157.5px"><b>&amp;</b>MutexGuard&lt;u32&gt;</value>
            <value class="disabled" style="left:197.5px"><b>&amp;</b>Rc&lt;u32&gt;</value>
        </values>
        <subtext><blank-background>Thread 3</blank-background></subtext>
    </thread-row>
</threading-section>
</div>
</div>
</div>
<div>&nbsp;</div><div class="color-header sendsync">
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><strong><code class="language-rust"><span class="token class-name">Mutex</span><span class="token operator">&lt;</span><span class="token keyword keyword-u32">u32</span><span class="token operator">&gt;</span></code></strong></td><td>Both <code class="language-rust"><span class="token class-name">Send</span></code> and <code class="language-rust"><span class="token class-name">Sync</span></code>. You can safely pass or lend it to another thread.</td></tr>
<tr><td><strong><code class="language-rust"><span class="token class-name">Cell</span><span class="token operator">&lt;</span><span class="token keyword keyword-u32">u32</span><span class="token operator">&gt;</span></code></strong></td><td><code class="language-rust"><span class="token class-name">Send</span></code>, not <code class="language-rust"><span class="token class-name">Sync</span></code>. Movable, but its reference would allow concurrent non-atomic writes.</td></tr>
<tr><td><strong><code class="language-rust"><span class="token class-name">MutexGuard</span><span class="token operator">&lt;</span><span class="token keyword keyword-u32">u32</span><span class="token operator">&gt;</span></code></strong></td><td><code class="language-rust"><span class="token class-name">Sync</span></code>, but not <code class="language-rust"><span class="token class-name">Send</span></code>. Lock tied to thread, but reference use could not allow data race.</td></tr>
<tr><td><strong><code class="language-rust"><span class="token class-name">Rc</span><span class="token operator">&lt;</span><span class="token keyword keyword-u32">u32</span><span class="token operator">&gt;</span></code></strong></td><td>Neither since it is easily clonable heap-proxy with non-atomic counters.</td></tr>
</tbody></table>
</div>
<div>&nbsp;</div>
<table class="sendsync">
    <thead>
        <tr><th>Trait</th><th><code class="language-rust"><span class="token class-name">Send</span></code></th><th><code class="language-rust"><span class="token operator">!</span><span class="token class-name">Send</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token class-name">Sync</span></code></td><td><i>Most types</i> … <code class="language-rust"><span class="token class-name">Arc</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code><sup>1,2</sup>, <code class="language-rust"><span class="token class-name">Mutex</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code><sup>2</sup></td><td><code class="language-rust"><span class="token class-name">MutexGuard</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code><sup>1</sup>, <code class="language-rust"><span class="token class-name">RwLockReadGuard</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code><sup>1</sup></td></tr>
        <tr><td><code class="language-rust"><span class="token operator">!</span><span class="token class-name">Sync</span></code></td><td><code class="language-rust"><span class="token class-name">Cell</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code><sup>2</sup>, <code class="language-rust"><span class="token class-name">RefCell</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code><sup>2</sup></td><td><code class="language-rust"><span class="token class-name">Rc</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code>, <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-dyn">dyn</span> <span class="token class-name">Trait</span></code>, <code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token class-name">T</span></code><sup>3</sup></td></tr>
    </tbody>
</table>
<footnotes>
<p><sup>1</sup> If <code class="language-rust"><span class="token class-name">T</span></code> is <code class="language-rust"><span class="token class-name">Sync</span></code>. <br>
<sup>2</sup> If <code class="language-rust"><span class="token class-name">T</span></code> is <code class="language-rust"><span class="token class-name">Send</span></code>. <br>
<sup>3</sup> If you need to send a raw pointer, create newtype <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">Ptr</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code> and <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token keyword keyword-impl">impl</span> <span class="token class-name">Send</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Ptr</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>. Just ensure you <em>may</em> send it.</p>
</footnotes>
<h2 id="iterators">Iterators<sup id="target-iterators" class="target"><a href="#iterators">url</a></sup><feedback element-id="iterators" id="feedback-iterators">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-iterators', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-iterators');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-iterators', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-iterators');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-iterators', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-iterators', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-iterators');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Processing elements in a collection.</p>
<tabs class="color-header iterators">

<tab>
<input type="radio" id="tab-trait-iter-p0" name="tab-group-trait-iter" checked="">
<label for="tab-trait-iter-p0"><b>Basics</b></label>
<panel><div>
<p>There are, broadly speaking, four <em>styles</em> of collection iteration:</p>
<table><thead><tr><th>Style</th><th>Description</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-for">for</span> x <span class="token keyword keyword-in">in</span> c <span class="token punctuation">{</span> <span class="token punctuation">...</span> <span class="token punctuation">}</span></code></td><td><em>Imperative</em>, useful w. side effects, interdepend., or need to break flow early.</td></tr>
<tr><td><code class="language-rust">c<span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td><em>Functional</em>, often much cleaner when only results of interest.</td></tr>
<tr><td><code class="language-rust">c_iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td><em>Low-level</em>, via explicit <code class="language-rust"><span class="token class-name">Iterator</span><span class="token punctuation">::</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#tymethod.next" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> invocation. <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust">c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></code></td><td><em>Manual</em>, bypassing official iteration machinery.</td></tr>
</tbody></table>
<div>&nbsp;</div>
<blockquote>
<p><strong>Opinion</strong> <a class="tooltip" title="Author's opinion."><sup>💬</sup></a> — Functional style is often easiest to follow, but don't hesitate to use  <code class="language-rust"><span class="token keyword keyword-for">for</span></code> if your <code class="language-rust"><span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> chain turns messy. When implementing containers iterator support would be ideal, but when in a hurry it can sometimes be more practical to just implement <code class="language-rust"><span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and <code class="language-rust"><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and move on with your life.</p>
</blockquote>
</div></panel></tab>

<tab>
<input type="radio" id="tab-trait-iter-1" name="tab-group-trait-iter">
<label for="tab-trait-iter-1"><b>Obtaining</b></label>
<panel><div>
<p><strong>Basics</strong></p>
<p>Assume you have a collection <code class="language-rust">c</code> of type <code class="language-rust"><span class="token class-name">C</span></code> you want to use:</p>
<ul>
<li><strong><code class="language-rust">c<span class="token punctuation">.</span><span class="token function">into_iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></strong><sup>1</sup>  — Turns collection <code class="language-rust">c</code> into an <strong><code class="language-rust"><span class="token class-name">Iterator</span></code></strong> <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <code class="language-rust">i</code> and <strong>consumes</strong><sup>2</sup> <code class="language-rust">c</code>. <em>Std.</em> way to get iterator.</li>
<li><strong><code class="language-rust">c<span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></strong> — Courtesy method <strong>some</strong> collections provide, returns <strong>borrowing</strong> Iterator, doesn't consume <code class="language-rust">c</code>.</li>
<li><strong><code class="language-rust">c<span class="token punctuation">.</span><span class="token function">iter_mut</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></strong> — Same, but <strong>mutably borrowing</strong> Iterator that allow collection to be changed.</li>
</ul>
<p><strong>The Iterator</strong></p>
<p>Once you have an <code class="language-rust">i</code>:</p>
<ul>
<li><strong><code class="language-rust">i<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></strong> — Returns <code class="language-rust"><span class="token class-name">Some</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> next element <code class="language-rust">c</code> provides, or <code class="language-rust"><span class="token class-name">None</span></code> if we're done.</li>
</ul>
<p><strong>For Loops</strong></p>
<ul>
<li><strong><code class="language-rust"><span class="token keyword keyword-for">for</span> x <span class="token keyword keyword-in">in</span> c <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> — Syntactic sugar, calls <code class="language-rust">c<span class="token punctuation">.</span><span class="token function">into_iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and loops <code class="language-rust">i</code> until <code class="language-rust"><span class="token class-name">None</span></code>.</li>
</ul>
<footnotes>
<p><sup>1</sup> Requires <strong><code class="language-rust"><span class="token class-name">IntoIterator</span></code></strong> <a href="https://doc.rust-lang.org/std/iter/trait.IntoIterator.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> for <code class="language-rust"><span class="token class-name">C</span></code> to be implemented. Type of item depends on what <code class="language-rust"><span class="token class-name">C</span></code> was.</p>
<p><sup>2</sup> If it looks as if it doesn't consume <code class="language-rust">c</code> that's because type was <code class="language-rust"><span class="token class-name">Copy</span></code>. For example, if you call <code class="language-rust"><span class="token punctuation">(</span><span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">into_iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> it will invoke <code class="language-rust"><span class="token punctuation">.</span><span class="token function">into_iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> on <code class="language-rust"><span class="token operator">&amp;</span>c</code> (which will consume a <em>copy</em> of the reference and turn it into an Iterator), but the original <code class="language-rust">c</code> remains untouched.</p>
</footnotes>
</div></panel></tab>

<tab>
<input type="radio" id="tab-trait-iter-2" name="tab-group-trait-iter">
<label for="tab-trait-iter-2"><b>Creating</b></label>
<panel><div>
<p><strong>Essentials</strong></p>
<p>Let's assume you have a <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">Collection</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> you authored. You should also implement:</p>
<ul>
<li><strong><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">IntoIter</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> — Create a struct to hold your iteration status (e.g., an index) for value iteration.</li>
<li><strong><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Iterator</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">IntoIter</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> — Implement <code class="language-rust"><span class="token class-name">Iterator</span><span class="token punctuation">::</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> so it can produce elements.</li>
</ul>
<mini-zoo class="zoo">
    <entry class="wide">
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">Collection</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-right:20px">
    <entry class="wide">
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">IntoIter</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Iterator</span></code></trait-impl>
        <associated-type class="grayed"><code class="language-rust"><span class="token class-name">Item</span> <span class="token operator">=</span> <span class="token class-name">T</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>
<div>&nbsp;</div>
<blockquote>
<p>At this point you have something that can behave as an <strong>Iterator</strong>, <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> but no way of actually obtaining it. See the next tab for how that usually works.</p>
</blockquote>
</div></panel></tab>

<tab>
<input type="radio" id="tab-trait-iter-3" name="tab-group-trait-iter">
<label for="tab-trait-iter-3"><b>For Loops</b></label>
<panel><div>
<p><strong>Native Loop Support</strong></p>
<p>Many users would expect your collection to <em>just work</em> in <code class="language-rust"><span class="token keyword keyword-for">for</span></code> loops. You need to implement:</p>
<ul>
<li><strong><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">IntoIterator</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Collection</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> — Now <code class="language-rust"><span class="token keyword keyword-for">for</span> x <span class="token keyword keyword-in">in</span> c <span class="token punctuation">{</span><span class="token punctuation">}</span></code> works.</li>
<li><strong><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">IntoIterator</span> <span class="token keyword keyword-for">for</span> <span class="token operator">&amp;</span><span class="token class-name">Collection</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> — Now <code class="language-rust"><span class="token keyword keyword-for">for</span> x <span class="token keyword keyword-in">in</span> <span class="token operator">&amp;</span>c <span class="token punctuation">{</span><span class="token punctuation">}</span></code> works.</li>
<li><strong><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">IntoIterator</span> <span class="token keyword keyword-for">for</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">Collection</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> — Now <code class="language-rust"><span class="token keyword keyword-for">for</span> x <span class="token keyword keyword-in">in</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> c <span class="token punctuation">{</span><span class="token punctuation">}</span></code> works.</li>
</ul>
<mini-zoo class="zoo">
    <entry class="wide">
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">Collection</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">IntoIterator</span></code></trait-impl>
        <associated-type class="grayed"><code class="language-rust"><span class="token class-name">Item</span> <span class="token operator">=</span> <span class="token class-name">T</span><span class="token punctuation">;</span></code></associated-type>
        <associated-type class="grayed"><code class="language-rust"><span class="token class-name">To</span> <span class="token operator">=</span> <span class="token class-name">IntoIter</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></associated-type>
        <note>Iterate over <code class="language-rust"><span class="token class-name">T</span></code>.</note>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry class="wide">
        <type class="dotted generic grayed"><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Collection</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">IntoIterator</span></code></trait-impl>
        <associated-type class="grayed"><code class="language-rust"><span class="token class-name">Item</span> <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token class-name">T</span><span class="token punctuation">;</span></code></associated-type>
        <associated-type class="grayed"><code class="language-rust"><span class="token class-name">To</span> <span class="token operator">=</span> <span class="token class-name">Iter</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></associated-type>
        <note>Iterate over <code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">T</span></code>.</note>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry class="wide">
        <type class="dotted generic grayed"><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">Collectn</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">IntoIterator</span></code></trait-impl>
        <associated-type class="grayed"><code class="language-rust"><span class="token class-name">Item</span> <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span><span class="token punctuation">;</span></code></associated-type>
        <associated-type class="grayed"><code class="language-rust"><span class="token class-name">To</span> <span class="token operator">=</span> <span class="token class-name">IterMut</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></associated-type>
        <note>Iterate over <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span></code>.</note>
    </entry>
</mini-zoo>
<div>&nbsp;</div>
<blockquote>
<p>As you can see, the <strong>IntoIterator</strong> <a href="https://doc.rust-lang.org/std/iter/trait.IntoIterator.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> trait is what actually connects your collection with the <strong>IntoIter</strong> struct you created in the previous tab. The two siblings of <strong>IntoIter</strong> (<strong>Iter</strong> and <strong>IterMut</strong>) are discussed in the next tab.</p>
</blockquote>
</div></panel></tab>

<tab>
<input type="radio" id="tab-trait-iter-2b" name="tab-group-trait-iter">
<label for="tab-trait-iter-2b"><b>Borrowing</b></label>
<panel><div>
<p><strong>Shared &amp; Mutable Iterators</strong></p>
<p>In addition, if you want your collection to be useful when borrowed you should implement:</p>
<ul>
<li><strong><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">Iter</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> — Create struct holding <code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Collection</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> state for shared iteration.</li>
<li><strong><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">IterMut</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> — Similar, but holding <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">Collection</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> state for mutable iteration.</li>
<li><strong><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Iterator</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Iter</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> — Implement shared iteration.</li>
<li><strong><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Iterator</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">IterMut</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> — Implement mutable iteration.</li>
</ul>
<p>Also you might want to add convenience methods:</p>
<ul>
<li><code class="language-rust"><span class="token class-name">Collection</span><span class="token punctuation">::</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-self">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Iter</span></code>,</li>
<li><code class="language-rust"><span class="token class-name">Collection</span><span class="token punctuation">::</span><span class="token function">iter_mut</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-self">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">IterMut</span></code>.</li>
</ul>
<mini-zoo class="zoo" style="margin-right:20px">
    <entry class="wide">
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">Iter</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Iterator</span></code></trait-impl>
        <associated-type class="grayed"><code class="language-rust"><span class="token class-name">Item</span> <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token class-name">T</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-right:20px">
    <entry class="wide">
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">IterMut</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Iterator</span></code></trait-impl>
        <associated-type class="grayed"><code class="language-rust"><span class="token class-name">Item</span> <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>
<div>&nbsp;</div>
<blockquote>
<p>The code for borrowing interator support is basically just a repetition of the previous steps with a slightly different types, e.g., <code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">T</span></code> vs <code class="language-rust"><span class="token class-name">T</span></code>.</p>
</blockquote>
</div></panel></tab>

<tab>
<input type="radio" id="tab-trait-iter-4" name="tab-group-trait-iter">
<label for="tab-trait-iter-4"><b>Interoperability</b></label>
<panel><div>
<p><strong>Iterator Interoperability</strong></p>
<p>To allow <strong>3<sup>rd</sup> party iterators</strong> to 'collect into' your collection implement:</p>
<ul>
<li><strong><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">FromIterator</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Collection</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> — Now <code class="language-rust">some_iter<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token class-name">Collection</span><span class="token operator">&lt;</span>_<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> works.</li>
<li><strong><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Extend</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Collection</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> — Now <code class="language-rust">c<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span></code> works.</li>
</ul>
<p>In addition, also consider adding the extra traits from <strong><code class="language-rust"><span class="token namespace">std<span class="token punctuation">::</span></span>iter</code></strong> <a href="https://doc.rust-lang.org/std/iter/index.html#" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> to your previous structs:</p>
<mini-zoo class="zoo" style="margin-right:20px">
    <entry class="wide">
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">Collection</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">FromIterator</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Extend</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry class="wide">
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">IntoIter</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">DoubleEndedIt</span>… </code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">ExactSizeIt</span>… </code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">FusedIterator</span> </code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry class="wide">
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">Iter</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">DoubleEndedIt</span>… </code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">ExactSizeIt</span>… </code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">FusedIterator</span> </code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry class="wide">
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">IterMut</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">DoubleEndedIt</span>… </code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">ExactSizeIt</span>… </code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">FusedIterator</span> </code></trait-impl>
    </entry>
</mini-zoo>
<div>&nbsp;</div>
<blockquote>
<p>Writing collections can be work. The good news is, if you followed all
these steps your collections will feel like <em>first class citizens</em>.</p>
</blockquote>
</div></panel></tab>
</tabs>

<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<div class="color-header number">
<h2 id="number-conversions">Number Conversions<sup id="target-number-conversions" class="target"><a href="#number-conversions">url</a></sup><feedback element-id="number-conversions" id="feedback-number-conversions">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-number-conversions', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-number-conversions');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-number-conversions', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-number-conversions');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-number-conversions', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-number-conversions', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-number-conversions');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>As-<b>correct</b>-as-it-currently-gets number conversions.</p>
<table><thead><tr><th>↓ Have / Want →</th><th><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code> … <code class="language-rust"><span class="token keyword keyword-i128">i128</span></code></th><th><code class="language-rust"><span class="token keyword keyword-f32">f32</span></code> / <code class="language-rust"><span class="token keyword keyword-f64">f64</span></code></th><th>String</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code> … <code class="language-rust"><span class="token keyword keyword-i128">i128</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span><span class="token punctuation">::</span><span class="token function">try_from</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">?</span></code> <sup>1</sup></td><td><code class="language-rust">x <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-f32">f32</span></code> <sup>3</sup></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-f32">f32</span></code> / <code class="language-rust"><span class="token keyword keyword-f64">f64</span></code></td><td><code class="language-rust">x <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u8">u8</span></code> <sup>2</sup></td><td><code class="language-rust">x <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-f32">f32</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token keyword keyword-f32">f32</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td><td><code class="language-rust">x</code></td></tr>
</tbody></table>
<footnotes>
<p><sup>1</sup> If type true subset <code class="language-rust"><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> works directly, e.g., <code class="language-rust"><span class="token keyword keyword-u32">u32</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>my_u8<span class="token punctuation">)</span></code>. <br>
<sup>2</sup> Truncating (<code class="language-rust"><span class="token number">11.9_f32</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u8">u8</span></code> gives <code class="language-rust"><span class="token number">11</span></code>) and saturating (<code class="language-rust"><span class="token number">1024_f32</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u8">u8</span></code> gives <code class="language-rust"><span class="token number">255</span></code>); <em>c</em>. below. <br>
<sup>3</sup> Might misrepresent number (<code class="language-rust"><span class="token keyword keyword-u64">u64</span><span class="token punctuation">::</span><span class="token constant">MAX</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-f32">f32</span></code>) or produce <code class="language-rust"><span class="token class-name">Inf</span></code> (<code class="language-rust"><span class="token keyword keyword-u128">u128</span><span class="token punctuation">::</span><span class="token constant">MAX</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-f32">f32</span></code>).</p>
</footnotes>
<div>&nbsp;</div>
<blockquote>
<p>Also see <strong>Casting-</strong> and <strong>Arithmetic Pitfalls</strong> <a href="#numeric-types" title="On this site, above."><sup>↑</sup></a> for more things that can go wrong working with numbers.</p>
</blockquote>

</div>
</div>
</div>
<h2 id="string-conversions">String Conversions<sup id="target-string-conversions" class="target"><a href="#string-conversions">url</a></sup><feedback element-id="string-conversions" id="feedback-string-conversions">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-string-conversions', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-string-conversions');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-string-conversions', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-string-conversions');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-string-conversions', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-string-conversions', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-string-conversions');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>If you <strong>want</strong> a string of type …</p>

<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<tabs>

<tab>
<input type="radio" id="tab-str-1" name="tab-group-str" checked="">
<label for="tab-str-1"><code class="language-rust"><span class="token class-name">String</span></code></label>
<panel><div class="stringconversion">
<table><thead><tr><th>If you <strong>have</strong> <code class="language-rust">x</code> of type …</th><th>Use this …</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust">x</code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">CString</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">into_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">OsString</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">PathBuf</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from_utf8</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <sup><code class="language-rust">i</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">OsStr</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Path</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from_utf8_lossy</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-str-2" name="tab-group-str">
<label for="tab-str-2"><code class="language-rust"><span class="token class-name">CString</span></code></label>
<panel><div class="stringconversion">
<table><thead><tr><th>If you <strong>have</strong> <code class="language-rust">x</code> of type …</th><th>Use this …</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust"><span class="token class-name">CString</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">CString</span></code></td><td><code class="language-rust">x</code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">OsString</span></code></td><td><code class="language-rust"><span class="token class-name">CString</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">PathBuf</span></code></td><td><code class="language-rust"><span class="token class-name">CString</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token class-name">CString</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td><code class="language-rust"><span class="token class-name">CString</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_owned</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <sup><code class="language-rust">i</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">OsStr</span></code></td><td><code class="language-rust"><span class="token class-name">CString</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_os_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">into_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Path</span></code></td><td><code class="language-rust"><span class="token class-name">CString</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token class-name">CString</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token class-name">Vec</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-mut">mut</span> c_char</code> <sup>2</sup></td><td><code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token class-name">CString</span><span class="token punctuation">::</span><span class="token function">from_raw</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">}</span></code></td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-str-3" name="tab-group-str">
<label for="tab-str-3"><code class="language-rust"><span class="token class-name">OsString</span></code></label>
<panel><div class="stringconversion">
<table><thead><tr><th>If you <strong>have</strong> <code class="language-rust">x</code> of type …</th><th>Use this …</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust"><span class="token class-name">OsString</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> <sup><code class="language-rust">i</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">CString</span></code></td><td><code class="language-rust"><span class="token class-name">OsString</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">OsString</span></code></td><td><code class="language-rust">x</code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">PathBuf</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">into_os_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token class-name">OsString</span><span class="token punctuation">::</span><span class="token function">from_encoded_bytes_unchecked</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">}</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td><code class="language-rust"><span class="token class-name">OsString</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> <sup><code class="language-rust">i</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code></td><td><code class="language-rust"><span class="token class-name">OsString</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">OsStr</span></code></td><td><code class="language-rust"><span class="token class-name">OsString</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> <sup><code class="language-rust">i</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Path</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_os_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_owned</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token class-name">OsString</span><span class="token punctuation">::</span><span class="token function">from_encoded_bytes_unchecked</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_vec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></code></td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-str-35" name="tab-group-str">
<label for="tab-str-35"><code class="language-rust"><span class="token class-name">PathBuf</span></code></label>
<panel><div class="stringconversion">
<table><thead><tr><th>If you <strong>have</strong> <code class="language-rust">x</code> of type …</th><th>Use this …</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust"><span class="token class-name">PathBuf</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> <sup><code class="language-rust">i</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">CString</span></code></td><td><code class="language-rust"><span class="token class-name">PathBuf</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">OsString</span></code></td><td><code class="language-rust"><span class="token class-name">PathBuf</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> <sup><code class="language-rust">i</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">PathBuf</span></code></td><td><code class="language-rust">x</code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token class-name">PathBuf</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">OsString</span><span class="token punctuation">::</span><span class="token function">from_encoded_bytes_unchecked</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td><code class="language-rust"><span class="token class-name">PathBuf</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> <sup><code class="language-rust">i</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code></td><td><code class="language-rust"><span class="token class-name">PathBuf</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">OsStr</span></code></td><td><code class="language-rust"><span class="token class-name">PathBuf</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> <sup><code class="language-rust">i</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Path</span></code></td><td><code class="language-rust"><span class="token class-name">PathBuf</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> <sup><code class="language-rust">i</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token class-name">PathBuf</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">OsString</span><span class="token punctuation">::</span><span class="token function">from_encoded_bytes_unchecked</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_vec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></code></td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-str-4" name="tab-group-str">
<label for="tab-str-4"><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></label>
<panel><div class="stringconversion">
<table><thead><tr><th>If you <strong>have</strong> <code class="language-rust">x</code> of type …</th><th>Use this …</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">into_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">CString</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">into_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">OsString</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">into_encoded_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">PathBuf</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">into_os_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">into_encoded_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code> <sup>1</sup></td><td><code class="language-rust">x</code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">as_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code></td><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_bytes_with_nul</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">OsStr</span></code></td><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">as_encoded_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Path</span></code></td><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">as_os_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as_encoded_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> <sup>1</sup></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_vec</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-str-5" name="tab-group-str">
<label for="tab-str-5"><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></label>
<panel><div class="stringconversion">
<table><thead><tr><th>If you <strong>have</strong> <code class="language-rust">x</code> of type …</th><th>Use this …</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">CString</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">OsString</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">PathBuf</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token namespace">std<span class="token punctuation">::</span></span><span class="token keyword keyword-str">str</span><span class="token punctuation">::</span><span class="token function">from_utf8</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td><code class="language-rust">x</code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">OsStr</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Path</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token namespace">std<span class="token punctuation">::</span></span><span class="token keyword keyword-str">str</span><span class="token punctuation">::</span><span class="token function">from_utf8</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-str-6" name="tab-group-str">
<label for="tab-str-6"><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code></label>
<panel><div class="stringconversion">
<table><thead><tr><th>If you <strong>have</strong> <code class="language-rust">x</code> of type …</th><th>Use this …</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust"><span class="token class-name">CString</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">as_c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">CString</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">OsString</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">PathBuf</span></code></td><td><a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a><sup>,3</sup></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code> <sup>1</sup><sup>,4</sup></td><td><code class="language-rust"><span class="token class-name">CStr</span><span class="token punctuation">::</span><span class="token function">from_bytes_with_nul</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td><a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a><sup>,3</sup></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code></td><td><code class="language-rust">x</code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">OsStr</span></code></td><td><a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Path</span></code></td><td><a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> <sup>1</sup><sup>,4</sup></td><td><code class="language-rust"><span class="token class-name">CStr</span><span class="token punctuation">::</span><span class="token function">from_bytes_with_nul</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-const">const</span> c_char</code> <sup>1</sup></td><td><code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token class-name">CStr</span><span class="token punctuation">::</span><span class="token function">from_ptr</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">}</span></code></td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-str-8" name="tab-group-str">
<label for="tab-str-8"><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">OsStr</span></code></label>
<panel><div class="stringconversion">
<table><thead><tr><th>If you <strong>have</strong> <code class="language-rust">x</code> of type …</th><th>Use this …</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust"><span class="token class-name">OsStr</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">CString</span></code></td><td><a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">OsString</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_os_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">PathBuf</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_os_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token class-name">OsStr</span><span class="token punctuation">::</span><span class="token function">from_encoded_bytes_unchecked</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span> <span class="token punctuation">}</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td><code class="language-rust"><span class="token class-name">OsStr</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code></td><td><a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">OsStr</span></code></td><td><code class="language-rust">x</code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Path</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_os_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token class-name">OsStr</span><span class="token punctuation">::</span><span class="token function">from_encoded_bytes_unchecked</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">}</span></code></td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-str-85" name="tab-group-str">
<label for="tab-str-85"><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Path</span></code></label>
<panel><div class="stringconversion">
<table><thead><tr><th>If you <strong>have</strong> <code class="language-rust">x</code> of type …</th><th>Use this …</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust"><span class="token class-name">Path</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> <sup><code class="language-rust">r</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">CString</span></code></td><td><code class="language-rust"><span class="token class-name">Path</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">OsString</span></code></td><td><code class="language-rust"><span class="token class-name">Path</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span></code> <sup><code class="language-rust">r</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">PathBuf</span></code></td><td><code class="language-rust"><span class="token class-name">Path</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span></code> <sup><code class="language-rust">r</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token class-name">Path</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token class-name">OsStr</span><span class="token punctuation">::</span><span class="token function">from_encoded_bytes_unchecked</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td><code class="language-rust"><span class="token class-name">Path</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> <sup><code class="language-rust">r</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code></td><td><code class="language-rust"><span class="token class-name">Path</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">to_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">OsStr</span></code></td><td><code class="language-rust"><span class="token class-name">Path</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></code> <sup><code class="language-rust">r</code></sup></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Path</span></code></td><td><code class="language-rust">x</code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token class-name">Path</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token class-name">OsStr</span><span class="token punctuation">::</span><span class="token function">from_encoded_bytes_unchecked</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></code></td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-str-7" name="tab-group-str">
<label for="tab-str-7"><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code></label>
<panel><div class="stringconversion">
<table><thead><tr><th>If you <strong>have</strong> <code class="language-rust">x</code> of type …</th><th>Use this …</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">CString</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">OsString</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_encoded_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">PathBuf</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_os_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as_encoded_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token operator">&amp;</span>x</code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_bytes_with_nul</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">OsStr</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_encoded_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Path</span></code></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_os_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as_encoded_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> <sup>1</sup></td><td><code class="language-rust">x</code></td></tr>
</tbody></table>
</div></panel></tab>

<tab>
<input type="radio" id="tab-str-9" name="tab-group-str">
<label for="tab-str-9"><b>Other</b></label>
<panel><div class="stringconversion">
<table><thead><tr><th>You <strong>want</strong></th><th>And <strong>have</strong> <code class="language-rust">x</code></th><th>Use this …</th></tr></thead><tbody>
<tr><td><b><code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-const">const</span> c_char</code></b></td><td><b><code class="language-rust"><span class="token class-name">CString</span></code></b></td><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_ptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
</tbody></table>
</div></panel></tab>

</tabs>

</div></div>
<footnotes>
<p><sup>i</sup> Short form <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> possible if type can be inferred. <br>
<sup>r</sup> Short form <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">as_ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> possible if type can be inferred.<br>
<sup>1</sup> You must ensure <code class="language-rust">x</code> comes with a valid representation for the string type (e.g., UTF-8 data for a <code class="language-rust"><span class="token class-name">String</span></code>).<br>
<sup>2</sup> The <code class="language-rust">c_char</code> <strong>must</strong> have come from a previous <code class="language-rust"><span class="token class-name">CString</span></code>. If it comes from FFI see <code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code> instead.<br>
<sup>3</sup> No known shorthand as <code class="language-rust">x</code> will lack terminating <code class="language-rust"><span class="token number">0x0</span></code>. Best way to probably go via <code class="language-rust"><span class="token class-name">CString</span></code>.<br>
<sup>4</sup> Must ensure <code class="language-rust">x</code> actually ends with <code class="language-rust"><span class="token number">0x0</span></code>.<br></p>
</footnotes>
<h2 id="string-output">String Output<sup id="target-string-output" class="target"><a href="#string-output">url</a></sup><feedback element-id="string-output" id="feedback-string-output">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-string-output', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-string-output');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-string-output', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-string-output');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-string-output', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-string-output', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-string-output');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>How to convert types into a <code class="language-rust"><span class="token class-name">String</span></code>, or output them.</p>
<tabs>

<tab>
<input type="radio" id="tab-strop-1" name="tab-group-strop" checked="">
<label for="tab-strop-1"><b>APIs</b></label>
<panel><div class="color-header undefined-color-3">
<p>Rust has, among others, these APIs to convert types to stringified output, collectively called <em>format</em> macros:</p>
<table><thead><tr><th>Macro</th><th>Output</th><th>Notes</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token macro property">format!</span><span class="token punctuation">(</span>fmt<span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token class-name">String</span></code></td><td>Bread-and-butter "to <code class="language-rust"><span class="token class-name">String</span></code>" converter.</td></tr>
<tr><td><code class="language-rust"><span class="token macro property">print!</span><span class="token punctuation">(</span>fmt<span class="token punctuation">)</span></code></td><td>Console</td><td>Writes to standard output.</td></tr>
<tr><td><code class="language-rust"><span class="token macro property">println!</span><span class="token punctuation">(</span>fmt<span class="token punctuation">)</span></code></td><td>Console</td><td>Writes to standard output.</td></tr>
<tr><td><code class="language-rust"><span class="token macro property">eprint!</span><span class="token punctuation">(</span>fmt<span class="token punctuation">)</span></code></td><td>Console</td><td>Writes to standard error.</td></tr>
<tr><td><code class="language-rust"><span class="token macro property">eprintln!</span><span class="token punctuation">(</span>fmt<span class="token punctuation">)</span></code></td><td>Console</td><td>Writes to standard error.</td></tr>
<tr><td><code class="language-rust"><span class="token macro property">write!</span><span class="token punctuation">(</span>dst<span class="token punctuation">,</span> fmt<span class="token punctuation">)</span></code></td><td>Buffer</td><td>Don't forget to also <code class="language-rust"><span class="token keyword keyword-use">use</span> <span class="token namespace">std<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token class-name">Write</span><span class="token punctuation">;</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token macro property">writeln!</span><span class="token punctuation">(</span>dst<span class="token punctuation">,</span> fmt<span class="token punctuation">)</span></code></td><td>Buffer</td><td>Don't forget to also <code class="language-rust"><span class="token keyword keyword-use">use</span> <span class="token namespace">std<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token class-name">Write</span><span class="token punctuation">;</span></code></td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Method</th><th>Notes</th></tr></thead><tbody>
<tr><td><code class="language-rust">x<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="https://doc.rust-lang.org/std/string/trait.ToString.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td><td>Produces <code class="language-rust"><span class="token class-name">String</span></code>, implemented for any <code class="language-rust"><span class="token class-name">Display</span></code> type.</td></tr>
</tbody></table>
<div>&nbsp;</div>
<p>Here <code class="language-rust">fmt</code> is string literal such as <code class="language-rust"><span class="token string">"hello {}"</span></code>, that specifies output (compare "Formatting" tab) and additional parameters.</p>
</div></panel></tab>

<tab>
<input type="radio" id="tab-strop-2" name="tab-group-strop">
<label for="tab-strop-2"><b>Printable Types</b></label>
<panel><div class="color-header undefined-color-3">
<p>In <code class="language-rust"><span class="token macro property">format!</span></code> and friends, types convert via trait <code class="language-rust"><span class="token class-name">Display</span></code> <code class="language-rust"><span class="token string">"{}"</span></code> <a href="https://doc.rust-lang.org/std/fmt/trait.Display.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> or <code class="language-rust"><span class="token class-name">Debug</span></code> <code class="language-rust"><span class="token string">"{:?}"</span></code> <a href="https://doc.rust-lang.org/std/fmt/trait.Debug.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> , non exhaustive list:</p>
<table><thead><tr><th>Type</th><th>Implements</th><th></th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span><span class="token punctuation">,</span> <span class="token class-name">Display</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">CString</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">OsString</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">PathBuf</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span><span class="token punctuation">,</span> <span class="token class-name">Display</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">CStr</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">OsStr</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">Path</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-bool">bool</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span><span class="token punctuation">,</span> <span class="token class-name">Display</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-char">char</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span><span class="token punctuation">,</span> <span class="token class-name">Display</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code> … <code class="language-rust"><span class="token keyword keyword-i128">i128</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span><span class="token punctuation">,</span> <span class="token class-name">Display</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-f32">f32</span></code>, <code class="language-rust"><span class="token keyword keyword-f64">f64</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span><span class="token punctuation">,</span> <span class="token class-name">Display</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token operator">!</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span><span class="token punctuation">,</span> <span class="token class-name">Display</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token class-name">Debug</span></code></td><td></td></tr>
</tbody></table>
<div>&nbsp;</div>
<p>In short, pretty much everything is <code class="language-rust"><span class="token class-name">Debug</span></code>; more <em>special</em> types might need special handling or conversion <a href="#string-conversions" title="On this site, above."><sup>↑</sup></a> to <code class="language-rust"><span class="token class-name">Display</span></code>.</p>
</div></panel></tab>

<tab>
<input type="radio" id="tab-strop-3" name="tab-group-strop">
<label for="tab-strop-3"><b>Formatting</b></label>
<panel><div>
<p>Each argument designator in format macro is either empty <code class="language-rust"><span class="token punctuation">{</span><span class="token punctuation">}</span></code>, <code class="language-rust"><span class="token punctuation">{</span>argument<span class="token punctuation">}</span></code>, or follows a basic <a href="https://doc.rust-lang.org/std/fmt/index.html#syntax"><strong>syntax</strong></a>:</p>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token punctuation">{</span> <span class="token punctuation">[</span>argument<span class="token punctuation">]</span> <span class="token char">':'</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>fill<span class="token punctuation">]</span> align<span class="token punctuation">]</span> <span class="token punctuation">[</span>sign<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token char">'#'</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>width <span class="token punctuation">[</span>$<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token char">'.'</span> precision <span class="token punctuation">[</span>$<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword keyword-type">type</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
</code></pre>
<div class="color-header undefined-color-3">
<table><thead><tr><th>Element</th><th>Meaning</th></tr></thead><tbody>
<tr><td><code class="language-rust">argument</code></td><td>Number (<code class="language-rust"><span class="token number">0</span></code>, <code class="language-rust"><span class="token number">1</span></code>, …), variable <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'21</sup></a> or name,<a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'18</sup></a> e.g., <code class="language-rust"><span class="token macro property">print!</span><span class="token punctuation">(</span><span class="token string">"{x}"</span><span class="token punctuation">)</span></code>.</td></tr>
<tr><td><code class="language-rust">fill</code></td><td>The character to fill empty spaces with (e.g., <code class="language-rust"><span class="token number">0</span></code>), if <code class="language-rust">width</code> is specified.</td></tr>
<tr><td><code class="language-rust">align</code></td><td>Left (<code class="language-rust"><span class="token operator">&lt;</span></code>), center (<code class="language-rust"><span class="token operator">^</span></code>), or right (<code class="language-rust"><span class="token operator">&gt;</span></code>), if width is specified.</td></tr>
<tr><td><code class="language-rust">sign</code></td><td>Can be <code class="language-rust"><span class="token operator">+</span></code> for sign to always be printed.</td></tr>
<tr><td><code class="language-rust">#</code></td><td><a href="https://doc.rust-lang.org/std/fmt/index.html#sign0">Alternate formatting</a>, e.g., prettify <code class="language-rust"><span class="token class-name">Debug</span></code><a href="https://doc.rust-lang.org/std/fmt/trait.Debug.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> formatter <code class="language-rust"><span class="token operator">?</span></code> or prefix hex with <code class="language-rust">0x</code>.</td></tr>
<tr><td><code class="language-rust">width</code></td><td>Minimum width (≥ 0), padding with <code class="language-rust">fill</code> (default to space). If starts with <code class="language-rust"><span class="token number">0</span></code>, zero-padded.</td></tr>
<tr><td><code class="language-rust">precision</code></td><td>Decimal digits (≥ 0) for numerics, or max width for non-numerics.</td></tr>
<tr><td><code class="language-rust">$</code></td><td>Interpret <code class="language-rust">width</code> or <code class="language-rust">precision</code> as argument identifier instead to allow for dynamic formatting.</td></tr>
<tr><td><strong><code class="language-rust"><span class="token keyword keyword-type">type</span></code></strong></td><td><code class="language-rust"><span class="token class-name">Debug</span></code><a href="https://doc.rust-lang.org/std/fmt/trait.Debug.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> (<code class="language-rust"><span class="token operator">?</span></code>) formatting, hex (<code class="language-rust">x</code>), binary (<code class="language-rust">b</code>), octal (<code class="language-rust">o</code>), pointer (<code class="language-rust">p</code>), exp (<code class="language-rust">e</code>) … <a href="https://doc.rust-lang.org/std/fmt/index.html#traits">see more</a>.</td></tr>
</tbody></table>
</div>
<div>&nbsp;</div><div class="color-header undefined-color-3">
<table><thead><tr><th>Format Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Print the next argument using <code class="language-rust"><span class="token class-name">Display</span></code>.<a href="https://doc.rust-lang.org/std/fmt/trait.Display.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">{</span>x<span class="token punctuation">}</span></code></td><td>Same, but use variable <code class="language-rust">x</code> from scope. <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'21</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">{</span><span class="token punctuation">:</span><span class="token operator">?</span><span class="token punctuation">}</span></code></td><td>Print the next argument using <code class="language-rust"><span class="token class-name">Debug</span></code>.<a href="https://doc.rust-lang.org/std/fmt/trait.Debug.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">:</span>#<span class="token operator">?</span><span class="token punctuation">}</span></code></td><td>Pretty-print the 3<sup>rd</sup> argument with <code class="language-rust"><span class="token class-name">Debug</span></code><a href="https://doc.rust-lang.org/std/fmt/trait.Debug.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> formatting.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">{</span>val<span class="token punctuation">:</span><span class="token operator">^</span><span class="token number">2</span>$<span class="token punctuation">}</span></code></td><td>Center the <code class="language-rust">val</code> named argument, width specified by the 3<sup>rd</sup> argument.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">{</span><span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token number">10.3</span><span class="token punctuation">}</span></code></td><td>Left align with width 10 and a precision of 3.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">{</span>val<span class="token punctuation">:</span>#x<span class="token punctuation">}</span></code></td><td>Format <code class="language-rust">val</code> argument as hex, with a leading <code class="language-rust">0x</code> (alternate format for <code class="language-rust">x</code>).</td></tr>
</tbody></table>
</div>
<div>&nbsp;</div><div class="color-header undefined-color-3">
<table><thead><tr><th>Full Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{}"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span></code></td><td>Print <code class="language-rust">x</code> using <code class="language-rust"><span class="token class-name">Display</span></code><a href="https://doc.rust-lang.org/std/fmt/trait.Display.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> on std. out and append new line. <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'15</sup></a> <a class="tooltip" title="Largely deprecated or outdated; prefer modern alternative."><sup>🗑️</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{x}"</span><span class="token punctuation">)</span></code></td><td>Same, but use variable <code class="language-rust">x</code> from scope. <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'21</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token macro property">format!</span><span class="token punctuation">(</span><span class="token string">"{a:.3} {b:?}"</span><span class="token punctuation">)</span></code></td><td>Convert <code class="language-rust">a</code> with 3 digits, add space, <code class="language-rust">b</code> with <code class="language-rust"><span class="token class-name">Debug</span></code> <a href="https://doc.rust-lang.org/std/fmt/trait.Debug.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a>, return <code class="language-rust"><span class="token class-name">String</span></code>.  <a class="tooltip" title="Only valid in, or starting with, indicated Rust edition."><sup>'21</sup></a></td></tr>
</tbody></table>
</div>
</div></panel></tab>
</tabs>
<div>&nbsp;</div>
<hr>
<h1 id="tooling">Tooling<sup id="target-tooling" class="target"><a href="#tooling">url</a></sup></h1>
<h2 id="project-anatomy">Project Anatomy<sup id="target-project-anatomy" class="target"><a href="#project-anatomy">url</a></sup><feedback element-id="project-anatomy" id="feedback-project-anatomy">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-project-anatomy', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-project-anatomy');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-project-anatomy', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-project-anatomy');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-project-anatomy', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-project-anatomy', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-project-anatomy');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Basic project layout, and common files and folders, as used by <code class="language-rust">cargo</code>. <a href="#cargo" title="On this site, below."><sup>↓</sup></a></p>
<div class="color-header red">
<table><thead><tr><th>Entry</th><th>Code</th></tr></thead><tbody>
<tr><td>📁 <code class="language-rust"><span class="token punctuation">.</span>cargo<span class="token operator">/</span></code></td><td><strong>Project-local cargo configuration</strong>, may contain <strong><code class="language-rust">config<span class="token punctuation">.</span>toml</code></strong>. <a href="https://doc.rust-lang.org/cargo/reference/config.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td>📁 <code class="language-rust">benches<span class="token operator">/</span></code></td><td>Benchmarks for your crate, run via <strong><code class="language-rust">cargo bench</code></strong>, requires nightly by default. <sup>*</sup> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td></tr>
<tr><td>📁 <code class="language-rust">examples<span class="token operator">/</span></code></td><td>Examples how to use your crate, they see your crate like external user would.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">my_example<span class="token punctuation">.</span>rs</code></td><td>Individual examples are run like <strong><code class="language-rust">cargo run <span class="token operator">-</span><span class="token operator">-</span>example my_example</code></strong>.</td></tr>
<tr><td>📁 <code class="language-rust">src<span class="token operator">/</span></code></td><td>Actual source code for your project.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">main<span class="token punctuation">.</span>rs</code></td><td>Default entry point for applications, this is what <strong><code class="language-rust">cargo run</code></strong> uses.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">lib<span class="token punctuation">.</span>rs</code></td><td>Default entry point for libraries. This is where lookup for <code class="language-rust"><span class="token namespace">my_crate<span class="token punctuation">::</span></span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> starts.</td></tr>
<tr><td>📁 <code class="language-rust">src<span class="token operator">/</span>bin<span class="token operator">/</span></code></td><td>Place for additional binaries, even in library projects.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">extra<span class="token punctuation">.</span>rs</code></td><td>Additional binary, run with <code class="language-rust">cargo run <span class="token operator">-</span><span class="token operator">-</span>bin extra</code>.</td></tr>
<tr><td>📁 <code class="language-rust">tests<span class="token operator">/</span></code></td><td>Integration tests go here, invoked via <strong><code class="language-rust">cargo test</code></strong>. Unit tests often stay in <code class="language-rust">src<span class="token operator">/</span></code> file.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">.</span>rustfmt<span class="token punctuation">.</span>toml</code></td><td>In case you want to <a href="https://rust-lang.github.io/rustfmt/"><strong>customize</strong></a> how <strong><code class="language-rust">cargo fmt</code></strong> works.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">.</span>clippy<span class="token punctuation">.</span>toml</code></td><td>Special configuration for certain <a href="https://rust-lang.github.io/rust-clippy/master/index.html"><strong>clippy lints</strong></a>, utilized via <strong><code class="language-rust">cargo clippy</code></strong>  <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust">build<span class="token punctuation">.</span>rs</code></td><td><strong>Pre-build script</strong>, <a href="https://doc.rust-lang.org/cargo/reference/build-scripts.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> useful when compiling C / FFI, …</td></tr>
<tr><td><code class="ignore-auto language-bash">Cargo.toml</code></td><td>Main <strong>project manifest</strong>, <a href="https://doc.rust-lang.org/cargo/reference/manifest.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> Defines dependencies, artifacts …</td></tr>
<tr><td><code class="ignore-auto language-bash">Cargo.lock</code></td><td>For reproducible builds. Add to git for apps, consider not for libs. <a class="tooltip" title="Author's opinion."><sup>💬</sup></a> <a href="https://blog.rust-lang.org/2023/08/29/committing-lockfiles.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> <a href="https://web.archive.org/web/20240108203227/https://old.reddit.com/r/rust/comments/164qfjm/change_in_guidance_on_committing_lockfiles_rust/jya8ouf/" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
<tr><td><code class="language-rust">rust<span class="token operator">-</span>toolchain<span class="token punctuation">.</span>toml</code></td><td>Define <strong>toolchain override</strong><a href="https://rust-lang.github.io/rustup/overrides.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> (channel, components, targets) for this project.</td></tr>
</tbody></table>
</div>
<footnotes>
<p><sup>*</sup> On stable consider <a href="https://github.com/bheisler/criterion.rs">Criterion</a>.</p>
</footnotes>
<div>&nbsp;</div>
<p><strong>Minimal examples</strong> for various entry points might look like:</p>
<tabs>

<tab>
<input type="radio" id="tab-anatomy-1" name="tab-group-anatomy" checked="">
<label for="tab-anatomy-1"><b>Applications</b></label>
<panel><div>

<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// src/main.rs (default application entry point)</span>

<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div></div></div></panel></tab>

<tab>
<input type="radio" id="tab-anatomy-2" name="tab-group-anatomy">
<label for="tab-anatomy-2"><b>Libraries</b></label>
<panel><div>

<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// src/lib.rs (default library entry point)</span>

<span class="token keyword keyword-pub">pub</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>      <span class="token comment">// Is a public item in root, so it's accessible from the outside.</span>

<span class="token keyword keyword-mod">mod</span> <span class="token module-declaration namespace">m</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-pub">pub</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// No public path (`m` not public) from root, so `g`</span>
<span class="token punctuation">}</span>                  <span class="token comment">// is not accessible from the outside of the crate.</span>
</code></pre>
</div></div></div></panel></tab>

<tab>
<input type="radio" id="tab-anatomy-3" name="tab-group-anatomy">
<label for="tab-anatomy-3"><b>Unit Tests</b></label>
<panel><div>

<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// src/my_module.rs (any file of your project)</span>

<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword keyword-u32">u32</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span>

<span class="token attribute attr-name">#[cfg(test)]</span>
<span class="token keyword keyword-mod">mod</span> <span class="token module-declaration namespace">test</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-use">use</span> <span class="token keyword keyword-super">super</span><span class="token module-declaration namespace"><span class="token punctuation">::</span>f</span><span class="token punctuation">;</span>           <span class="token comment">// Need to import items from parent module. Has</span>
                            <span class="token comment">// access to non-public members.</span>
    <span class="token attribute attr-name">#[test]</span>
    <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">ff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token macro property">assert_eq!</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div></div></div></panel></tab>

<tab>
<input type="radio" id="tab-anatomy-4" name="tab-group-anatomy">
<label for="tab-anatomy-4"><b>Integration Tests</b></label>
<panel><div>

<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// tests/sample.rs (sample integration test)</span>

<span class="token attribute attr-name">#[test]</span>
<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">my_sample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">assert_eq!</span><span class="token punctuation">(</span><span class="token namespace">my_crate<span class="token punctuation">::</span></span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Integration tests (and benchmarks) 'depend' to the crate like</span>
<span class="token punctuation">}</span>                                   <span class="token comment">// a 3rd party would. Hence, they only see public items.</span>
</code></pre>
</div></div></div></panel></tab>

<tab>
<input type="radio" id="tab-anatomy-5" name="tab-group-anatomy">
<label for="tab-anatomy-5"><b>Benchmarks</b><a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></label>
<panel><div>

<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// benches/sample.rs (sample benchmark)</span>

<span class="token attribute attr-name">#![feature(test)]</span>   <span class="token comment">// #[bench] is still experimental</span>

<span class="token keyword keyword-extern">extern</span> <span class="token keyword keyword-crate">crate</span> <span class="token module-declaration namespace">test</span><span class="token punctuation">;</span>  <span class="token comment">// Even in '18 this is needed for … reasons.</span>
                    <span class="token comment">// Normally you don't need this in '18 code.</span>

<span class="token keyword keyword-use">use</span> <span class="token namespace">test<span class="token punctuation">::</span></span><span class="token punctuation">{</span>black_box<span class="token punctuation">,</span> <span class="token class-name">Bencher</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token attribute attr-name">#[bench]</span>
<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">my_algo</span><span class="token punctuation">(</span>b<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">Bencher</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    b<span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token function">black_box</span><span class="token punctuation">(</span><span class="token namespace">my_crate<span class="token punctuation">::</span></span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// `black_box` prevents `f` from being optimized away.</span>
<span class="token punctuation">}</span>
</code></pre>
</div></div></div></panel></tab>

<tab>
<input type="radio" id="tab-anatomy-6" name="tab-group-anatomy">
<label for="tab-anatomy-6"><b>Build Scripts</b></label>
<panel><div>

<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// build.rs (sample pre-build script)</span>

<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// You need to rely on env. vars for target; `#[cfg(…)]` are for host.</span>
    <span class="token keyword keyword-let">let</span> target_os <span class="token operator">=</span> <span class="token namespace">env<span class="token punctuation">::</span></span><span class="token function">var</span><span class="token punctuation">(</span><span class="token string">"CARGO_CFG_TARGET_OS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><sup>*</sup><a href="https://doc.rust-lang.org/cargo/reference/environment-variables.html#environment-variables-cargo-sets-for-build-scripts">See here for list</a> of environment variables set.</p>
</div></div></div></panel></tab>

<tab>
<input type="radio" id="tab-anatomy-25" name="tab-group-anatomy">
<label for="tab-anatomy-25"><b>Proc Macros</b><a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></label>
<panel><div>

<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// src/lib.rs (default entry point for proc macros)</span>

<span class="token keyword keyword-extern">extern</span> <span class="token keyword keyword-crate">crate</span> <span class="token module-declaration namespace">proc_macro</span><span class="token punctuation">;</span>  <span class="token comment">// Apparently needed to be imported like this.</span>

<span class="token keyword keyword-use">use</span> <span class="token namespace">proc_macro<span class="token punctuation">::</span></span><span class="token class-name">TokenStream</span><span class="token punctuation">;</span>

<span class="token attribute attr-name">#[proc_macro_attribute]</span>   <span class="token comment">// Crates can now use `#[my_attribute]`</span>
<span class="token keyword keyword-pub">pub</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">my_attribute</span><span class="token punctuation">(</span>_attr<span class="token punctuation">:</span> <span class="token class-name">TokenStream</span><span class="token punctuation">,</span> item<span class="token punctuation">:</span> <span class="token class-name">TokenStream</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">TokenStream</span> <span class="token punctuation">{</span>
    item
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// Cargo.toml</span>

<span class="token punctuation">[</span>package<span class="token punctuation">]</span>
name <span class="token operator">=</span> <span class="token string">"my_crate"</span>
version <span class="token operator">=</span> <span class="token string">"0.1.0"</span>

<span class="token punctuation">[</span>lib<span class="token punctuation">]</span>
proc<span class="token operator">-</span><span class="token keyword keyword-macro">macro</span> <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre>
</div></div></div></panel></tab>
</tabs>
<div>&nbsp;</div>
<p>Module trees and imports:</p>
<tabs>

<tab>
<input type="radio" id="tab-module-import-1" name="tab-group-module-import" checked="">
<label for="tab-module-import-1"><b>Module Trees</b></label>
<panel><div>

<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<p><strong>Modules</strong> <a href="https://doc.rust-lang.org/book/ch07-02-defining-modules-to-control-scope-and-privacy.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/mod.html#modules" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/items/modules.html#modules" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> and <strong>source files</strong> work as follows:</p>
<ul>
<li><strong>Module tree</strong> needs to be explicitly defined, is <strong>not</strong> implicitly built from <strong>file system tree</strong>. <a href="http://www.sheshbabu.com/posts/rust-module-system/" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></li>
<li><strong>Module tree root</strong> equals library, app, … entry point (e.g., <code class="language-rust">lib<span class="token punctuation">.</span>rs</code>).</li>
</ul>
<p>Actual <strong>module definitions</strong> work as follows:</p>
<ul>
<li>A <strong><code class="language-rust"><span class="token keyword keyword-mod">mod</span> <span class="token module-declaration namespace">m</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></strong> defines module in-file, while <strong><code class="language-rust"><span class="token keyword keyword-mod">mod</span> <span class="token module-declaration namespace">m</span><span class="token punctuation">;</span></code></strong> will read <code class="language-rust">m<span class="token punctuation">.</span>rs</code> or <code class="language-rust">m<span class="token operator">/</span><span class="token keyword keyword-mod">mod</span><span class="token punctuation">.</span>rs</code>.</li>
<li>Path of <code class="language-rust"><span class="token punctuation">.</span>rs</code> based on <strong>nesting</strong>, e.g., <code class="language-rust"><span class="token keyword keyword-mod">mod</span> <span class="token module-declaration namespace">a</span> <span class="token punctuation">{</span> <span class="token keyword keyword-mod">mod</span> <span class="token module-declaration namespace">b</span> <span class="token punctuation">{</span> <span class="token keyword keyword-mod">mod</span> <span class="token module-declaration namespace">c</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code> is either <code class="language-rust">a<span class="token operator">/</span>b<span class="token operator">/</span>c<span class="token punctuation">.</span>rs</code> or <code class="language-rust">a<span class="token operator">/</span>b<span class="token operator">/</span>c<span class="token operator">/</span><span class="token keyword keyword-mod">mod</span><span class="token punctuation">.</span>rs</code>.</li>
<li>Files not pathed from module tree root via some <code class="language-rust"><span class="token keyword keyword-mod">mod</span> <span class="token module-declaration namespace">m</span><span class="token punctuation">;</span></code> won't be touched by compiler! <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a></li>
</ul>

</div></div></div></panel></tab>

<tab>
<input type="radio" id="tab-module-import-2" name="tab-group-module-import">
<label for="tab-module-import-2"><b>Namespaces</b><a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></label>
<panel><div>
<p>Rust has three kinds of <strong>namespaces</strong>:</p>
<table>
    <thead>
        <tr>
            <th>Namespace <i>Types</i></th>
            <th>Namespace <i>Functions</i></th>
            <th>Namespace <i>Macros</i></th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code class="language-rust"><span class="token keyword keyword-mod">mod</span> <span class="token class-name">X</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td>
            <td><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">X</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td>
            <td><code class="language-rust"><span class="token macro property">macro_rules!</span> <span class="token class-name">X</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></td>
        </tr>
        <tr>
            <td><code class="language-rust"><span class="token class-name">X</span></code> (crate)</td>
            <td><code class="language-rust"><span class="token keyword keyword-const">const</span> <span class="token class-name">X</span><span class="token punctuation">:</span> <span class="token keyword keyword-u8">u8</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></code></td>
            <td><code class="language-rust"></code></td>
        </tr>
        <tr>
            <td><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">X</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td>
            <td><code class="language-rust"><span class="token keyword keyword-static">static</span> <span class="token class-name">X</span><span class="token punctuation">:</span> <span class="token keyword keyword-u8">u8</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></code></td>
            <td><code class="language-rust"></code></td>
        </tr>
        <tr>
            <td><code class="language-rust"><span class="token keyword keyword-enum">enum</span> <span class="token type-definition class-name">X</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td>
            <td><code class="language-rust"></code></td>
            <td><code class="language-rust"></code></td>
        </tr>
        <tr>
            <td><code class="language-rust"><span class="token keyword keyword-union">union</span> <span class="token type-definition class-name">X</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td>
            <td><code class="language-rust"></code></td>
            <td><code class="language-rust"></code></td>
        </tr>
        <tr>
            <td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">X</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td>
            <td><code class="language-rust"></code></td>
            <td><code class="language-rust"></code></td>
        </tr>
        <tr>
            <td colspan="2" style="text-align:center;padding-right:50px"> <span style="opacity:1%">←</span> <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">X</span><span class="token punctuation">;</span></code><sup>1</sup> <span style="opacity:1%">→</span> </td>
            <td></td>
        </tr>
        <tr>
            <td colspan="2" style="text-align:center;padding-right:50px"> <span style="opacity:1%">←</span> <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">X</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><sup>2</sup> <span style="opacity:1%">→</span> </td>
            <td></td>
        </tr>
    </tbody>
</table>
<footnotes>
<p><sup>1</sup> Counts in <i>Types</i> and in <i>Functions</i>, defines type <code class="language-rust"><span class="token class-name">X</span></code> <em>and</em> constant <code class="language-rust"><span class="token class-name">X</span></code>. <br>
<sup>2</sup> Counts in <i>Types</i> and in <i>Functions</i>, defines type <code class="language-rust"><span class="token class-name">X</span></code> <em>and</em> function <code class="language-rust"><span class="token class-name">X</span></code>.</p>
</footnotes>
<ul>
<li>In any given scope, for example within a module, only one item per namespace can exist, e.g.,
<ul>
<li><code class="language-rust"><span class="token keyword keyword-enum">enum</span> <span class="token type-definition class-name">X</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> and <code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">X</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> can coexist</li>
<li><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">X</span><span class="token punctuation">;</span></code> and <code class="language-rust"><span class="token keyword keyword-const">const</span> <span class="token class-name">X</span></code> cannot coexist</li>
</ul>
</li>
<li>With a <code class="language-rust"><span class="token keyword keyword-use">use</span> <span class="token namespace">my_mod<span class="token punctuation">::</span></span><span class="token class-name">X</span><span class="token punctuation">;</span></code> all items called <code class="language-rust"><span class="token class-name">X</span></code> will be imported.</li>
</ul>
<blockquote>
<p>Due to naming conventions (e.g., <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code> and <code class="language-rust"><span class="token keyword keyword-mod">mod</span></code> are lowercase by convention) and <em>common sense</em> (most developers just don't name all things <code class="language-rust"><span class="token class-name">X</span></code>) you won't have to worry about these <em>kinds</em> in most cases. They can, however, be a factor when designing macros.</p>
</blockquote>
</div></panel></tab>
</tabs>
<div>&nbsp;</div><h2 id="cargo">Cargo<sup id="target-cargo" class="target"><a href="#cargo">url</a></sup><feedback element-id="cargo" id="feedback-cargo">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-cargo', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-cargo');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-cargo', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-cargo');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-cargo', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-cargo', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-cargo');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Commands and tools that are good to know.</p>
<div class="color-header tooling">
<table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody>
<tr><td><code class="language-rust">cargo init</code></td><td>Create a new project for the latest edition.</td></tr>
<tr><td><code class="language-rust">cargo <span class="cargo-prefix">b</span>uild</code></td><td>Build the project in debug mode (<code class="language-rust"><span class="token operator">-</span><span class="token operator">-</span><span class="cargo-prefix">r</span>elease</code> for all optimization).</td></tr>
<tr><td><code class="language-rust">cargo <span class="cargo-prefix">c</span>heck</code></td><td>Check if project would compile (much faster).</td></tr>
<tr><td><code class="language-rust">cargo <span class="cargo-prefix">t</span>est</code></td><td>Run tests for the project.</td></tr>
<tr><td><code class="language-rust">cargo <span class="cargo-prefix">d</span>oc <span class="token operator">-</span><span class="token operator">-</span>open</code></td><td>Locally generate documentation for your code and dependencies.</td></tr>
<tr><td><code class="language-rust">cargo <span class="cargo-prefix">r</span>un</code></td><td>Run your project, if a binary is produced (main.rs).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">cargo run <span class="token operator">-</span><span class="token operator">-</span>bin b</code></td><td>Run binary <code class="language-rust">b</code>. Unifies feat. with other dependents (can be confusing).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">cargo run <span class="token operator">-</span><span class="token operator">-</span><span class="cargo-prefix">p</span>ackage w</code></td><td>Run main of sub-worksp. <code class="language-rust">w</code>. Treats features more sanely.</td></tr>
<tr><td><code class="language-rust">cargo … <span class="token operator">-</span><span class="token operator">-</span>timings</code></td><td>Show what crates caused your build to take so long. <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a></td></tr>
<tr><td><code class="language-rust">cargo tree</code></td><td>Show dependency graph.</td></tr>
<tr><td><code class="language-rust">cargo <span class="token operator">+</span><span class="token punctuation">{</span>nightly<span class="token punctuation">,</span> stable<span class="token punctuation">}</span> …</code></td><td>Use given toolchain for command, e.g., for 'nightly only' tools.</td></tr>
<tr><td><code class="language-rust">cargo <span class="token operator">+</span>nightly …</code></td><td>Some nightly-only commands (substitute <code class="language-rust">…</code> with command below)</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">rustc <span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Zunpretty</span><span class="token operator">=</span>expanded</code></td><td>Show expanded macros. <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td></tr>
<tr><td><code class="language-rust">rustup doc</code></td><td>Open offline Rust documentation (incl. the books), good on a plane!</td></tr>
</tbody></table>
</div>
<footnotes>
<p>Here <code class="language-rust">cargo <span class="cargo-prefix">b</span>uild</code> means you can either type <code class="language-rust">cargo build</code> or just <code class="language-rust">cargo b</code>; and <code class="language-rust"><span class="token operator">-</span><span class="token operator">-</span><span class="cargo-prefix">r</span>elease</code> means it can be replaced with <code class="language-rust"><span class="token operator">-</span>r</code>.</p>
</footnotes>
<div>&nbsp;</div>
<p>These are optional <code class="language-rust">rustup</code> components.
Install them with <code class="language-rust">rustup component add <span class="token punctuation">[</span>tool<span class="token punctuation">]</span></code>.</p>
<div class="color-header tooling">
<table><thead><tr><th>Tool</th><th>Description</th></tr></thead><tbody>
<tr><td><code class="language-rust">cargo clippy</code></td><td>Additional (<a href="https://rust-lang.github.io/rust-clippy/master/">lints</a>) catching common API misuses and unidiomatic code. <a href="https://github.com/rust-lang/rust-clippy" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
<tr><td><code class="language-rust">cargo fmt</code></td><td>Automatic code formatter (<code class="language-rust">rustup component add rustfmt</code>). <a href="https://github.com/rust-lang/rustfmt" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
</tbody></table>
</div>
<div>&nbsp;</div>
<p>A large number of additional cargo plugins <a href="https://crates.io/categories/development-tools::cargo-plugins?sort=downloads"><strong>can be found here</strong></a>.</p>
<div>&nbsp;</div><h2 id="cross-compilation">Cross Compilation<sup id="target-cross-compilation" class="target"><a href="#cross-compilation">url</a></sup><feedback element-id="cross-compilation" id="feedback-cross-compilation">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-cross-compilation', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-cross-compilation');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-cross-compilation', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-cross-compilation');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-cross-compilation', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-cross-compilation', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-cross-compilation');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>


<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<p>🔘 Check <a href="https://doc.rust-lang.org/rustc/platform-support.html">target is supported</a>.</p>
<p>🔘 Install target via <strong><code class="language-rust">rustup target install aarch64<span class="token operator">-</span>linux<span class="token operator">-</span>android</code></strong> (for example).</p>
<p>🔘 Install native toolchain (required to <em>link</em>, depends on target).</p>
<p>Get from target vendor (Google, Apple, …), might not be available on all hosts (e.g., no iOS toolchain on Windows).</p>
<p><strong>Some toolchains require additional build steps</strong> (e.g., Android's <code class="language-rust">make<span class="token operator">-</span>standalone<span class="token operator">-</span>toolchain<span class="token punctuation">.</span>sh</code>).</p>
<p>🔘 Update <strong><code class="language-rust">~<span class="token operator">/</span><span class="token punctuation">.</span>cargo<span class="token operator">/</span>config<span class="token punctuation">.</span>toml</code></strong> like this:</p>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token punctuation">[</span>target<span class="token punctuation">.</span>aarch64<span class="token operator">-</span>linux<span class="token operator">-</span>android<span class="token punctuation">]</span>
linker <span class="token operator">=</span> <span class="token string">"[PATH_TO_TOOLCHAIN]/aarch64-linux-android/bin/aarch64-linux-android-clang"</span>
</code></pre>
<p>or</p>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token punctuation">[</span>target<span class="token punctuation">.</span>aarch64<span class="token operator">-</span>linux<span class="token operator">-</span>android<span class="token punctuation">]</span>
linker <span class="token operator">=</span> <span class="token string">"C:/[PATH_TO_TOOLCHAIN]/prebuilt/windows-x86_64/bin/aarch64-linux-android21-clang.cmd"</span>
</code></pre>
<p>🔘 Set <strong>environment variables</strong> (optional, wait until compiler complains before setting):</p>
<pre class="language-rust" tabindex="0"><code class="language-rust">set <span class="token constant">CC</span><span class="token operator">=</span><span class="token class-name">C</span><span class="token punctuation">:</span>\<span class="token punctuation">[</span><span class="token constant">PATH_TO_TOOLCHAIN</span><span class="token punctuation">]</span>\prebuilt\windows<span class="token operator">-</span>x86_64\bin\aarch64<span class="token operator">-</span>linux<span class="token operator">-</span>android21<span class="token operator">-</span>clang<span class="token punctuation">.</span>cmd
set <span class="token constant">CXX</span><span class="token operator">=</span><span class="token class-name">C</span><span class="token punctuation">:</span>\<span class="token punctuation">[</span><span class="token constant">PATH_TO_TOOLCHAIN</span><span class="token punctuation">]</span>\prebuilt\windows<span class="token operator">-</span>x86_64\bin\aarch64<span class="token operator">-</span>linux<span class="token operator">-</span>android21<span class="token operator">-</span>clang<span class="token punctuation">.</span>cmd
set <span class="token constant">AR</span><span class="token operator">=</span><span class="token class-name">C</span><span class="token punctuation">:</span>\<span class="token punctuation">[</span><span class="token constant">PATH_TO_TOOLCHAIN</span><span class="token punctuation">]</span>\prebuilt\windows<span class="token operator">-</span>x86_64\bin\aarch64<span class="token operator">-</span>linux<span class="token operator">-</span>android<span class="token operator">-</span>ar<span class="token punctuation">.</span>exe
…
</code></pre>
<p>Whether you set them depends on how compiler complains, not necessarily all are needed.</p>
<blockquote>
<p>Some platforms / configurations can be <strong>extremely sensitive</strong> how paths are specified (e.g., <code class="language-rust">\</code> vs <code class="language-rust"><span class="token operator">/</span></code>) and quoted.</p>
</blockquote>
<p>✔️ Compile with <strong><code class="language-rust">cargo build <span class="token operator">-</span><span class="token operator">-</span>target<span class="token operator">=</span>aarch64<span class="token operator">-</span>linux<span class="token operator">-</span>android</code></strong></p>

</div>
</div>


<div>&nbsp;</div><h2 id="tooling-directives">Tooling Directives<sup id="target-tooling-directives" class="target"><a href="#tooling-directives">url</a></sup><feedback element-id="tooling-directives" id="feedback-tooling-directives">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-tooling-directives', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-tooling-directives');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-tooling-directives', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-tooling-directives');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-tooling-directives', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-tooling-directives', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-tooling-directives');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Special tokens embedded in source code used by tooling or preprocessing.</p>
<tabs>

<tab>
<input type="radio" id="tab-preprocessing-1" name="tab-group-preprocessing" checked="">
<label for="tab-preprocessing-1"><b>Macros</b></label>
<panel><div class="color-header undefined-color-3">
<fixed-2-column class="color-header special_example">


<p>Inside a <strong>declarative</strong> <a href="https://doc.rust-lang.org/book/ch19-06-macros.html#declarative-macros-with-macro_rules-for-general-metaprogramming" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <strong>macro by example</strong> <a href="https://doc.rust-lang.org/book/ch19-06-macros.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/macros.html#macro_rules" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/macros-by-example.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <code class="language-rust"><span class="token macro property">macro_rules!</span></code> implementation these work:</p>
<table><thead><tr><th>Within Macros</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">ty</span></code></td><td>Macro capture (here a type).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">item</span></code></td><td>An item, like a function, struct, module, etc.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">block</span></code></td><td>A block <code class="language-rust"><span class="token punctuation">{</span><span class="token punctuation">}</span></code> of statements or expressions, e.g., <code class="language-rust"><span class="token punctuation">{</span> <span class="token keyword keyword-let">let</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">stmt</span></code></td><td>A statement, e.g., <code class="language-rust"><span class="token keyword keyword-let">let</span> x <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span></code>, <code class="language-rust"><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code> or <code class="language-rust"><span class="token macro property">vec!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">expr</span></code></td><td>An expression, e.g., <code class="language-rust">x</code>, <code class="language-rust"><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span></code>, <code class="language-rust"><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> or <code class="language-rust"><span class="token macro property">vec!</span><span class="token punctuation">[</span><span class="token punctuation">]</span></code></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">pat</span></code></td><td>A pattern, e.g., <code class="language-rust"><span class="token class-name">Some</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span></code>, <code class="language-rust"><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token char">'a'</span><span class="token punctuation">)</span></code> or <code class="language-rust">_</code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">ty</span></code></td><td>A type, e.g., <code class="language-rust"><span class="token class-name">String</span></code>, <code class="language-rust"><span class="token keyword keyword-usize">usize</span></code> or <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">ident</span></code></td><td>An identifier, for example in <code class="language-rust"><span class="token keyword keyword-let">let</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></code> the identifier is <code class="language-rust">x</code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">path</span></code></td><td>A path (e.g., <code class="language-rust">foo</code>, <code class="language-rust"><span class="token punctuation">::</span><span class="token namespace">std<span class="token punctuation">::</span>mem<span class="token punctuation">::</span></span>replace</code>, <code class="language-rust"><span class="token function">transmute</span><span class="token punctuation">::</span><span class="token operator">&lt;</span>_<span class="token punctuation">,</span> int<span class="token operator">&gt;</span></code>).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">literal</span></code></td><td>A literal (e.g., <code class="language-rust"><span class="token number">3</span></code>, <code class="language-rust"><span class="token string">"foo"</span></code>, <code class="language-rust"><span class="token string">b"bar"</span></code>, etc.).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">lifetime</span></code></td><td>A lifetime (e.g., <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code>, <code class="language-rust"><span class="token lifetime-annotation symbol">'static</span></code>, etc.).</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">meta</span></code></td><td>A meta item; the things that go inside <code class="language-rust"><span class="token attribute attr-name">#[…]</span></code> and <code class="language-rust"><span class="token attribute attr-name">#![…]</span></code> attributes.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">vis</span></code></td><td>A visibility modifier;  <code class="language-rust"><span class="token keyword keyword-pub">pub</span></code>, <code class="language-rust"><span class="token keyword keyword-pub">pub</span><span class="token punctuation">(</span><span class="token keyword keyword-crate">crate</span><span class="token punctuation">)</span></code>, etc.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token variable">$x</span><span class="token punctuation">:</span><span class="token fragment-specifier punctuation">tt</span></code></td><td>A single token tree, <a href="https://stackoverflow.com/a/40303308">see here</a> for more details.</td></tr>
<tr><td><code class="language-rust"><span class="token variable">$crate</span></code></td><td>Special hygiene variable, crate where macros is defined. <a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td></tr>
</tbody></table>
</fixed-2-column>
</div></panel></tab>

<tab>
<input type="radio" id="tab-preprocessing-2" name="tab-group-preprocessing">
<label for="tab-preprocessing-2"><b>Documentation</b></label>
<panel><div class="color-header undefined-color-2">
<fixed-2-column class="color-header special_example">

<p>Inside a <strong>doc comment</strong> <a href="https://doc.rust-lang.org/book/ch14-02-publishing-to-crates-io.html#making-useful-documentation-comments" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/stable/rust-by-example/meta/doc.html#documentation" title="See this topic in 'Rust by Example'."><sup class="entry">EX</sup></a> <a href="https://doc.rust-lang.org/reference/comments.html#doc-comments" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> these work:</p>
<table><thead><tr><th>Within Doc Comments</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust">```…```</code></td><td>Include a <a href="https://doc.rust-lang.org/rustdoc/documentation-tests.html"><strong>doc test</strong></a> (doc code running on <code class="language-rust">cargo test</code>).</td></tr>
<tr><td><code class="language-rust">```<span class="token class-name">X</span><span class="token punctuation">,</span><span class="token class-name">Y</span> …```</code></td><td>Same, and include optional configurations; with <code class="language-rust"><span class="token class-name">X</span></code>, <code class="language-rust"><span class="token class-name">Y</span></code> being …</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code style="color:grey" class="language-rust">rust</code></td><td>Make it explicit test is written in Rust; implied by Rust tooling.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code style="color:grey;opacity:.3" class="language-rust"><span class="token operator">-</span></code></td><td>Compile test. Run test. Fail if panic. <strong>Default behavior</strong>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code style="color:grey" class="language-rust">should_panic</code></td><td>Compile test. Run test. Execution should panic. If not, fail test.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code style="color:grey" class="language-rust">no_run</code></td><td>Compile test. Fail test if code can't be compiled, Don't run test.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code style="color:grey" class="language-rust">compile_fail</code></td><td>Compile test but fail test if code <em>can</em> be compiled.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code style="color:grey" class="language-rust">ignore</code></td><td>Do not compile. Do not run. Prefer option above instead.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code style="color:grey" class="language-rust">edition2018</code></td><td>Execute code as Rust '18; default is '15.</td></tr>
<tr><td><code class="language-rust">#</code></td><td>Hide line from documentation (<code class="language-rust">```   # <span class="token keyword keyword-use">use</span> <span class="token namespace">x<span class="token punctuation">::</span></span>hidden<span class="token punctuation">;</span> ```</code>).</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">[</span>`<span class="token class-name">S</span>`<span class="token punctuation">]</span></code></td><td>Create a link to struct, enum, trait, function, … <code class="language-rust"><span class="token class-name">S</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">[</span>`<span class="token class-name">S</span>`<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword keyword-crate">crate</span><span class="token punctuation">::</span><span class="token class-name">S</span><span class="token punctuation">)</span></code></td><td>Paths can also be used, in the form of markdown links.</td></tr>
</tbody></table>
</fixed-2-column>
</div></panel></tab>

<tab>
<input type="radio" id="tab-preprocessing-7" name="tab-group-preprocessing">
<label for="tab-preprocessing-7"><b><code class="language-rust"><span class="token attribute attr-name">#![globals]</span></code></b></label>
<panel><div class="color-header undefined-color-3">

<fixed-3-column class="color-header special_example">
<p>Attributes affecting the whole crate or app:</p>
<table><thead><tr><th>Opt-Out's</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![no_std]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>Don't (automatically) import <strong><code class="language-rust">std</code></strong><a href="https://doc.rust-lang.org/std/" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> ; use <strong><code class="language-rust">core</code></strong><a href="https://doc.rust-lang.org/core/" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> instead. <a href="https://doc.rust-lang.org/reference/names/preludes.html#the-no_std-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![no_implicit_prelude]</span></code></td><td><code class="language-rust"><span class="token constant">CM</span></code></td><td>Don't add <strong><code class="language-rust">prelude</code></strong><a href="https://doc.rust-lang.org/std/prelude/index.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a>, need to manually import <code class="language-rust"><span class="token class-name">None</span></code>, <code class="language-rust"><span class="token class-name">Vec</span></code>, … <a href="https://doc.rust-lang.org/reference/names/preludes.html#the-no_implicit_prelude-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![no_main]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>Don't emit <code class="language-rust"><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> in apps if you do that yourself. <a href="https://doc.rust-lang.org/reference/crates-and-source-files.html#the-no_main-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
</tbody></table>

<div>&nbsp;</div><table><thead><tr><th>Opt-In's</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![feature(a, b, c)]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>Rely on f. that may not get stabilized, <em>c.</em> <a href="https://doc.rust-lang.org/unstable-book/the-unstable-book.html"><strong>Unstable Book</strong></a>. <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Builds</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![windows_subsystem = <span class="token string">"x"</span>]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>On Windows, make a <code class="language-rust">console</code> or <code class="language-rust">windows</code> app. <a href="https://doc.rust-lang.org/reference/runtime.html#the-windows_subsystem-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![crate_name = <span class="token string">"x"</span>]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>Specify current crate name, e.g., when not using <code class="language-rust">cargo</code>. <a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a> <a href="https://doc.rust-lang.org/reference/crates-and-source-files.html#the-crate_name-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![crate_type = <span class="token string">"bin"</span>]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>Specify current crate type (<code class="language-rust">bin</code>, <code class="language-rust">lib</code>, <code class="language-rust">dylib</code>, <code class="language-rust">cdylib</code>, …). <a href="https://doc.rust-lang.org/reference/linkage.html" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![recursion_limit = <span class="token string">"123"</span>]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>Set <em>compile-time</em> recursion limit for deref, macros, … <a href="https://doc.rust-lang.org/reference/attributes/limits.html#the-recursion_limit-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![type_length_limit = <span class="token string">"456"</span>]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>Limits maximum number of type substitutions. <a href="https://doc.rust-lang.org/reference/attributes/limits.html#the-type_length_limit-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Handlers</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[panic_handler]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Make some <code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token class-name">PanicInfo</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">!</span></code> app's <strong>panic handler</strong>. <a href="https://doc.rust-lang.org/reference/runtime.html#the-panic_handler-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[alloc_error_handler]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Make some <code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token class-name">Layout</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">!</span></code> the <strong>allocation fail. handler</strong>. <a href="https://github.com/rust-lang/rust/issues/51540" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[global_allocator]</span></code></td><td><code class="language-rust"><span class="token class-name">S</span></code></td><td>Make static item impl. <code class="language-rust"><span class="token class-name">GlobalAlloc</span></code> <a href="https://doc.rust-lang.org/alloc/alloc/trait.GlobalAlloc.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <strong>global allocator</strong>. <a href="https://doc.rust-lang.org/reference/runtime.html#the-global_allocator-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
</tbody></table>
</fixed-3-column>
</div></panel></tab>

<tab>
<input type="radio" id="tab-preprocessing-4" name="tab-group-preprocessing">
<label for="tab-preprocessing-4"><b><code class="language-rust"><span class="token attribute attr-name">#[code]</span></code></b></label>
<panel><div class="color-header undefined-color-3">
<p>Attributes primarily governing emitted code:</p>
<fixed-3-column class="color-header special_example">
<table><thead><tr><th>Developer UX</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[non_exhaustive]</span></code></td><td><code class="language-rust"><span class="token class-name">T</span></code></td><td>Future-proof <code class="language-rust"><span class="token keyword keyword-struct">struct</span></code> or <code class="language-rust"><span class="token keyword keyword-enum">enum</span></code>; hint it may grow in future. <a href="https://doc.rust-lang.org/reference/attributes/type_system.html#the-non_exhaustive-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[path = <span class="token string">"x.rs"</span>]</span></code></td><td><code class="language-rust"><span class="token class-name">M</span></code></td><td>Get module from non-standard file. <a href="https://doc.rust-lang.org/reference/items/modules.html#the-path-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[diagnostic::on_unimplemented]</span></code></td><td><code class="language-rust"><span class="token class-name">X</span></code></td><td>Give better error messages when trait not implemented. <a href="https://rust-lang.github.io/rfcs/3368-diagnostic-attribute-namespace.html" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a></td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Codegen</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[inline]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Nicely suggest compiler should inline function at call sites. <a href="https://doc.rust-lang.org/reference/attributes/codegen.html#the-inline-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[inline(always)]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Emphatically threaten compiler to inline call, or else. <a href="https://doc.rust-lang.org/reference/attributes/codegen.html#the-inline-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[inline(never)]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Instruct compiler to feel sad if it still inlines the function. <a href="https://doc.rust-lang.org/reference/attributes/codegen.html#the-inline-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cold]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Hint that function probably isn't going to be called. <a href="https://doc.rust-lang.org/reference/attributes/codegen.html#the-cold-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[target_feature(enable=<span class="token string">"x"</span>)]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Enable CPU feature (e.g., <code class="language-rust">avx2</code>) for code of <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token keyword keyword-fn">fn</span></code>. <a href="https://doc.rust-lang.org/reference/attributes/codegen.html#the-target_feature-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[track_caller]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Allows <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code> to find <strong><code class="language-rust">caller</code></strong><a href="https://doc.rust-lang.org/core/panic/struct.Location.html#method.caller" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> for better panic messages. <a href="https://doc.rust-lang.org/reference/attributes/codegen.html#the-track_caller-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[repr(X)]</span></code><sup>1</sup></td><td><code class="language-rust"><span class="token class-name">T</span></code></td><td>Use another representation instead of the default <strong><code class="language-rust">rust</code></strong> <a href="https://doc.rust-lang.org/reference/type-layout.html#the-default-representation" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> one:</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token attribute attr-name">#[repr(C)]</span></code></td><td><code class="language-rust"><span class="token class-name">T</span></code></td><td>Use a C-compatible (f. FFI), predictable (f. <code class="language-rust">transmute</code>) layout. <a href="https://doc.rust-lang.org/reference/type-layout.html#the-c-representation" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token attribute attr-name">#[repr(C, u8)]</span></code></td><td><code class="language-rust"><span class="token keyword keyword-enum">enum</span></code></td><td>Give <code class="language-rust"><span class="token keyword keyword-enum">enum</span></code> discriminant the specified type. <a href="https://doc.rust-lang.org/reference/type-layout.html#the-c-representation" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token attribute attr-name">#[repr(transparent)]</span></code></td><td><code class="language-rust"><span class="token class-name">T</span></code></td><td>Give single-element type same layout as contained field. <a href="https://doc.rust-lang.org/reference/type-layout.html#the-transparent-representation" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token attribute attr-name">#[repr(packed(1))]</span></code></td><td><code class="language-rust"><span class="token class-name">T</span></code></td><td>Lower align. of struct and contained fields, mildly UB prone. <a href="https://doc.rust-lang.org/reference/type-layout.html#the-alignment-modifiers" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token attribute attr-name">#[repr(align(8))]</span></code></td><td><code class="language-rust"><span class="token class-name">T</span></code></td><td>Raise alignment of struct to given value, e.g., for SIMD types. <a href="https://doc.rust-lang.org/reference/type-layout.html#the-alignment-modifiers" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
</tbody></table>

<footnotes>
<p><sup>1</sup> Some representation modifiers can be combined, e.g., <code class="language-rust"><span class="token attribute attr-name">#[repr(C, packed(1))]</span></code>.</p>
</footnotes>
<div>&nbsp;</div><table><thead><tr><th>Linking</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[no_mangle]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Use item name directly as symbol name, instead of mangling.  <a href="https://doc.rust-lang.org/reference/abi.html#the-no_mangle-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[no_link]</span></code></td><td><code class="language-rust"><span class="token class-name">X</span></code></td><td>Don't link <code class="language-rust"><span class="token keyword keyword-extern">extern</span> <span class="token keyword keyword-crate">crate</span></code> when only wanting macros. <a href="https://doc.rust-lang.org/reference/items/extern-crates.html#the-no_link-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[link(name=<span class="token string">"x"</span>, kind=<span class="token string">"y"</span>)]</span></code></td><td><code class="language-rust"><span class="token class-name">X</span></code></td><td>Native lib to link against when looking up symbol. <a href="https://doc.rust-lang.org/reference/items/external-blocks.html#the-link-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[link_name = <span class="token string">"foo"</span>]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Name of symbol to search for resolving <code class="language-rust"><span class="token keyword keyword-extern">extern</span> <span class="token keyword keyword-fn">fn</span></code>. <a href="https://doc.rust-lang.org/reference/items/external-blocks.html#the-link_name-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[link_section = <span class="token string">".sample"</span>]</span></code></td><td><code class="language-rust"><span class="token constant">FS</span></code></td><td>Section name of object file where item should be placed. <a href="https://doc.rust-lang.org/reference/abi.html#the-link_section-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[export_name = <span class="token string">"foo"</span>]</span></code></td><td><code class="language-rust"><span class="token constant">FS</span></code></td><td>Export a <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code> or <code class="language-rust"><span class="token keyword keyword-static">static</span></code> under a different name. <a href="https://doc.rust-lang.org/reference/abi.html#the-export_name-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[used]</span></code></td><td><code class="language-rust"><span class="token class-name">S</span></code></td><td>Don't optimize away <code class="language-rust"><span class="token keyword keyword-static">static</span></code> variable despite it looking unused. <a href="https://doc.rust-lang.org/reference/abi.html#the-used-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
</tbody></table>
</fixed-3-column>
</div></panel></tab>

<tab>
<input type="radio" id="tab-preprocessing-3" name="tab-group-preprocessing">
<label for="tab-preprocessing-3"><b><code class="language-rust"><span class="token attribute attr-name">#[quality]</span></code></b></label>
<panel><div class="color-header undefined-color-3">
<p>Attributes used by Rust tools to improve code quality:</p>
<fixed-3-column class="color-header special_example">
<table><thead><tr><th>Code Patterns</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[allow(X)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Instruct <code class="language-rust">rustc</code> / <code class="language-rust">clippy</code> to ign. class <code class="language-rust"><span class="token class-name">X</span></code> of possible issues. <a href="https://doc.rust-lang.org/reference/attributes/diagnostics.html#lint-check-attributes" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[warn(X)]</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>… emit a warning, mixes well with <code class="language-rust">clippy</code> lints. <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a> <a href="https://doc.rust-lang.org/reference/attributes/diagnostics.html#lint-check-attributes" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[deny(X)]</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>… fail compilation. <a href="https://doc.rust-lang.org/reference/attributes/diagnostics.html#lint-check-attributes" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[forbid(X)]</span></code> <sup>1</sup></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>… fail compilation and prevent subsequent <code class="language-rust">allow</code> overrides. <a href="https://doc.rust-lang.org/reference/attributes/diagnostics.html#lint-check-attributes" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[deprecated = <span class="token string">"msg"</span>]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Let your users know you made a design mistake. <a href="https://doc.rust-lang.org/reference/diagnostics.html#the-deprecated-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[must_use = <span class="token string">"msg"</span>]</span></code></td><td><code class="language-rust"><span class="token constant">FTX</span></code></td><td>Makes compiler check return value is <em>processed</em> by caller. <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a> <a href="https://doc.rust-lang.org/reference/attributes/diagnostics.html#the-must_use-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
</tbody></table>
<footnotes>
<p><sup>1</sup> <a class="tooltip" title="Author's opinion."><sup>💬</sup></a> There is some debate which one is the <em>best</em> to ensure high quality crates. Actively maintained multi-dev crates probably benefit from more aggressive <code class="language-rust">deny</code> or <code class="language-rust">forbid</code> lints; less-regularly updated ones probably more from conservative use of <code class="language-rust">warn</code> (as future compiler or <code class="language-rust">clippy</code> updates may suddenly break otherwise working code with minor issues).</p>
</footnotes>
<div>&nbsp;</div></fixed-3-column>
<fixed-3-column class="color-header special_example">
<table><thead><tr><th>Tests</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[test]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Marks the function as a test, run with <code class="language-rust">cargo test</code>. <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a> <a href="https://doc.rust-lang.org/reference/attributes/testing.html#the-test-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[ignore = <span class="token string">"msg"</span>]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Compiles but does not execute some <code class="language-rust"><span class="token attribute attr-name">#[test]</span></code> for now. <a href="https://doc.rust-lang.org/reference/attributes/testing.html#the-ignore-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[should_panic]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Test must <code class="language-rust"><span class="token macro property">panic!</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to actually succeed. <a href="https://doc.rust-lang.org/reference/attributes/testing.html#the-ignore-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[bench]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Mark function in <code class="language-rust">bench<span class="token operator">/</span></code> as benchmark for <code class="language-rust">cargo bench</code>. <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a> <a href="https://doc.rust-lang.org/reference/" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Formatting</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[rustfmt::skip]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Prevent <code class="language-rust">cargo fmt</code> from cleaning up item. <a href="https://github.com/rust-lang/rustfmt" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![rustfmt::skip::macros(x)]</span></code></td><td><code class="language-rust"><span class="token constant">CM</span></code></td><td>… from cleaning up macro <code class="language-rust">x</code>. <a href="https://github.com/rust-lang/rustfmt" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![rustfmt::skip::attributes(x)]</span></code></td><td><code class="language-rust"><span class="token constant">CM</span></code></td><td>… from cleaning up attribute <code class="language-rust">x</code>. <a href="https://github.com/rust-lang/rustfmt" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
</tbody></table>
</fixed-3-column>
<div>&nbsp;</div><fixed-3-column class="color-header extra-wide special_example">
<table><thead><tr><th>Documentation</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[doc = <span class="token string">"Explanation"</span>]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Same as adding a <code class="language-rust"><span class="token comment">///</span></code> doc comment. <a href="https://doc.rust-lang.org/rustdoc/the-doc-attribute.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[doc(alias = <span class="token string">"other"</span>)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Provide other name for search in docs. <a href="https://github.com/rust-lang/rust/issues/50146" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[doc(hidden)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Prevent item from showing up in docs. <a href="https://doc.rust-lang.org/rustdoc/write-documentation/the-doc-attribute.html#hidden" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![doc(html_favicon_url = <span class="token string">""</span>)]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>Sets the <code class="language-rust">favicon</code> for the docs. <a href="https://doc.rust-lang.org/rustdoc/write-documentation/the-doc-attribute.html#html_favicon_url" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![doc(html_logo_url  = <span class="token string">""</span>)]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>The logo used in the docs. <a href="https://doc.rust-lang.org/rustdoc/write-documentation/the-doc-attribute.html#html_logo_url" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![doc(html_playground_url  = <span class="token string">""</span>)]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>Generates <code class="language-rust"><span class="token class-name">Run</span></code> buttons and uses given service. <a href="https://doc.rust-lang.org/rustdoc/write-documentation/the-doc-attribute.html#html_playground_url" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![doc(html_root_url  = <span class="token string">""</span>)]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>Base URL for links to external crates. <a href="https://doc.rust-lang.org/rustdoc/write-documentation/the-doc-attribute.html#html_root_url" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#![doc(html_no_source)]</span></code></td><td><code class="language-rust"><span class="token class-name">C</span></code></td><td>Prevents source from being included in docs. <a href="https://doc.rust-lang.org/rustdoc/write-documentation/the-doc-attribute.html#html_no_source" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td></tr>
</tbody></table>

</fixed-3-column>
</div></panel></tab>

<tab>
<input type="radio" id="tab-preprocessing-8" name="tab-group-preprocessing">
<label for="tab-preprocessing-8"><b><code class="language-rust"><span class="token attribute attr-name">#[macros]</span></code></b></label>
<panel><div class="color-header undefined-color-3">
<fixed-3-column class="color-header special_example">
<p>Attributes related to the creation and use of macros:</p>
<table><thead><tr><th>Macros By Example</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[macro_export]</span></code></td><td><code class="language-rust"><span class="token operator">!</span></code></td><td>Export <code class="language-rust"><span class="token macro property">macro_rules!</span></code> as <code class="language-rust"><span class="token keyword keyword-pub">pub</span></code> on crate level <a href="https://doc.rust-lang.org/reference/macros-by-example.html#path-based-scope" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[macro_use]</span></code></td><td><code class="language-rust"><span class="token constant">MX</span></code></td><td>Let macros persist past mod.; or import from <code class="language-rust"><span class="token keyword keyword-extern">extern</span> <span class="token keyword keyword-crate">crate</span></code>. <a href="https://doc.rust-lang.org/reference/macros-by-example.html#the-macro_use-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Proc Macros</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[proc_macro]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Mark <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code> as <strong>function-like</strong> procedural <em>m.</em> callable as <code class="language-rust"><span class="token macro property">m!</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. <a href="https://doc.rust-lang.org/reference/procedural-macros.html#function-like-procedural-macros" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[proc_macro_derive(Foo)]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Mark <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code> as <strong>derive macro</strong> which can <code class="language-rust"><span class="token attribute attr-name">#[derive(Foo)]</span></code>. <a href="https://doc.rust-lang.org/reference/procedural-macros.html#derive-macros" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[proc_macro_attribute]</span></code></td><td><code class="language-rust"><span class="token class-name">F</span></code></td><td>Mark <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code> as <strong>attribute macro</strong> for new <code class="language-rust"><span class="token attribute attr-name">#[x]</span></code>. <a href="https://doc.rust-lang.org/reference/procedural-macros.html#attribute-macros" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Derives</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[derive(X)]</span></code></td><td><code class="language-rust"><span class="token class-name">T</span></code></td><td>Let some proc macro provide a goodish <code class="language-rust"><span class="token keyword keyword-impl">impl</span></code> of <code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">X</span></code>. <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a> <a href="https://doc.rust-lang.org/reference/" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
</tbody></table>

</fixed-3-column>
</div></panel></tab>

<tab>
<input type="radio" id="tab-preprocessing-5" name="tab-group-preprocessing">
<label for="tab-preprocessing-5"><b><code class="language-rust"><span class="token attribute attr-name">#[cfg]</span></code></b></label>
<panel><div class="color-header undefined-color-3">
<p>Attributes governing conditional compilation:</p>
<fixed-3-column class="color-header extra-wide special_example">
<table><thead><tr><th>Config Attributes</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(X)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Include item if configuration <code class="language-rust"><span class="token class-name">X</span></code> holds. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#the-cfg-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(all(X, Y, Z))]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Include item if all options hold. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#conditional-compilation" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(any(X, Y, Z))]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Include item if at least one option holds. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#conditional-compilation" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(not(X))]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Include item if <code class="language-rust"><span class="token class-name">X</span></code> does not hold. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#conditional-compilation" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg_attr(X, foo = <span class="token string">"msg"</span>)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Apply <code class="language-rust"><span class="token attribute attr-name">#[foo = <span class="token string">"msg"</span>]</span></code> if configuration <code class="language-rust"><span class="token class-name">X</span></code> holds. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#the-cfg_attr-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
</tbody></table>
<div>&nbsp;</div>
<blockquote>
<p>⚠️ Note, options can generally be set multiple times, i.e., the same key can show up with multiple values. One can expect <code class="language-rust"><span class="token attribute attr-name">#[cfg(target_feature = <span class="token string">"avx"</span>)]</span></code> <strong>and</strong> <code class="language-rust"><span class="token attribute attr-name">#[cfg(target_feature = <span class="token string">"avx2"</span>)]</span></code> to be true at the same time.</p>
</blockquote>
<div>&nbsp;</div><table><thead><tr><th>Known Options</th><th>On</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(target_arch = <span class="token string">"x86_64"</span>)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>The CPU architecture crate is compiled for. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#target_arch" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(target_feature = <span class="token string">"avx"</span>)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Whether a particular class of instructions is avail. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#target_feature" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(target_os = <span class="token string">"macos"</span>)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Operating system your code will run on. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#target_os" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(target_family = <span class="token string">"unix"</span>)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Family operating system belongs to. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#target_family" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(target_env = <span class="token string">"msvc"</span>)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>How DLLs and functions are interf. with on OS. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#target_env" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(target_endian = <span class="token string">"little"</span>)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Main reason your new zero-cost prot. fails. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#target_endian" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(target_pointer_width = <span class="token string">"64"</span>)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>How many bits ptrs, <code class="language-rust"><span class="token keyword keyword-usize">usize</span></code> and words have. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#target_pointer_width" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(target_vendor = <span class="token string">"apple"</span>)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Manufacturer of target. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#target_vendor" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(debug_assertions)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Whether <code class="language-rust"><span class="token macro property">debug_assert!</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> &amp; co. would panic. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#debug_assertions" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(panic = <span class="token string">"unwind"</span>)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Whether <code class="language-rust">unwind</code> or <code class="language-rust">abort</code> will happen on panic. <a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(proc_macro)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Whether crate compiled as proc macro. <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#proc_macro" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(test)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>Whether compiled with <code class="language-rust">cargo test</code>. <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a> <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#test" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[cfg(feature = <span class="token string">"foo"</span>)]</span></code></td><td><code class="language-rust"><span class="token operator">*</span></code></td><td>When your crate was compiled with <em>f.</em> <code class="language-rust">foo</code>. <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a> <a href="https://doc.rust-lang.org/reference/conditional-compilation.html#conditional-compilation" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
</tbody></table>
</fixed-3-column>
</div></panel></tab>

<tab>
<input type="radio" id="tab-preprocessing-6" name="tab-group-preprocessing">
<label for="tab-preprocessing-6"><b><code class="language-rust">build<span class="token punctuation">.</span>rs</code></b></label>
<panel><div class="color-header undefined-color-3">
<p>Environment variables and outputs related to the pre-build script.</p>
<fixed-2-column class="color-header extra-wide special_example">
<table><thead><tr><th>Input Environment</th><th>Explanation <a href="https://doc.rust-lang.org/cargo/reference/environment-variables.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token constant">CARGO_FEATURE_X</span></code></td><td>Environment variable set for each feature <code class="language-rust">x</code> activated.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token constant">CARGO_FEATURE_SOMETHING</span></code></td><td>If feature <code class="language-rust">something</code> were enabled.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token constant">CARGO_FEATURE_SOME_FEATURE</span></code></td><td>If <em>f.</em> <code class="language-rust">some<span class="token operator">-</span>feature</code> were enabled; dash <code class="language-rust"><span class="token operator">-</span></code> converted to <code class="language-rust">_</code>.</td></tr>
<tr><td><code class="language-rust"><span class="token constant">CARGO_CFG_X</span></code></td><td>Exposes cfg's; joins mult. opts. by <code class="language-rust"><span class="token punctuation">,</span></code> and converts <code class="language-rust"><span class="token operator">-</span></code> to <code class="language-rust">_</code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token constant">CARGO_CFG_TARGET_OS</span><span class="token operator">=</span>macos</code></td><td>If <code class="language-rust">target_os</code> were set to <code class="language-rust">macos</code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token constant">CARGO_CFG_TARGET_FEATURE</span><span class="token operator">=</span>avx<span class="token punctuation">,</span>avx2</code></td><td>If <code class="language-rust">target_feature</code> were set to <code class="language-rust">avx</code> and <code class="language-rust">avx2</code>.</td></tr>
<tr><td><code class="language-rust"><span class="token constant">OUT_DIR</span></code></td><td>Where output should be placed.</td></tr>
<tr><td><code class="language-rust"><span class="token constant">TARGET</span></code></td><td>Target triple being compiled for.</td></tr>
<tr><td><code class="language-rust"><span class="token constant">HOST</span></code></td><td>Host triple (running this build script).</td></tr>
<tr><td><code class="language-rust"><span class="token constant">PROFILE</span></code></td><td>Can be <code class="language-rust">debug</code> or <code class="language-rust">release</code>.</td></tr>
</tbody></table>
<footnotes>
<p>Available in <code class="language-rust">build<span class="token punctuation">.</span>rs</code> via <code class="language-rust"><span class="token namespace">env<span class="token punctuation">::</span></span><span class="token function">var</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code>. List not exhaustive.</p>
</footnotes>
</fixed-2-column>
<fixed-2-column class="color-header extra-wide special_example">
<div>&nbsp;</div><table><thead><tr><th>Output String</th><th>Explanation <a href="https://doc.rust-lang.org/cargo/reference/build-scripts.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></th></tr></thead><tbody>
<tr><td><code class="language-rust">cargo<span class="token punctuation">:</span>rerun<span class="token operator">-</span><span class="token keyword keyword-if">if</span><span class="token operator">-</span>changed<span class="token operator">=</span><span class="token constant">PATH</span></code></td><td>(Only) run this <code class="language-rust">build<span class="token punctuation">.</span>rs</code> again if <code class="language-rust"><span class="token constant">PATH</span></code> changed.</td></tr>
<tr><td><code class="language-rust">cargo<span class="token punctuation">:</span>rerun<span class="token operator">-</span><span class="token keyword keyword-if">if</span><span class="token operator">-</span>env<span class="token operator">-</span>changed<span class="token operator">=</span><span class="token constant">VAR</span></code></td><td>(Only) run this <code class="language-rust">build<span class="token punctuation">.</span>rs</code> again if environment <code class="language-rust"><span class="token constant">VAR</span></code> changed.</td></tr>
<tr><td><code class="language-rust">cargo<span class="token punctuation">:</span>rustc<span class="token operator">-</span>link<span class="token operator">-</span>lib<span class="token operator">=</span><span class="token punctuation">[</span><span class="token constant">KIND</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token constant">NAME</span></code></td><td>Link native library as if via <code class="language-rust"><span class="token operator">-</span>l</code> option.</td></tr>
<tr><td><code class="language-rust">cargo<span class="token punctuation">:</span>rustc<span class="token operator">-</span>link<span class="token operator">-</span>search<span class="token operator">=</span><span class="token punctuation">[</span><span class="token constant">KIND</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token constant">PATH</span></code></td><td>Search path for native library as if via <code class="language-rust"><span class="token operator">-</span><span class="token class-name">L</span></code> option.</td></tr>
<tr><td><code class="language-rust">cargo<span class="token punctuation">:</span>rustc<span class="token operator">-</span>flags<span class="token operator">=</span><span class="token constant">FLAGS</span></code></td><td>Add special flags to compiler. <a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></td></tr>
<tr><td><code class="language-rust">cargo<span class="token punctuation">:</span>rustc<span class="token operator">-</span>cfg<span class="token operator">=</span><span class="token constant">KEY</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token string">"VALUE"</span><span class="token punctuation">]</span></code></td><td>Emit given <code class="language-rust">cfg</code> option to be used for later compilation.</td></tr>
<tr><td><code class="language-rust">cargo<span class="token punctuation">:</span>rustc<span class="token operator">-</span>env<span class="token operator">=</span><span class="token constant">VAR</span><span class="token operator">=</span><span class="token constant">VALUE</span> </code></td><td>Emit var accessible via <code class="language-rust"><span class="token macro property">env!</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> in crate during compilation.</td></tr>
<tr><td><code class="language-rust">cargo<span class="token punctuation">:</span>rustc<span class="token operator">-</span>cdylib<span class="token operator">-</span>link<span class="token operator">-</span>arg<span class="token operator">=</span><span class="token constant">FLAG</span> </code></td><td>When building a <code class="language-rust">cdylib</code>, pass linker flag.</td></tr>
<tr><td><code class="language-rust">cargo<span class="token punctuation">:</span>warning<span class="token operator">=</span><span class="token constant">MESSAGE</span></code></td><td>Emit compiler warning.</td></tr>
</tbody></table>
<footnotes>
<p>Emitted from <code class="language-rust">build<span class="token punctuation">.</span>rs</code> via <code class="language-rust"><span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. List not exhaustive.</p>
</footnotes>
</fixed-2-column>
</div></panel></tab>
</tabs>
<footnotes>
<p>For the <em>On</em> column in attributes: <br>
<code class="language-rust"><span class="token class-name">C</span></code> means on crate level (usually given as <code class="language-rust"><span class="token attribute attr-name">#![my_attr]</span></code> in the top level file). <br>
<code class="language-rust"><span class="token class-name">M</span></code> means on modules. <br>
<code class="language-rust"><span class="token class-name">F</span></code> means on functions. <br>
<code class="language-rust"><span class="token class-name">S</span></code> means on static. <br>
<code class="language-rust"><span class="token class-name">T</span></code> means on types. <br>
<code class="language-rust"><span class="token class-name">X</span></code> means something special. <br>
<code class="language-rust"><span class="token operator">!</span></code> means on macros. <br>
<code class="language-rust"><span class="token operator">*</span></code> means on almost any item. <br></p>
</footnotes>
<hr>
<h1 id="working-with-types">Working with Types<sup id="target-working-with-types" class="target"><a href="#working-with-types">url</a></sup></h1>
<h2 id="types-traits-generics">Types, Traits, Generics<sup id="target-types-traits-generics" class="target"><a href="#types-traits-generics">url</a></sup><feedback element-id="types-traits-generics" id="feedback-types-traits-generics">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-types-traits-generics', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-types-traits-generics');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-types-traits-generics', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-types-traits-generics');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-types-traits-generics', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-types-traits-generics', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-types-traits-generics');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Allowing users to <em>bring their own types</em> and avoid code duplication.</p>
<tabs>

<tab>
<input type="radio" id="tab-types-1" name="tab-group-types" checked="">
<label for="tab-types-1"><b>Types &amp; Traits</b></label>
<panel><div>

<generics-section id="ttg-types">
<header>Types</header>
<description>
<mini-zoo class="zoo">
    <entry>
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></type>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">String</span></code></type>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Device</span></code></type>
    </entry>
</mini-zoo>
<ul>
<li>Set of values with given semantics, layout, …</li>
</ul>
<mini-table>
<table><thead><tr><th>Type</th><th>Values</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token punctuation">{</span> <span class="token number">0<sub>u8</sub></span><span class="token punctuation">,</span> <span class="token number">1<sub>u8</sub></span><span class="token punctuation">,</span> …<span class="token punctuation">,</span> <span class="token number">255<sub>u8</sub></span> <span class="token punctuation">}</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-char">char</span></code></td><td><code class="language-rust"><span class="token punctuation">{</span> <span class="token char">'a'</span><span class="token punctuation">,</span> <span class="token char">'b'</span><span class="token punctuation">,</span> … '🦀' <span class="token punctuation">}</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token punctuation">(</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">,</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token number">0<sub>u8</sub></span><span class="token punctuation">,</span> <span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> … <span class="token punctuation">(</span><span class="token number">255<sub>u8</sub></span><span class="token punctuation">,</span> '🦀'<span class="token punctuation">)</span> <span class="token punctuation">}</span></code></td></tr>
</tbody></table>
<p><subtitle>Sample types and sample values.</subtitle></p>
</mini-table>
</description>
</generics-section>

<generics-section id="ttg-equivalence">
<header>Type Equivalence and Conversions</header>
<description>
<mini-zoo class="zoo">
    <entry>
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></type>
    </entry>
    <entry>
        <type class="primitive"><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span></code></type>
    </entry>
    <entry>
        <type class="primitive"><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-u8">u8</span></code></type>
    </entry>
    <entry>
        <type class="primitive"><code class="language-rust"><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">;</span> <span class="token number">1</span><span class="token punctuation">]</span></code></type>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">String</span></code></type>
    </entry>
</mini-zoo>

<ul>
<li>It may be obvious but &nbsp; <code class="language-rust"><span class="token keyword keyword-u8">u8</span></code>, &nbsp;&nbsp; <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span></code>, &nbsp;&nbsp; <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-u8">u8</span></code>, are entirely different from each other</li>
<li>Any <code class="language-rust">t<span class="token punctuation">:</span> <span class="token class-name">T</span></code> only accepts values from exactly <code class="language-rust"><span class="token class-name">T</span></code>, e.g.,
<ul>
<li><code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">0_u8</span><span class="token punctuation">)</span></code> can't be called with <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token number">0_u8</span><span class="token punctuation">)</span></code>,</li>
<li><code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> my_u8<span class="token punctuation">)</span></code> can't be called with <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>my_u8<span class="token punctuation">)</span></code>,</li>
<li><code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">0_u8</span><span class="token punctuation">)</span></code> can't be called with <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">0_i8</span><span class="token punctuation">)</span></code>.</li>
</ul>
</li>
</ul>
<blockquote>
<p>Yes, <code class="language-rust"><span class="token number">0</span> <span class="token operator">!=</span> <span class="token number">0</span></code> (in a mathematical sense) when it comes to types! In a language sense, the operation  <code class="language-rust"><span class="token operator">==</span><span class="token punctuation">(</span><span class="token number">0<sub>u8</sub></span><span class="token punctuation">,</span> <span class="token number">0<sub>u16</sub></span><span class="token punctuation">)</span></code> just isn't defined to prevent happy little accidents.</p>
</blockquote>
<mini-table>
<table><thead><tr><th>Type</th><th>Values</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token punctuation">{</span> <span class="token number">0<sub>u8</sub></span><span class="token punctuation">,</span> <span class="token number">1<sub>u8</sub></span><span class="token punctuation">,</span> …<span class="token punctuation">,</span> <span class="token number">255<sub>u8</sub></span> <span class="token punctuation">}</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td><td><code class="language-rust"><span class="token punctuation">{</span> <span class="token number">0<sub>u16</sub></span><span class="token punctuation">,</span> <span class="token number">1<sub>u16</sub></span><span class="token punctuation">,</span> …<span class="token punctuation">,</span> <span class="token number">65_535<sub>u16</sub></span> <span class="token punctuation">}</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token punctuation">{</span> <span class="token number">0xffaa</span><span class="token operator"></span><sub><span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span></sub><span class="token keyword keyword-u8"></span><span class="token punctuation">,</span> <span class="token number">0xffbb</span><span class="token operator"></span><sub><span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span></sub><span class="token keyword keyword-u8"></span><span class="token punctuation">,</span> … <span class="token punctuation">}</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token punctuation">{</span> <span class="token number">0xffaa</span><span class="token operator"></span><sub><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-u8">u8</span></sub><span class="token keyword keyword-u8"></span><span class="token punctuation">,</span> <span class="token number">0xffbb</span><span class="token operator"></span><sub><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-u8">u8</span></sub><span class="token keyword keyword-u8"></span><span class="token punctuation">,</span> … <span class="token punctuation">}</span></code></td></tr>
</tbody></table>
<p><subtitle>How values differ between types.</subtitle></p>
</mini-table>
<ul>
<li>However, Rust might sometimes help to <strong>convert between types</strong><sup>1</sup>
<ul>
<li><strong>casts</strong> manually convert values of types, <code class="language-rust"><span class="token number">0_i8</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u8">u8</span></code></li>
<li><strong>coercions</strong>  <a href="#language-sugar" title="On this site, above."><sup>↑</sup></a> automatically convert types if safe<sup>2</sup>, <code class="language-rust"><span class="token keyword keyword-let">let</span> x<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span> <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token number">0_u8</span><span class="token punctuation">;</span></code></li>
</ul>
</li>
</ul>
<footnotes>
<p><sup>1</sup> Casts and coercions convert values from one set (e.g., <code class="language-rust"><span class="token keyword keyword-u8">u8</span></code>) to another (e.g., <code class="language-rust"><span class="token keyword keyword-u16">u16</span></code>), possibly adding CPU instructions to do so; and in such differ from <strong>subtyping</strong>, which would imply type and subtype are part of the same set (e.g., <code class="language-rust"><span class="token keyword keyword-u8">u8</span></code> being subtype of <code class="language-rust"><span class="token keyword keyword-u16">u16</span></code> and <code class="language-rust"><span class="token number">0_u8</span></code> being the same as <code class="language-rust"><span class="token number">0_u16</span></code>) where such a conversion would be purely a compile time check. Rust does not use subtyping for regular types (and <code class="language-rust"><span class="token number">0_u8</span></code> <em>does</em> differ from <code class="language-rust"><span class="token number">0_u16</span></code>) but sort-of for lifetimes. <a href="https://featherweightmusings.blogspot.com/2014/03/subtyping-and-coercion-in-rust.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></p>
<p><sup>2</sup> Safety here is not just physical concept (e.g., <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span></code> can't be coerced to <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-u128">u128</span></code>), but also whether 'history has shown that such a conversion would lead to programming errors'.</p>
</footnotes>
</description>
</generics-section>

<generics-section id="ttg-impl-s">
<header>Implementations — <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></code></header>
<description>
<mini-zoo class="zoo">
    <entry>
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></type>
        <impl><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></impl>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">String</span></code></type>
        <impl><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></impl>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Port</span></code></type>
        <impl><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></impl>
    </entry>
</mini-zoo>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Port</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>Types usually come with <strong>inherent implementations</strong>, <a href="https://doc.rust-lang.org/reference/items/implementations.html#inherent-implementations" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> e.g., <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Port</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>, behavior <em>related</em> to type:
<ul>
<li><strong>associated functions</strong> <code class="language-rust"><span class="token class-name">Port</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span></code></li>
<li><strong>methods</strong> <code class="language-rust">port<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></li>
</ul>
</li>
</ul>
<blockquote>
<p>What's considered <em>related</em> is more philosophical than technical, nothing (except good taste) would prevent a <code class="language-rust"><span class="token keyword keyword-u8">u8</span><span class="token punctuation">::</span><span class="token function">play_sound</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> from happening.</p>
</blockquote>
</description>
</generics-section>

<generics-section id="ttg-traits">
<header>Traits — <code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">T</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></code></header>
<description>
<mini-zoo class="zoo">
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Copy</span></code></trait-impl>
    </entry>
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Clone</span></code></trait-impl>
    </entry>
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Sized</span></code></trait-impl>
    </entry>
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">ShowHex</span></code></trait-impl>
    </entry>
</mini-zoo>
<ul>
<li><strong>Traits</strong> …
<ul>
<li>are way to "abstract" behavior,</li>
<li>trait author declares semantically <em>this trait means X</em>,</li>
<li>other can implement ("subscribe to") that behavior for their type.</li>
</ul>
</li>
<li>Think about trait as "membership list" for types:</li>
</ul>
<mini-table>
<mini-table style="width:200px;display:inline-block">
<table>
    <thead>
        <tr><th>Copy Trait</th></tr>
        <tr class="subheader"><th><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td></tr>
        <tr><td><code class="language-rust">…</code></td></tr>
    </tbody>
</table>
</mini-table>
<mini-table style="width:200px;display:inline-block">
<table>
    <thead>
        <tr><th>Clone Trait</th></tr>
        <tr class="subheader"><th><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token class-name">String</span></code></td></tr>
        <tr><td><code class="language-rust">…</code></td></tr>
    </tbody>
</table>
</mini-table>
<mini-table style="width:200px;display:inline-block">
<table>
    <thead>
        <tr><th>Sized Trait</th></tr>
        <tr class="subheader"><th><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token keyword keyword-char">char</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token class-name">Port</span></code></td></tr>
        <tr><td><code class="language-rust">…</code></td></tr>
    </tbody>
</table>
</mini-table>
<p><subtitle>Traits as membership tables, <code class="language-rust"><span class="token keyword keyword-Self">Self</span></code> refers to the type included.</subtitle></p>
</mini-table>
<ul>
<li><strong>Whoever is part of that membership list will adhere to behavior of list.</strong></li>
<li>Traits can also include associated methods, functions, …</li>
</ul>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">ShowHex</span> <span class="token punctuation">{</span>
    <span class="token comment">// Must be implemented according to documentation.</span>
    <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">as_hex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">String</span><span class="token punctuation">;</span>

    <span class="token comment">// Provided by trait author.</span>
    <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">print_hex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<mini-zoo class="zoo">
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Copy</span></code></trait-impl>
    </entry>
</mini-zoo>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">Copy</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre>
<ul>
<li>Traits without methods often called <strong>marker traits</strong>.</li>
<li><code class="language-rust"><span class="token class-name">Copy</span></code> is example marker trait, meaning <em>memory may be copied bitwise</em>.</li>
</ul>
<mini-zoo class="zoo">
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Sized</span></code></trait-impl>
    </entry>
</mini-zoo>
<ul>
<li>Some traits entirely outside explicit control</li>
<li><code class="language-rust"><span class="token class-name">Sized</span></code> provided by compiler for types with <em>known size</em>; either this is, or isn't</li>
</ul>
</description>
</generics-section>

<generics-section>
<header>Implementing Traits for Types — <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></code></header>
<description>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">ShowHex</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Port</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>
</code></pre>
<ul>
<li>Traits are implemented for types 'at some point'.</li>
<li>Implementation <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">A</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">B</span></code> add type <code class="language-rust"><span class="token class-name">B</span></code> to the trait membership list:</li>
</ul>
<mini-table>
<mini-table style="width:200px;display:inline-block">
<table>
    <thead>
        <tr><th>ShowHex Trait</th></tr>
        <tr class="subheader"><th><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token class-name">Port</span></code></td></tr>
    </tbody>
</table>
</mini-table>
</mini-table>
<ul>
<li>Visually, you can think of the type getting a "badge" for its membership:</li>
</ul>
<mini-zoo class="zoo">
    <entry>
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></type>
        <impl><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Sized</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Clone</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Copy</span></code></trait-impl>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Device</span></code></type>
        <impl><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Transport</span></code></trait-impl>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Port</span></code></type>
        <impl><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Sized</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Clone</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">ShowHex</span></code></trait-impl>
    </entry>
</mini-zoo>
</description>
</generics-section>

<generics-section>
<header>Traits vs. Interfaces</header>
<description>
<mini-zoo class="zoo">
    <person>👩‍🦰</person>
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Eat</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-left:10px">
    <person>🧔</person>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Venison</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Eat</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-left:10px;width:130px">
    <person></person>
    <entry>
        <code style="text-align:center;width:100%" class="language-rust"></code>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-left:10px">
    <person>🎅</person>
    <entry>
        <code class="language-rust">venison<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
    </entry>
</mini-zoo>
<div>&nbsp;</div>
<p><strong>Interfaces</strong></p>
<ul>
<li>In <strong>Java</strong>, Alice creates interface <code class="language-rust"><span class="token class-name">Eat</span></code>.</li>
<li>When Bob authors <code class="language-rust"><span class="token class-name">Venison</span></code>, he must decide if <code class="language-rust"><span class="token class-name">Venison</span></code> implements <code class="language-rust"><span class="token class-name">Eat</span></code> or not.</li>
<li>In other words, all membership must be exhaustively declared during type definition.</li>
<li>When using <code class="language-rust"><span class="token class-name">Venison</span></code>, Santa can make use of behavior provided by <code class="language-rust"><span class="token class-name">Eat</span></code>:</li>
</ul>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// Santa imports `Venison` to create it, can `eat()` if he wants.</span>
import food<span class="token punctuation">.</span><span class="token class-name">Venison</span><span class="token punctuation">;</span>

new <span class="token class-name">Venison</span><span class="token punctuation">(</span><span class="token string">"rudolph"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p></p><div>&nbsp;</div>
<div>&nbsp;</div><p></p>
<mini-zoo class="zoo">
    <person>👩‍🦰</person>
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Eat</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-left:10px">
    <person>🧔</person>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Venison</span></code></type>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-left:10px">
    <person>👩‍🦰</person> / <person>🧔</person>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Venison</span></code></type>
        <code style="text-align:center;width:100%" class="language-rust"><span class="token operator">+</span></code>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Eat</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-left:10px">
    <person>🎅</person>
    <entry>
        <code class="language-rust">venison<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
    </entry>
</mini-zoo>
<div>&nbsp;</div>
<p><strong>Traits</strong></p>
<ul>
<li>In <strong>Rust</strong>, Alice creates trait <code class="language-rust"><span class="token class-name">Eat</span></code>.</li>
<li>Bob creates type <code class="language-rust"><span class="token class-name">Venison</span></code> and decides not to implement <code class="language-rust"><span class="token class-name">Eat</span></code> (he might not even know about <code class="language-rust"><span class="token class-name">Eat</span></code>).</li>
<li>Someone<sup>*</sup> later decides adding <code class="language-rust"><span class="token class-name">Eat</span></code> to <code class="language-rust"><span class="token class-name">Venison</span></code> would be a really good idea.</li>
<li>When using <code class="language-rust"><span class="token class-name">Venison</span></code> Santa must import <code class="language-rust"><span class="token class-name">Eat</span></code> separately:</li>
</ul>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// Santa needs to import `Venison` to create it, and import `Eat` for trait method.</span>
<span class="token keyword keyword-use">use</span> <span class="token namespace">food<span class="token punctuation">::</span></span><span class="token class-name">Venison</span><span class="token punctuation">;</span>
<span class="token keyword keyword-use">use</span> <span class="token namespace">tasks<span class="token punctuation">::</span></span><span class="token class-name">Eat</span><span class="token punctuation">;</span>

<span class="token comment">// Ho ho ho</span>
<span class="token class-name">Venison</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">"rudolph"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<footnotes>
<p><sup>*</sup> To prevent two persons from implementing <code class="language-rust"><span class="token class-name">Eat</span></code> differently Rust limits that choice to either Alice or Bob; that is, an <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Eat</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Venison</span></code> may only happen in the crate of <code class="language-rust"><span class="token class-name">Venison</span></code> or in the crate of <code class="language-rust"><span class="token class-name">Eat</span></code>. For details see coherence. <a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a></p>
</footnotes>
</description>
</generics-section>
</div></panel></tab>

<tab>
<input type="radio" id="tab-types-2" name="tab-group-types">
<label for="tab-types-2"><b>Generics</b></label>
<panel><div>

<generics-section>
<header>Type Constructors — <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span></code></header>
<description>
<mini-zoo class="zoo">
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token operator">&gt;</span></code></type>
    </entry>
</mini-zoo>
<ul>
<li><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code> is type "vector of bytes"; <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token operator">&gt;</span></code> is type "vector of chars", but what is <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span></code>?</li>
</ul>
<mini-table>
<table><thead><tr><th>Construct</th><th>Values</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></td><td><code class="language-rust"><span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> … <span class="token punctuation">}</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token operator">&gt;</span></code></td><td><code class="language-rust"><span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token char">'x'</span><span class="token punctuation">,</span> <span class="token char">'y'</span><span class="token punctuation">,</span> <span class="token char">'z'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> … <span class="token punctuation">}</span></code></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span></code></td><td>-</td></tr>
</tbody></table>
<p><subtitle>Types vs type constructors.</subtitle></p>
</mini-table>
<mini-zoo class="zoo">
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span></code></type>
    </entry>
</mini-zoo>
<ul>
<li><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span></code> is no type, does not occupy memory, can't even be translated to code.</li>
<li><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span></code> is <strong>type constructor</strong>, a "template" or "recipe to create types"
<ul>
<li>allows 3<sup>rd</sup> party to construct concrete type via parameter,</li>
<li>only then would this <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">UserType</span><span class="token operator">&gt;</span></code> become real type itself.</li>
</ul>
</li>
</ul>
</description>
</generics-section>

<generics-section>
<header>Generic Parameters — <code class="language-rust"><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></header>
<description>
<mini-zoo class="zoo">
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">;</span> <span class="token number">128</span><span class="token punctuation">]</span></code></type>
    </entry>
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">T</span></code></type>
    </entry>
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span></code></type>
    </entry>
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
    </entry>
</mini-zoo>
<ul>
<li>Parameter for <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span></code> often named <code class="language-rust"><span class="token class-name">T</span></code> therefore <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code>.</li>
<li><code class="language-rust"><span class="token class-name">T</span></code> "variable name for type" for user to plug in something specific, <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-f32">f32</span><span class="token operator">&gt;</span></code>, <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code>, …</li>
</ul>
<mini-table>
<table><thead><tr><th>Type Constructor</th><th>Produces Family</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code>, <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-f32">f32</span><span class="token operator">&gt;</span></code>, <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;&gt;</span></code>, …</td></tr>
<tr><td><code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">;</span> <span class="token number">128</span><span class="token punctuation">]</span></code></td><td><code class="language-rust"><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">;</span> <span class="token number">128</span><span class="token punctuation">]</span></code>, <code class="language-rust"><span class="token punctuation">[</span><span class="token keyword keyword-char">char</span><span class="token punctuation">;</span> <span class="token number">128</span><span class="token punctuation">]</span></code>, <code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">Port</span><span class="token punctuation">;</span> <span class="token number">128</span><span class="token punctuation">]</span></code> …</td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">T</span></code></td><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span></code>, <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-u16">u16</span></code>, <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span></code>,  …</td></tr>
</tbody></table>
<p><subtitle>Type vs type constructors.</subtitle></p>
</mini-table>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// S&lt;&gt; is type constructor with parameter T; user can supply any concrete type for T.</span>
<span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> <span class="token class-name">T</span>
<span class="token punctuation">}</span>

<span class="token comment">// Within 'concrete' code an existing type must be given for T.</span>
<span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-let">let</span> x<span class="token punctuation">:</span> <span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-f32">f32</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token number">0_f32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
</description>
</generics-section>

<generics-section>
<header>Const Generics — <code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">;</span> <span class="token class-name">N</span><span class="token punctuation">]</span></code> and <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-const">const</span> <span class="token class-name">N</span><span class="token punctuation">:</span> <span class="token keyword keyword-usize">usize</span><span class="token operator">&gt;</span></code></header>
<description>
<mini-zoo class="zoo">
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">;</span> n<span class="token punctuation">]</span></code></type>
    </entry>
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-const">const</span> <span class="token class-name">N</span><span class="token operator">&gt;</span></code></type>
    </entry>
</mini-zoo>
<ul>
<li>Some type constructors not only accept specific type, but also <strong>specific constant</strong>.</li>
<li><code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">;</span> n<span class="token punctuation">]</span></code> constructs array type holding <code class="language-rust"><span class="token class-name">T</span></code> type <code class="language-rust">n</code> times.</li>
<li>For custom types declared as <code class="language-rust"><span class="token class-name">MyArray</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token class-name">N</span><span class="token punctuation">:</span> <span class="token keyword keyword-usize">usize</span><span class="token operator">&gt;</span></code>.</li>
</ul>
<mini-table>
<table><thead><tr><th>Type Constructor</th><th>Produces Family</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">;</span> <span class="token class-name">N</span><span class="token punctuation">]</span></code></td><td><code class="language-rust"><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">]</span></code>, <code class="language-rust"><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">;</span> <span class="token number">1</span><span class="token punctuation">]</span></code>, <code class="language-rust"><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">]</span></code>, …</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-const">const</span> <span class="token class-name">N</span><span class="token punctuation">:</span> <span class="token keyword keyword-usize">usize</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">&gt;</span></code>, <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token number">6</span><span class="token operator">&gt;</span></code>, <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token number">123</span><span class="token operator">&gt;</span></code>,  …</td></tr>
</tbody></table>
<p><subtitle>Type constructors based on constant.</subtitle></p>
</mini-table>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-let">let</span> x<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">;</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// "array of 4 bytes"</span>
<span class="token keyword keyword-let">let</span> y<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token keyword keyword-f32">f32</span><span class="token punctuation">;</span> <span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// "array of 16 floats"</span>

<span class="token comment">// `MyArray` is type constructor requiring concrete type `T` and</span>
<span class="token comment">// concrete usize `N` to construct specific type.</span>
<span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">MyArray</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token class-name">N</span><span class="token punctuation">:</span> <span class="token keyword keyword-usize">usize</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">;</span> <span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
</description>
</generics-section>



<generics-section>
<header>Bounds (Simple) — <code class="language-rust"><span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">X</span></code></header>
<description>
<mini-zoo class="zoo">
    <person>🧔</person>
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">Num</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <narrow-entry>
        <code style="text-align:center;width:100%" class="language-rust">→</code>
    </narrow-entry>
    <person>🎅</person>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Num</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Num</span><span class="token operator">&lt;</span><span class="token keyword keyword-f32">f32</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Num</span><span class="token operator">&lt;</span><span class="token class-name">Cmplx</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <narrow-entry>
        <code style="text-align:center;width:50px" class="language-rust"> </code>
    </narrow-entry>
    <entry>
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Absolute</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Dim</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Mul</span></code></trait-impl>
    </entry>
    <entry class="grayed">
        <type class="composed"><code class="language-rust"><span class="token class-name">Port</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Clone</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">ShowHex</span></code></trait-impl>
    </entry>
</mini-zoo>
<ul>
<li>If <code class="language-rust"><span class="token class-name">T</span></code> can be any type, how can we <em>reason</em> about (write code) for such a <code class="language-rust"><span class="token class-name">Num</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code>?</li>
<li>Parameter <strong>bounds</strong>:
<ul>
<li>limit what types (<strong>trait bound</strong>) or values (<strong>const bound</strong> <a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a>) allowed,</li>
<li>we now can make use of these limits!</li>
</ul>
</li>
<li>Trait bounds act as "membership check":</li>
</ul>
<mini-table>
<div style="display:inline-block">
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// Type can only be constructed for some `T` if that</span>
<span class="token comment">// T is part of `Absolute` membership list.</span>
<span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">Num</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Absolute</span> <span class="token punctuation">{</span>
    …
<span class="token punctuation">}</span>

</code></pre>
</div>
<mini-table style="width:200px;display:inline-block">
<table>
    <thead>
        <tr><th>Absolute Trait</th></tr>
        <tr class="subheader"><th><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td></tr>
        <tr><td><code class="language-rust">…</code></td></tr>
    </tbody>
</table>
</mini-table>
</mini-table>

<footnotes>
<p>We add bounds to the struct here. In practice it's nicer add bounds to the respective impl blocks instead, see later this section.</p>
</footnotes>

</description>
</generics-section>

<generics-section>
<header>Bounds (Compound) — <code class="language-rust"><span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">X</span> <span class="token operator">+</span> <span class="token class-name">Y</span></code></header>
<description>
<mini-zoo class="zoo">
    <entry class="grayed">
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Absolute</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Dim</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Mul</span></code></trait-impl>
    </entry>
    <entry class="grayed">
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-f32">f32</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Absolute</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Mul</span></code></trait-impl>
    </entry>
    <entry class="grayed">
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-char">char</span></code></type>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Cmplx</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Absolute</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Dim</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Mul</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">DirName</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">TwoD</span></code></trait-impl>
    </entry>
    <entry class="grayed">
        <type class="composed"><code class="language-rust"><span class="token class-name">Car</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">DirName</span></code></trait-impl>
    </entry>
</mini-zoo>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-where">where</span>
    <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Absolute</span> <span class="token operator">+</span> <span class="token class-name">Dim</span> <span class="token operator">+</span> <span class="token class-name">Mul</span> <span class="token operator">+</span> <span class="token class-name">DirName</span> <span class="token operator">+</span> <span class="token class-name">TwoD</span>
<span class="token punctuation">{</span> … <span class="token punctuation">}</span>
</code></pre>
<ul>
<li>Long trait bounds can look intimidating.</li>
<li>In practice, each <code class="language-rust"><span class="token operator">+</span> <span class="token class-name">X</span></code> addition to a bound merely cuts down space of eligible types.</li>
</ul>
</description>
</generics-section>

<generics-section>
<header>Implementing Families — <code class="language-rust"><span class="token keyword keyword-impl">impl</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span></code></header>
<description>
<div>&nbsp;</div>
<p>When we write:</p>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-impl">impl</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Absolute</span> <span class="token operator">+</span> <span class="token class-name">Dim</span> <span class="token operator">+</span> <span class="token class-name">Mul</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-self">self</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>It can be read as:</p>
<ul>
<li>here is an implementation recipe for any type <code class="language-rust"><span class="token class-name">T</span></code> (the <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> part),</li>
<li>where that type must be member of the <code class="language-rust"><span class="token class-name">Absolute</span> <span class="token operator">+</span> <span class="token class-name">Dim</span> <span class="token operator">+</span> <span class="token class-name">Mul</span></code> traits,</li>
<li>you may add an implementation block to the type family <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span></code>,</li>
<li>containing the methods …</li>
</ul>
<p>You can think of such <code class="language-rust"><span class="token keyword keyword-impl">impl</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> … <span class="token punctuation">{</span><span class="token punctuation">}</span> </code> code as <strong>abstractly implementing a family of behaviors</strong>. <a href="https://doc.rust-lang.org/reference/items/implementations.html#generic-implementations" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> Most notably, they allow 3<sup>rd</sup> parties to transparently materialize implementations similarly to how type constructors materialize types:</p>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// If compiler encounters this, it will</span>
<span class="token comment">// - check `0` and `x` fulfill the membership requirements of `T`</span>
<span class="token comment">// - create two new version of `f`, one for `char`, another one for `u32`.</span>
<span class="token comment">// - based on "family implementation" provided</span>
s<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">0_u32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token char">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</description>
</generics-section>

<generics-section>
<header>Blanket Implementations — <code class="language-rust"><span class="token keyword keyword-impl">impl</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token class-name">X</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">T</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></header>
<description>
<div>&nbsp;</div>
<p>Can also write "family implementations" so they apply trait to many types:</p>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// Also implements Serialize for any type if that type already implements ToHex</span>
<span class="token keyword keyword-impl">impl</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token class-name">Serialize</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">T</span> <span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">ToHex</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>
</code></pre>
<p>These are called <strong>blanket implementations</strong>.</p>
<mini-table>
<mini-table style="width:200px;display:inline-block">
<table>
    <thead>
        <tr><th>ToHex</th></tr>
        <tr class="subheader"><th><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token class-name">Port</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token class-name">Device</span></code></td></tr>
        <tr><td><code class="language-rust">…</code></td></tr>
    </tbody>
</table>
</mini-table>
<div style="display:inline-block;width:100px">
<p>→  Whatever was in left table, may be added to right table, based on the following recipe (<code class="language-rust"><span class="token keyword keyword-impl">impl</span></code>) →</p>
</div>
<mini-table style="width:200px;display:inline-block">
<table>
    <thead>
        <tr><th>Serialize Trait</th></tr>
        <tr class="subheader"><th><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token class-name">Port</span></code></td></tr>
        <tr><td><code class="language-rust">…</code></td></tr>
    </tbody>
</table>
</mini-table>
</mini-table>
<p>They can be neat way to give foreign types functionality in a modular way if they just implement another interface.</p>
</description>
</generics-section>
</div></panel></tab>

<tab>
<input type="radio" id="tab-types-3" name="tab-group-types">
<label for="tab-types-3"><b>Advanced Concepts</b><a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></label>
<panel><div>



<generics-section>
<header>Trait Parameters — <code class="language-rust"><span class="token class-name">Trait</span><span class="token operator">&lt;</span><span class="token class-name">In</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">Out</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> </code></header>
<description>
<div>&nbsp;</div>
<p>Notice how some traits can be "attached" multiple times, but others just once?</p>
<mini-zoo class="zoo">
    <entry style="left:300px;top:25px">
        <type class="composed"><code class="language-rust"><span class="token class-name">Port</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token keyword keyword-u16">u16</span><span class="token operator">&gt;</span></code></trait-impl>
    </entry>
    <entry style="left:400px;top:25px">
        <type class="composed"><code class="language-rust"><span class="token class-name">Port</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Deref</span></code></trait-impl>
        <associated-type class="grayed"><code class="language-rust"><span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">u8</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>

<br>
<div>&nbsp;</div>
<p>Why is that?</p>
<ul>
<li>Traits themselves can be generic over two <strong>kinds of parameters</strong>:
<ul>
<li><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">From</span><span class="token operator">&lt;</span><span class="token class-name">I</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></li>
<li><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">Deref</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></li>
</ul>
</li>
<li>Remember we said traits are "membership lists" for types and called the list <code class="language-rust"><span class="token keyword keyword-Self">Self</span></code>?</li>
<li>Turns out, parameters <code class="language-rust"><span class="token class-name">I</span></code> (for <strong>input</strong>) and <code class="language-rust"><span class="token class-name">O</span></code> (for <strong>output</strong>) are just more <em>columns</em> to that trait's list:</li>
</ul>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token keyword keyword-u16">u16</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword keyword-impl">impl</span> <span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token keyword keyword-u16">u16</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token keyword keyword-u32">u32</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword keyword-impl">impl</span> <span class="token class-name">Deref</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Port</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span> <span class="token operator">=</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-impl">impl</span> <span class="token class-name">Deref</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">String</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span> <span class="token operator">=</span> <span class="token keyword keyword-str">str</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre>
<mini-table>
<mini-table style="width:200px;display:inline-block">
<table>
    <thead>
        <tr><th colspan="2">From</th></tr>
        <tr class="subheader"><th><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code></th><th><code class="language-rust"><span class="token class-name">I</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token keyword keyword-u32">u32</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td></tr>
        <tr><td colspan="2"><code class="language-rust">…</code></td></tr>
    </tbody>
</table>
</mini-table>
<mini-table style="width:200px;display:inline-block">
<table>
    <thead>
        <tr><th colspan="2">Deref</th></tr>
        <tr class="subheader"><th><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code></th><th><code class="language-rust"><span class="token class-name">O</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token class-name">Port</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust"><span class="token keyword keyword-str">str</span></code></td></tr>
        <tr><td colspan="2"><code class="language-rust">…</code></td></tr>
    </tbody>
</table>
</mini-table>
<p><subtitle>Input and output parameters.</subtitle></p>
</mini-table>
<p>Now here's the twist,</p>
<ul>
<li><strong>any output <code class="language-rust"><span class="token class-name">O</span></code> parameters must be uniquely determined by input parameters <code class="language-rust"><span class="token class-name">I</span></code></strong>,</li>
<li>(in the same way as a relation <code class="language-rust"><span class="token class-name">X</span> <span class="token class-name">Y</span></code> would represent a function),</li>
<li><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code> counts as an input.</li>
</ul>
<p>A more complex example:</p>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">Complex</span><span class="token operator">&lt;</span><span class="token constant">I1</span><span class="token punctuation">,</span> <span class="token constant">I2</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O1</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>this creates a relation of types named <code class="language-rust"><span class="token class-name">Complex</span></code>,</li>
<li>with 3 inputs (<code class="language-rust"><span class="token keyword keyword-Self">Self</span></code> is always one) and 2 outputs, and it holds <code class="language-rust"><span class="token punctuation">(</span><span class="token keyword keyword-Self">Self</span><span class="token punctuation">,</span> <span class="token constant">I1</span><span class="token punctuation">,</span> <span class="token constant">I2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token constant">O1</span><span class="token punctuation">,</span> <span class="token constant">O2</span><span class="token punctuation">)</span></code></li>
</ul>
<mini-table>
<table>
    <thead>
        <tr><th colspan="5">Complex</th></tr>
        <tr class="subheader"><th><code class="language-rust"><span class="token keyword keyword-Self">Self</span> <span class="token punctuation">[</span><span class="token class-name">I</span><span class="token punctuation">]</span></code></th><th><code class="language-rust"><span class="token constant">I1</span></code></th><th><code class="language-rust"><span class="token constant">I2</span></code></th><th><code class="language-rust"><span class="token constant">O1</span></code></th><th><code class="language-rust"><span class="token constant">O2</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token class-name">Player</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token keyword keyword-char">char</span></code></td><td><code class="language-rust"><span class="token keyword keyword-f32">f32</span></code></td><td><code class="language-rust"><span class="token keyword keyword-f32">f32</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token class-name">EvilMonster</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td><td><code class="language-rust"><span class="token keyword keyword-str">str</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token class-name">EvilMonster</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token class-name">NiceMonster</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token class-name">NiceMonster</span></code><sup><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a></sup></td><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td><td><code class="language-rust"><span class="token class-name">String</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td></tr>
    </tbody>
</table>
<p><subtitle>Various trait implementations. The last one is not valid as <code class="language-rust"><span class="token punctuation">(</span><span class="token class-name">NiceMonster</span><span class="token punctuation">,</span> <span class="token keyword keyword-u16">u16</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">)</span></code> has <br> already uniquely determined the outputs.</subtitle></p>
</mini-table>
</description>
</generics-section>

<generics-section>
<header>Trait Authoring Considerations (Abstract)</header>
<description>
<mini-zoo class="zoo">
    <person>👩‍🦰</person>
    <entry>
        <trait-impl class="dotted">⌾ <code class="language-rust"><span class="token class-name">A</span><span class="token operator">&lt;</span><span class="token class-name">I</span><span class="token operator">&gt;</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-left:10px">
    <person>🧔</person>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Car</span></code></type>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-left:10px">
    <person>👩‍🦰</person> / <person>🧔</person>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Car</span></code></type>
        <trait-impl class="dotted">⌾ <code class="language-rust"><span class="token class-name">A</span><span class="token operator">&lt;</span><span class="token class-name">I</span><span class="token operator">&gt;</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-left:10px">
    <person>🎅</person>
    <entry>
        <code class="language-rust">car<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token number">0_u8</span><span class="token punctuation">)</span></code>
        <code class="language-rust">car<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token number">0_f32</span><span class="token punctuation">)</span></code>
    </entry>
</mini-zoo>
<br>
<mini-zoo class="zoo">
    <person>👩‍🦰</person>
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">B</span></code></trait-impl>
        <associated-type><code class="language-rust"><span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-left:10px">
    <person>🧔</person>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Car</span></code></type>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-left:10px">
    <person>👩‍🦰</person> / <person>🧔</person>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Car</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">B</span></code></trait-impl>
        <associated-type><code class="language-rust"><span class="token class-name">T</span> <span class="token operator">=</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>
<mini-zoo class="zoo" style="margin-left:10px">
    <person>🎅</person>
    <entry>
        <code class="language-rust">car<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token number">0_u8</span><span class="token punctuation">)</span></code>
        <code style="text-decoration:line-through" class="language-rust">car<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token number">0_f32</span><span class="token punctuation">)</span></code>
    </entry>
</mini-zoo>
<ul>
<li>Parameter choice (input vs. output) also determines who may be allowed to add members:
<ul>
<li><code class="language-rust"><span class="token class-name">I</span></code> parameters allow "familes of implementations" be forwarded to user (Santa),</li>
<li><code class="language-rust"><span class="token class-name">O</span></code> parameters must be determined by trait implementor (Alice or Bob).</li>
</ul>
</li>
</ul>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">A</span><span class="token operator">&lt;</span><span class="token class-name">I</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">B</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token comment">// Implementor adds (X, u32) to A.</span>
<span class="token keyword keyword-impl">impl</span> <span class="token class-name">A</span><span class="token operator">&lt;</span><span class="token keyword keyword-u32">u32</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">X</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

<span class="token comment">// Implementor adds family impl. (X, …) to A, user can materialze.</span>
<span class="token keyword keyword-impl">impl</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token class-name">A</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Y</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

<span class="token comment">// Implementor must decide specific entry (X, O) added to B.</span>
<span class="token keyword keyword-impl">impl</span> <span class="token class-name">B</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">X</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span> <span class="token operator">=</span> <span class="token keyword keyword-u32">u32</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre>
<mini-table>
<mini-table style="width:200px;display:inline-block">
<table>
    <thead>
        <tr><th colspan="2">A</th></tr>
        <tr class="subheader"><th><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code></th><th><code class="language-rust"><span class="token class-name">I</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token class-name">X</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u32">u32</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token class-name">Y</span></code></td><td><code class="language-rust">…</code></td></tr>
    </tbody>
</table>
<p><subtitle>Santa may add more members by providing his own type for <code class="language-rust"><span class="token class-name">T</span></code>.</subtitle></p>
</mini-table>
<mini-table style="width:200px;display:inline-block">
<table>
    <thead>
        <tr><th colspan="2">B</th></tr>
        <tr class="subheader"><th><code class="language-rust"><span class="token keyword keyword-Self">Self</span></code></th><th><code class="language-rust"><span class="token class-name">O</span></code></th></tr>
    </thead>
    <tbody>
        <tr><td><code class="language-rust"><span class="token class-name">Player</span></code></td><td><code class="language-rust"><span class="token class-name">String</span></code></td></tr>
        <tr><td><code class="language-rust"><span class="token class-name">X</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u32">u32</span></code></td></tr>
    </tbody>
</table>
<p><subtitle>For given set of inputs (here <code class="language-rust"><span class="token keyword keyword-Self">Self</span></code>), implementor must pre-select <code class="language-rust"><span class="token class-name">O</span></code>.</subtitle></p>
</mini-table>
</mini-table>
</description>
</generics-section>

<generics-section id="trait-authoring-examples">
<header>Trait Authoring Considerations (Example)</header>
<description>
<mini-zoo class="zoo">
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Query</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <narrow-entry>
        <code style="text-align:center;width:100%" class="language-rust">vs<span class="token punctuation">.</span></code>
    </narrow-entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry>
        <trait-impl class="dotted">⌾ <code class="language-rust"><span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">I</span><span class="token operator">&gt;</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <narrow-entry>
        <code style="text-align:center;width:100%" class="language-rust">vs<span class="token punctuation">.</span></code>
    </narrow-entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Query</span></code></trait-impl>
        <associated-type><code class="language-rust"><span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <narrow-entry>
        <code style="text-align:center;width:100%" class="language-rust">vs<span class="token punctuation">.</span></code>
    </narrow-entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry>
        <trait-impl class="dotted">⌾ <code class="language-rust"><span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">I</span><span class="token operator">&gt;</span></code></trait-impl>
        <associated-type><code class="language-rust"><span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>
<div>&nbsp;</div>
<p>Choice of parameters goes along with purpose trait has to fill.</p>
<hr>
<p><strong>No Additional Parameters</strong></p>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">Query</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">search</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-self">self</span><span class="token punctuation">,</span> needle<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-impl">impl</span> <span class="token class-name">Query</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">PostgreSQL</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>
<span class="token keyword keyword-impl">impl</span> <span class="token class-name">Query</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Sled</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>

postgres<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">"SELECT …"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<mini-zoo class="zoo">
    <person>👩‍🦰</person>
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Query</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <narrow-entry>
        <code style="text-align:center;width:100%" class="language-rust">→</code>
    </narrow-entry>
</mini-zoo>
<mini-zoo class="zoo">
    <person>🧔</person>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">PostgreSQL</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Query</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Sled</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Query</span></code></trait-impl>
    </entry>
</mini-zoo>
<div>&nbsp;</div>
<p>Trait author assumes:</p>
<ul>
<li>neither implementor nor user need to customize API.</li>
</ul>
<div>&nbsp;</div><hr>
<p><strong>Input Parameters</strong></p>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">I</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">search</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-self">self</span><span class="token punctuation">,</span> needle<span class="token punctuation">:</span> <span class="token class-name">I</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-impl">impl</span> <span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">PostgreSQL</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>
<span class="token keyword keyword-impl">impl</span> <span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">PostgreSQL</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>
<span class="token keyword keyword-impl">impl</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Sled</span> <span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">ToU8Slice</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>

postgres<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">"SELECT …"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
postgres<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sled<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<mini-zoo class="zoo">
    <person>👩‍🦰</person>
    <entry>
        <trait-impl class="dotted">⌾ <code class="language-rust"><span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">I</span><span class="token operator">&gt;</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <narrow-entry>
        <code style="text-align:center;width:100%" class="language-rust">→</code>
    </narrow-entry>
</mini-zoo>
<mini-zoo class="zoo">
    <person>🧔</person>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">PostgreSQL</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span><span class="token operator">&gt;</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token operator">&gt;</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Sled</span></code></type>
        <trait-impl class="dotted">⌾ <code class="language-rust"><span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></trait-impl>
        <note><span style="margin-left:10px;display:inline-block;transform:rotate(90deg);font-size:100%">↲</span> where <code class="language-rust"><span class="token class-name">T</span></code> is <code class="language-rust"><span class="token class-name">ToU8Slice</span></code>.</note>
    </entry>
</mini-zoo>
<div>&nbsp;</div>
<p>Trait author assumes:</p>
<ul>
<li>implementor would customize API in multiple ways for same <code class="language-rust"><span class="token keyword keyword-Self">Self</span></code> type,</li>
<li>users may want ability to decide for which <code class="language-rust"><span class="token class-name">I</span></code>-types behavior should be possible.</li>
</ul>
<div>&nbsp;</div><hr>
<p><strong>Output Parameters</strong></p>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">Query</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">search</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-self">self</span><span class="token punctuation">,</span> needle<span class="token punctuation">:</span> <span class="token keyword keyword-Self">Self</span><span class="token punctuation">::</span><span class="token class-name">O</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-impl">impl</span> <span class="token class-name">Query</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">PostgreSQL</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span> <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">;</span> …<span class="token punctuation">}</span>
<span class="token keyword keyword-impl">impl</span> <span class="token class-name">Query</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Sled</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span> <span class="token operator">=</span> <span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> … <span class="token punctuation">}</span>

postgres<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">"SELECT …"</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sled<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token macro property">vec!</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<mini-zoo class="zoo">
    <person>👩‍🦰</person>
    <entry>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Query</span></code></trait-impl>
        <associated-type><code class="language-rust"><span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <narrow-entry>
        <code style="text-align:center;width:100%" class="language-rust">→</code>
    </narrow-entry>
</mini-zoo>
<mini-zoo class="zoo">
    <person>🧔</person>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">PostgreSQL</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Query</span></code></trait-impl>
        <associated-type><code class="language-rust"><span class="token class-name">O</span> <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Sled</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Query</span></code></trait-impl>
        <associated-type><code class="language-rust"><span class="token class-name">O</span> <span class="token operator">=</span> <span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>
<div>&nbsp;</div>
<p>Trait author assumes:</p>
<ul>
<li>implementor would customize API for <code class="language-rust"><span class="token keyword keyword-Self">Self</span></code> type (but in only one way),</li>
<li>users do not need, or should not have, ability to influence customization for specific <code class="language-rust"><span class="token keyword keyword-Self">Self</span></code>.</li>
</ul>
<blockquote>
<p>As you can see here, the term <strong>input</strong> or <strong>output</strong> does <strong>not</strong> (necessarily) have anything to do with whether <code class="language-rust"><span class="token class-name">I</span></code> or <code class="language-rust"><span class="token class-name">O</span></code> are inputs or outputs to an actual function!</p>
</blockquote>
<div>&nbsp;</div><hr>
<p><strong>Multiple In- and Output Parameters</strong></p>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">I</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">search</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-self">self</span><span class="token punctuation">,</span> needle<span class="token punctuation">:</span> <span class="token class-name">I</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword keyword-Self">Self</span><span class="token punctuation">::</span><span class="token class-name">O</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-impl">impl</span> <span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">PostgreSQL</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span> <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">;</span> … <span class="token punctuation">}</span>
<span class="token keyword keyword-impl">impl</span> <span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">CString</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">PostgreSQL</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span> <span class="token operator">=</span> <span class="token class-name">CString</span><span class="token punctuation">;</span> … <span class="token punctuation">}</span>
<span class="token keyword keyword-impl">impl</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">Sled</span> <span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">ToU8Slice</span> <span class="token punctuation">{</span> <span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span> <span class="token operator">=</span> <span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> … <span class="token punctuation">}</span>

postgres<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">"SELECT …"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_uppercase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sled<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<mini-zoo class="zoo">
    <person>👩‍🦰</person>
    <entry>
        <trait-impl class="dotted">⌾ <code class="language-rust"><span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">I</span><span class="token operator">&gt;</span></code></trait-impl>
        <associated-type><code class="language-rust"><span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">O</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <narrow-entry>
        <code style="text-align:center;width:100%" class="language-rust">→</code>
    </narrow-entry>
</mini-zoo>
<mini-zoo class="zoo">
    <person>🧔</person>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">PostgreSQL</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token keyword keyword-str">str</span><span class="token operator">&gt;</span></code></trait-impl>
        <associated-type><code class="language-rust"><span class="token class-name">O</span> <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">;</span></code></associated-type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">CString</span><span class="token operator">&gt;</span></code></trait-impl>
        <associated-type><code class="language-rust"><span class="token class-name">O</span> <span class="token operator">=</span> <span class="token class-name">CString</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">Sled</span></code></type>
        <trait-impl class="dotted">⌾ <code class="language-rust"><span class="token class-name">Query</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></trait-impl>
        <associated-type><code class="language-rust"><span class="token class-name">O</span> <span class="token operator">=</span> <span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span><span class="token punctuation">;</span></code></associated-type>
        <note><span style="margin-left:10px;display:inline-block;transform:rotate(90deg);font-size:100%">↲</span> where <code class="language-rust"><span class="token class-name">T</span></code> is <code class="language-rust"><span class="token class-name">ToU8Slice</span></code>.</note>
    </entry>
</mini-zoo>
<div>&nbsp;</div>
<p>Like examples above, in particular trait author assumes:</p>
<ul>
<li>users may want ability to decide for which <code class="language-rust"><span class="token class-name">I</span></code>-types ability should be possible,</li>
<li>for given inputs, implementor should determine resulting output type.</li>
</ul>
</description>
</generics-section>

<generics-section>
<header>Dynamic / Zero Sized Types</header>
<description>
<mini-zoo class="zoo">
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">MostTypes</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Sized</span></code></trait-impl>
        <note>Normal types.</note>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <narrow-entry style="width:60px">
        <code style="text-align:center;width:100%" class="language-rust">vs<span class="token punctuation">.</span></code>
    </narrow-entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry>
        <type class="zero"><code class="language-rust"><span class="token class-name">Z</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Sized</span></code></trait-impl>
        <note>Zero sized.</note>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <narrow-entry style="width:60px">
        <code style="text-align:center;width:100%" class="language-rust">vs<span class="token punctuation">.</span></code>
    </narrow-entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry>
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-str">str</span></code></type>
        <trait-impl class="grayed">⌾ <code style="text-decoration:line-through" class="language-rust"><span class="token class-name">Sized</span></code></trait-impl>
        <note>Dynamically sized.</note>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry>
        <type class="primitive"><code class="language-rust"><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code></type>
        <trait-impl class="grayed">⌾ <code style="text-decoration:line-through" class="language-rust"><span class="token class-name">Sized</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry>
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-dyn">dyn</span> <span class="token class-name">Trait</span></code></type>
        <trait-impl class="grayed">⌾ <code style="text-decoration:line-through" class="language-rust"><span class="token class-name">Sized</span></code></trait-impl>
    </entry>
</mini-zoo>
<mini-zoo class="zoo">
    <entry>
        <type class="primitive"><code class="language-rust">…</code></type>
        <trait-impl class="grayed">⌾ <code style="text-decoration:line-through" class="language-rust"><span class="token class-name">Sized</span></code></trait-impl>
    </entry>
</mini-zoo>
<ul>
<li>A type <code class="language-rust"><span class="token class-name">T</span></code> is <strong><code class="language-rust"><span class="token class-name">Sized</span></code></strong> <a href="https://doc.rust-lang.org/std/marker/trait.Sized.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> if at compile time it is known how many bytes it occupies, <code class="language-rust"><span class="token keyword keyword-u8">u8</span></code> and <code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> are, <code class="language-rust"><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> isn't.</li>
<li>Being <code class="language-rust"><span class="token class-name">Sized</span></code> means <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Sized</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">T</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> holds. Happens automatically and cannot be user impl'ed.</li>
<li>Types not <code class="language-rust"><span class="token class-name">Sized</span></code> are called <strong>dynamically sized types</strong> <a href="https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a href="https://doc.rust-lang.org/nightly/nomicon/exotic-sizes.html#dynamically-sized-types-dsts" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a>  <a href="https://doc.rust-lang.org/reference/dynamically-sized-types.html#dynamically-sized-types" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> (DSTs), sometimes <strong>unsized</strong>.</li>
<li>Types without data are called <strong>zero sized types</strong> <a href="https://doc.rust-lang.org/nightly/nomicon/exotic-sizes.html#zero-sized-types-zsts" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> (ZSTs), do not occupy space.</li>
</ul>
<div class="cheats color-header sized">
<table><thead><tr><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">A</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token keyword keyword-u8">u8</span> <span class="token punctuation">}</span></code></td><td>Type <code class="language-rust"><span class="token class-name">A</span></code> is sized, i.e., <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Sized</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">A</span></code> holds, this is a 'regular' type.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">B</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></code></td><td>Since <code class="language-rust"><span class="token punctuation">[</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">]</span></code> is a DST, <code class="language-rust"><span class="token class-name">B</span></code> in turn becomes DST, i.e., does not <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Sized</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">C</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token class-name">T</span> <span class="token punctuation">}</span></code></td><td>Type params <strong>have</strong> implicit <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Sized</span></code> bound, e.g., <code class="language-rust"><span class="token class-name">C</span><span class="token operator">&lt;</span><span class="token class-name">A</span><span class="token operator">&gt;</span></code> is valid, <code class="language-rust"><span class="token class-name">C</span><span class="token operator">&lt;</span><span class="token class-name">B</span><span class="token operator">&gt;</span></code> is not.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">D</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token operator">?</span><span class="token class-name">Sized</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token class-name">T</span> <span class="token punctuation">}</span></code></td><td>Using <strong><code class="language-rust"><span class="token operator">?</span><span class="token class-name">Sized</span></code></strong> <a href="https://doc.rust-lang.org/reference/trait-bounds.html#sized" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> allows opt-out of that bound, i.e., <code class="language-rust"><span class="token class-name">D</span><span class="token operator">&lt;</span><span class="token class-name">B</span><span class="token operator">&gt;</span></code> is also valid.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">E</span><span class="token punctuation">;</span></code></td><td>Type <code class="language-rust"><span class="token class-name">E</span></code> is zero-sized (and also sized) and will not consume memory.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">F</span> <span class="token punctuation">{</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-self">self</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></td><td>Traits <strong>do not have</strong> an implicit <code class="language-rust"><span class="token class-name">Sized</span></code> bound, i.e., <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">F</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">B</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> is valid.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">F</span><span class="token punctuation">:</span> <span class="token class-name">Sized</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Traits can however opt into <code class="language-rust"><span class="token class-name">Sized</span></code> via supertraits.<a href="#functions-behavior" title="On this site, above."><sup>↑</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-trait">trait</span> <span class="token type-definition class-name">G</span> <span class="token punctuation">{</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">g</span><span class="token punctuation">(</span><span class="token keyword keyword-self">self</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></td><td>For <code class="language-rust"><span class="token keyword keyword-Self">Self</span></code>-like params DST <code class="language-rust"><span class="token keyword keyword-impl">impl</span></code> may still fail as params can't go on stack.</td></tr>
</tbody></table>
</div>
</description>
</generics-section>

<generics-section>
<header><code class="language-rust"><span class="token operator">?</span><span class="token class-name">Sized</span></code></header>
<description>
<mini-zoo class="zoo">
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <narrow-entry>
        <code style="text-align:center;width:100%" class="language-rust">→</code>
    </narrow-entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <entry>
        <type class="composed grayed"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-str">str</span><span class="token operator">&gt;</span></code></type>
    </entry>
</mini-zoo>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>
</code></pre>
<ul>
<li><code class="language-rust"><span class="token class-name">T</span></code> can be any concrete type.</li>
<li>However, there exists invisible default bound <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Sized</span></code>, so <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-str">str</span><span class="token operator">&gt;</span></code> is not possible out of box.</li>
<li>Instead we have to add <code class="language-rust"><span class="token class-name">T</span> <span class="token punctuation">:</span> <span class="token operator">?</span><span class="token class-name">Sized</span></code> to opt-out of that bound:</li>
</ul>
<mini-zoo class="zoo">
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <narrow-entry>
        <code style="text-align:center;width:100%" class="language-rust">→</code>
    </narrow-entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token keyword keyword-str">str</span><span class="token operator">&gt;</span></code></type>
    </entry>
</mini-zoo>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token keyword keyword-where">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token operator">?</span><span class="token class-name">Sized</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>
</code></pre>
</description>
</generics-section>

<generics-section>
<header>Generics and Lifetimes — <code class="language-rust"><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span></code></header>
<description>
<mini-zoo class="zoo">
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-f32">f32</span></code></type>
    </entry>
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-u8">u8</span></code></type>
    </entry>
</mini-zoo>
<ul>
<li>Lifetimes act<sup>*</sup> as type parameters:
<ul>
<li>user must provide specific <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code> to instantiate type (compiler will help within methods),</li>
<li><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'p</span><span class="token operator">&gt;</span></code> and <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'q</span><span class="token operator">&gt;</span></code> are different types, just like <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-f32">f32</span><span class="token operator">&gt;</span></code> and <code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code> are</li>
<li>meaning you can't just assign value of type <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span></code> to variable expecting <code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'b</span><span class="token operator">&gt;</span></code> (exception: subtype relationship for lifetimes, i.e., <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code> outlives <code class="language-rust"><span class="token lifetime-annotation symbol">'b</span></code>).</li>
</ul>
</li>
</ul>
<mini-zoo class="zoo">
    <entry>
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <narrow-entry>
        <code style="text-align:center;width:100%" class="language-rust">→</code>
    </narrow-entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'auto</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <entry>
        <type class="composed"><code class="language-rust"><span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'static</span><span class="token operator">&gt;</span></code></type>
    </entry>
</mini-zoo>
<ul>
<li><code class="language-rust"><span class="token lifetime-annotation symbol">'static</span></code> is only globally available type of the lifetimes <em>kind</em>.</li>
</ul>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token comment">// `'a is free parameter here (user can pass any specific lifetime)</span>
<span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u32">u32</span>
<span class="token punctuation">}</span>

<span class="token comment">// In non-generic code, 'static is the only nameable lifetime we can explicitly put in here.</span>
<span class="token keyword keyword-let">let</span> a<span class="token punctuation">:</span> <span class="token class-name">S</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'static</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// Alternatively, in non-generic code we can (often must) omit 'a and have Rust determine</span>
<span class="token comment">// the right value for 'a automatically.</span>
<span class="token keyword keyword-let">let</span> b<span class="token punctuation">:</span> <span class="token class-name">S</span><span class="token punctuation">;</span>
</code></pre>
<footnotes>
<p><sup>*</sup> There are subtle differences, for example you can create an explicit instance <code class="language-rust"><span class="token number">0</span></code> of a type <code class="language-rust"><span class="token keyword keyword-u32">u32</span></code>, but with the exception of <code class="language-rust"><span class="token lifetime-annotation symbol">'static</span></code> you can't really create a lifetime, e.g., "lines 80 - 100", the compiler will do that for you. <a href="https://medium.com/nearprotocol/understanding-rust-lifetimes-e813bcd405fa" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></p>
</footnotes>
</description>
</generics-section>










</div></panel></tab>
</tabs>
<footnotes>
<p>Examples expand by clicking.</p>
</footnotes>
<h2 id="foreign-types-and-traits">Foreign Types and Traits<sup id="target-foreign-types-and-traits" class="target"><a href="#foreign-types-and-traits">url</a></sup><feedback element-id="foreign-types-and-traits" id="feedback-foreign-types-and-traits">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-foreign-types-and-traits', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-foreign-types-and-traits');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-foreign-types-and-traits', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-foreign-types-and-traits');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-foreign-types-and-traits', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-foreign-types-and-traits', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-foreign-types-and-traits');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>A visual overview of types and traits in your crate and upstream.</p>

<div style="overflow:auto">
<div style="min-width:100%;width:750px">
<zoo class="zoo">

<region style="height:310px">

<group style="left:6%;width:200px">
    <entry style="left:100px;top:10%">
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></type>
    </entry>
    <entry style="left:20px;top:32%">
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></type>
    </entry>
    <entry style="left:30px;top:20%">
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-f32">f32</span></code></type>
    </entry>
    <entry style="left:0;top:7%">
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-bool">bool</span></code></type>
    </entry>
    <entry style="left:120px;top:32%">
        <type class="primitive"><code class="language-rust"><span class="token keyword keyword-char">char</span></code></type>
    </entry>
    <label style="left:8px;top:43%">Primitive Types</label>
</group>

<group style="left:50%;width:350px">
    <entry style="left:110px;top:60px">
        <type class="composed"><code class="language-rust"><span class="token class-name">File</span></code></type>
    </entry>
    <entry style="left:180px;top:34%">
        <type class="composed"><code class="language-rust"><span class="token class-name">String</span></code></type>
    </entry>
    <entry style="left:230px;top:13%">
        <type class="composed"><code class="language-rust"><span class="token class-name">Builder</span></code></type>
    </entry>
    <label style="left:150px;top:43%">Composite Types</label>
</group>

<group style="left:30px;top:53%;width:200px">
    
    <entry style="left:50px;top:8%">
        <type class="composed"><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <entry style="left:45px;top:9%">
        <type class="composed"><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
    </entry>
    <entry style="left:40px;top:10%">
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></type>
    </entry>
    
    <entry style="left:170px;top:2%">
        <type class="primitive"><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span></code></type>
    </entry>
    <entry style="left:165px;top:3%">
        <type class="primitive"><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span></code></type>
    </entry>
    <entry style="left:160px;top:4%">
        <type class="dotted generic"><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span></code></type>
    </entry>
    
    <entry style="left:140px;top:18%">
        <type class="primitive"><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span></code></type>
    </entry>
    <entry style="left:135px;top:19%">
        <type class="primitive"><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span></code></type>
    </entry>
    <entry style="left:130px;top:20%">
        <type class="dotted generic"><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span></code></type>
    </entry>
    
    <entry style="left:40px;top:28%">
        <type class="primitive"><code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">;</span> n<span class="token punctuation">]</span></code></type>
    </entry>
    <entry style="left:35px;top:29%">
        <type class="primitive"><code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">;</span> n<span class="token punctuation">]</span></code></type>
    </entry>
    <entry style="left:30px;top:30%">
        <type class="dotted generic"><code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">;</span> n<span class="token punctuation">]</span></code></type>
    </entry>
    <label style="left:80px;top:40%">Type Constructors</label>
</group>

<group style="left:50%;top:53%;width:200px">
    
    <entry style="left:10px;top:8%">
        <function><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></function>
    </entry>
    <entry style="left:5px;top:9%">
        <function><code class="language-rust"><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></function>
    </entry>
    <entry style="left:0;top:10%">
        <function class="dotted"><code class="language-rust">f<span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></function>
    </entry>
    
    <entry style="left:20px;top:24%">
        <function><code class="language-rust"><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></function>
    </entry>
    <label style="left:10px;top:40%">Functions</label>
</group>



<group class="grayed" style="left:80%;top:53%;width:140px">
    <entry style="left:5px;top:15%">
        <macro><code class="language-rust"><span class="token constant">PI</span></code></macro>
    </entry>
    <entry style="left:0;top:28%">
        <macro><code class="language-rust"><span class="token macro property">dbg!</span></code></macro>
    </entry>
    <label style="left:20px;top:40%">Other</label>
</group>

<group style="left:36%;width:30px">
    <entry style="left:20px;top:20px">
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Copy</span></code></trait-impl>
    </entry>
    <entry style="left:60px;top:90px">
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Deref</span></code></trait-impl>
        <associated-type><code class="language-rust"><span class="token keyword keyword-type">type</span> <span class="token type-definition class-name">Tgt</span><span class="token punctuation">;</span></code></associated-type>
    </entry>
    <entry style="left:90px;top:50px">
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></trait-impl>
    </entry>
    <entry style="left:85px;top:55px">
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></trait-impl>
    </entry>
    <entry style="left:80px;top:60px">
        <trait-impl class="dotted">⌾ <code class="language-rust"><span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></trait-impl>
    </entry>
    <label style="left:60px;top:43%">Traits</label>
</group>
</region>
<region-label>Items defined in upstream crates.</region-label>

<region class="your-crate" style="height:190px">

<group style="left:5px;width:200px">
    <entry style="left:10px;top:25px">
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Serialize</span></code></trait-impl>
    </entry>
    <entry style="left:30px;top:65px">
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Transport</span></code></trait-impl>
    </entry>
    <entry style="left:15px;top:105px">
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">ShowHex</span></code></trait-impl>
    </entry>
    
</group>

<group style="left:150px;width:200px">
    <entry style="left:0;top:25px">
        <type class="composed"><code class="language-rust"><span class="token class-name">Device</span></code></type>
        <trait-impl class="grayed">⌾ <code class="language-rust"><span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></trait-impl>
        
        <note>Foreign trait impl. for local type.</note>
    </entry>
    <entry style="left:100px;top:25px">
        <type class="composed grayed"><code class="language-rust"><span class="token class-name">String</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Serialize</span></code></trait-impl>
        <note>Local trait impl. for foreign type.</note>
    </entry>
    <entry style="left:200px;top:25px">
        <type class="composed grayed"><code class="language-rust"><span class="token class-name">String</span></code></type>
        <trait-impl class="grayed">⌾ <code class="language-rust"><span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></trait-impl>
        <note><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> Illegal, foreign trait for f. type.</note>
    </entry>
    <entry style="left:200px;top:110px">
        <type class="composed grayed"><code class="language-rust"><span class="token class-name">String</span></code></type>
        <trait-impl class="grayed">⌾ <code class="language-rust"><span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token class-name">Port</span><span class="token operator">&gt;</span></code></trait-impl>
        <note>Exception: Legal if used type local.</note>
    </entry>
    <entry style="left:300px;top:25px">
        <type class="composed"><code class="language-rust"><span class="token class-name">Port</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></trait-impl>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token keyword keyword-u16">u16</span><span class="token operator">&gt;</span></code></trait-impl>
        <note>Mult. impl. of trait with differing <b>IN</b> params.</note>
    </entry>
    <entry style="left:400px;top:25px">
        <type class="composed"><code class="language-rust"><span class="token class-name">Container</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Deref</span></code></trait-impl>
        <associated-type class="grayed"><code class="language-rust"><span class="token class-name">Tgt</span> <span class="token operator">=</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">;</span></code></associated-type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">Deref</span></code></trait-impl>
        <associated-type class="grayed"><code class="language-rust"><span class="token class-name">Tgt</span> <span class="token operator">=</span> <span class="token keyword keyword-f32">f32</span><span class="token punctuation">;</span></code></associated-type>
        <note><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> Illegal impl. of trait with differing <b>OUT</b> params.</note>
    </entry>
    <entry style="left:510px;top:15px">
        <type class="composed"><code class="language-rust"><span class="token class-name">T</span></code></type>
    </entry>
    <entry style="left:505px;top:20px">
        <type class="composed"><code class="language-rust"><span class="token class-name">T</span></code></type>
    </entry>
    <entry style="left:500px;top:25px">
        <type class="dotted generic"><code class="language-rust"><span class="token class-name">T</span></code></type>
        <trait-impl>⌾ <code class="language-rust"><span class="token class-name">ShowHex</span></code></trait-impl>
        <note>Blanket impl. of trait for any type.</note>
    </entry>
</group>
</region>
<region-label>Your crate.</region-label>


</zoo>
<footnotes>
<p>Examples of traits and types, and which traits you can implement for which type.</p>
</footnotes>

</div>
</div>
<h2 id="type-conversions">Type Conversions<sup id="target-type-conversions" class="target"><a href="#type-conversions">url</a></sup><feedback element-id="type-conversions" id="feedback-type-conversions">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-type-conversions', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-type-conversions');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-type-conversions', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-type-conversions');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-type-conversions', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-type-conversions', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-type-conversions');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>How to get <code class="language-rust"><span class="token class-name">B</span></code> when you have <code class="language-rust"><span class="token class-name">A</span></code>?</p>
<div class="color-header variance">
<tabs>

<tab>
<input type="radio" id="tab-variance-1" name="tab-variance" checked="">
<label for="tab-variance-1"><b>Intro</b></label>
<panel><div>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">A</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    <span class="token comment">// How can you obtain B from A?</span>
<span class="token punctuation">}</span>
</code></pre>
<table><thead><tr><th>Method</th><th>Explanation</th></tr></thead><tbody>
<tr><td><strong>Identity</strong></td><td>Trivial case, <code class="language-rust"><span class="token class-name">B</span></code> <strong>is exactly</strong> <code class="language-rust"><span class="token class-name">A</span></code>.</td></tr>
<tr><td><strong>Computation</strong></td><td>Create and manipulate instance of <code class="language-rust"><span class="token class-name">B</span></code> by <strong>writing code</strong> transforming data.</td></tr>
<tr><td><strong>Casts</strong></td><td><strong>On-demand</strong> conversion between types where caution is advised.</td></tr>
<tr><td><strong>Coercions</strong></td><td><strong>Automatic</strong> conversion within <em>'weakening ruleset'</em>.<sup>1</sup></td></tr>
<tr><td><strong>Subtyping</strong></td><td><strong>Automatic</strong> conversion within <em>'same-layout-different-lifetimes ruleset'</em>.<sup>1</sup></td></tr>
</tbody></table>
<div>&nbsp;</div><footnotes>
<p><sup>1</sup> While both convert <code class="language-rust"><span class="token class-name">A</span></code> to <code class="language-rust"><span class="token class-name">B</span></code>, <strong>coercions</strong> generally link to an <em>unrelated</em> <code class="language-rust"><span class="token class-name">B</span></code> (a type "one could reasonably expect to have different methods"),
while <strong>subtyping</strong> links to a <code class="language-rust"><span class="token class-name">B</span></code> differing only in lifetimes.</p>
</footnotes>
</div></panel></tab>

<tab>
<input type="radio" id="tab-variance-2" name="tab-variance">
<label for="tab-variance-2"><b>Computation (Traits)</b></label>
<panel><div>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">A</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<p><em>Bread and butter</em> way to get <code class="language-rust"><span class="token class-name">B</span></code> from <code class="language-rust"><span class="token class-name">A</span></code>. Some traits provide canonical, user-computable type relations:</p>
<table><thead><tr><th>Trait</th><th>Example</th><th>Trait implies …</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token class-name">A</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">B</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><code class="language-rust">a<span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td><em>Obvious</em>, always-valid relation.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">TryFrom</span><span class="token operator">&lt;</span><span class="token class-name">A</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">B</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><code class="language-rust">a<span class="token punctuation">.</span><span class="token function">try_into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td><td><em>Obvious</em>, sometimes-valid relation.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Deref</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><code class="language-rust"><span class="token operator">*</span>a</code></td><td><code class="language-rust"><span class="token class-name">A</span></code> is smart pointer carrying <code class="language-rust"><span class="token class-name">B</span></code>; also enables coercions.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">AsRef</span><span class="token operator">&lt;</span><span class="token class-name">B</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><code class="language-rust">a<span class="token punctuation">.</span><span class="token function">as_ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token class-name">A</span></code> can be <em>viewed</em> as <code class="language-rust"><span class="token class-name">B</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">AsMut</span><span class="token operator">&lt;</span><span class="token class-name">B</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><code class="language-rust">a<span class="token punctuation">.</span><span class="token function">as_mut</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token class-name">A</span></code> can be mutably viewed as <code class="language-rust"><span class="token class-name">B</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Borrow</span><span class="token operator">&lt;</span><span class="token class-name">B</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td><code class="language-rust">a<span class="token punctuation">.</span><span class="token function">borrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token class-name">A</span></code> has borrowed <em>analog</em> <code class="language-rust"><span class="token class-name">B</span></code> (behaving same under <code class="language-rust"><span class="token class-name">Eq</span></code>, …).</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">ToOwned</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">A</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></td><td><code class="language-rust">a<span class="token punctuation">.</span><span class="token function">to_owned</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token class-name">A</span></code> has owned analog <code class="language-rust"><span class="token class-name">B</span></code>.</td></tr>
</tbody></table>

</div></panel></tab>

<tab>
<input type="radio" id="tab-variance-3" name="tab-variance">
<label for="tab-variance-3"><b>Casts</b></label>
<panel><div>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">A</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    x <span class="token keyword keyword-as">as</span> <span class="token class-name">B</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Convert types <strong>with keyword <code class="language-rust"><span class="token keyword keyword-as">as</span></code></strong> if conversion <em>relatively obvious</em> but <strong>might cause issues</strong>. <a href="https://doc.rust-lang.org/nightly/nomicon/casts.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a></p>
<table><thead><tr><th>A</th><th>B</th><th>Example</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">Pointer</span></code></td><td><code class="language-rust"><span class="token class-name">Pointer</span></code></td><td><code class="language-rust">device_ptr <span class="token keyword keyword-as">as</span> <span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-u8">u8</span></code></td><td>If <code class="language-rust"><span class="token operator">*</span><span class="token class-name">A</span></code>, <code class="language-rust"><span class="token operator">*</span><span class="token class-name">B</span></code> are <code class="language-rust"><span class="token class-name">Sized</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Pointer</span></code></td><td><code class="language-rust"><span class="token class-name">Integer</span></code></td><td><code class="language-rust">device_ptr <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-usize">usize</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Integer</span></code></td><td><code class="language-rust"><span class="token class-name">Pointer</span></code></td><td><code class="language-rust">my_usize <span class="token keyword keyword-as">as</span> <span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token class-name">Device</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Number</span></code></td><td><code class="language-rust"><span class="token class-name">Number</span></code></td><td><code class="language-rust">my_u8 <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u16">u16</span></code></td><td>Often surprising behavior. <a href="#numeric-types-ref" title="On this site, above."><sup>↑</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-enum">enum</span></code> w/o fields</td><td><code class="language-rust"><span class="token class-name">Integer</span></code></td><td><code class="language-rust"><span class="token class-name">E</span><span class="token punctuation">::</span><span class="token class-name">A</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u8">u8</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-bool">bool</span></code></td><td><code class="language-rust"><span class="token class-name">Integer</span></code></td><td><code class="language-rust"><span class="token boolean">true</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u8">u8</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-char">char</span></code></td><td><code class="language-rust"><span class="token class-name">Integer</span></code></td><td><code class="language-rust"><span class="token char">'A'</span> <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-u8">u8</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">;</span> <span class="token class-name">N</span><span class="token punctuation">]</span></code></td><td><code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token class-name">T</span></code></td><td><code class="language-rust">my_ref <span class="token keyword keyword-as">as</span> <span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-u8">u8</span></code></td><td></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span>…<span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token class-name">Pointer</span></code></td><td><code class="language-rust">f <span class="token keyword keyword-as">as</span> <span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-u8">u8</span></code></td><td>If <code class="language-rust"><span class="token class-name">Pointer</span></code> is <code class="language-rust"><span class="token class-name">Sized</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span>…<span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token class-name">Integer</span></code></td><td><code class="language-rust">f <span class="token keyword keyword-as">as</span> <span class="token keyword keyword-usize">usize</span></code></td><td></td></tr>
</tbody></table>
<div>&nbsp;</div><footnote>
<p>Where <code class="language-rust"><span class="token class-name">Pointer</span></code>, <code class="language-rust"><span class="token class-name">Integer</span></code>, <code class="language-rust"><span class="token class-name">Number</span></code> are just used for brevity and actually mean:</p>
<ul>
<li><code class="language-rust"><span class="token class-name">Pointer</span></code> any <code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token class-name">T</span></code> or <code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span></code>;</li>
<li><code class="language-rust"><span class="token class-name">Integer</span></code> any countable <code class="language-rust"><span class="token keyword keyword-u8">u8</span></code> … <code class="language-rust"><span class="token keyword keyword-i128">i128</span></code>;</li>
<li><code class="language-rust"><span class="token class-name">Number</span></code> any <code class="language-rust"><span class="token class-name">Integer</span></code>, <code class="language-rust"><span class="token keyword keyword-f32">f32</span></code>, <code class="language-rust"><span class="token keyword keyword-f64">f64</span></code>.</li>
</ul>
</footnote>
<blockquote>
<p><strong>Opinion</strong> <a class="tooltip" title="Author's opinion."><sup>💬</sup></a> — Casts, esp. <code class="language-rust"><span class="token class-name">Number</span> <span class="token operator">-</span> <span class="token class-name">Number</span></code>, can easily go wrong.
If you are concerned with correctness, consider more explicit methods instead.</p>
</blockquote>
</div></panel></tab>

<tab>
<input type="radio" id="tab-variance-4" name="tab-variance">
<label for="tab-variance-4"><b>Coercions</b></label>
<panel><div>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">A</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    x
<span class="token punctuation">}</span>
</code></pre>
<p>Automatically <strong>weaken</strong> type <code class="language-rust"><span class="token class-name">A</span></code> to <code class="language-rust"><span class="token class-name">B</span></code>; types can be <em>substantially</em><sup>1</sup> different. <a href="https://doc.rust-lang.org/nightly/nomicon/coercions.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a></p>
<table><thead><tr><th>A</th><th>B</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span></code></td><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">T</span></code></td><td><strong>Pointer weakening</strong>.</td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span></code></td><td><code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span></code></td><td>-</td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">T</span></code></td><td><code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token class-name">T</span></code></td><td>-</td></tr>
<tr><td><code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span></code></td><td><code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token class-name">T</span></code></td><td>-</td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">T</span></code></td><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token class-name">U</span></code></td><td><strong>Deref</strong>, if <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Deref</span><span class="token operator">&lt;</span><span class="token class-name">Target</span><span class="token operator">=</span><span class="token class-name">U</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">T</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">T</span></code></td><td><code class="language-rust"><span class="token class-name">U</span></code></td><td><strong>Unsizing</strong>, if <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">CoerceUnsized</span><span class="token operator">&lt;</span><span class="token class-name">U</span><span class="token operator">&gt;</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">T</span></code>.<sup>2</sup> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">T</span></code></td><td><code class="language-rust"><span class="token class-name">V</span></code></td><td><strong>Transitivity</strong>, if <code class="language-rust"><span class="token class-name">T</span></code> coerces to <code class="language-rust"><span class="token class-name">U</span></code> and <code class="language-rust"><span class="token class-name">U</span></code> to <code class="language-rust"><span class="token class-name">V</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token operator">|</span>x<span class="token operator">|</span> x <span class="token operator">+</span> x</code></td><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword keyword-u8">u8</span></code></td><td><strong>Non-capturing closure</strong>, to equivalent <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code> pointer.</td></tr>
</tbody></table>
<div>&nbsp;</div><footnote>
<p><sup>1</sup> <em>Substantially</em> meaning one can regularly expect a coercion result <code class="language-rust"><span class="token class-name">B</span></code> to be <em>an entirely different type</em> (i.e., have entirely different methods) than the original type <code class="language-rust"><span class="token class-name">A</span></code>.</p>
<p><sup>2</sup> Does not quite work in example above as unsized can't be on stack; imagine <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">A</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span><span class="token class-name">B</span></code> instead. Unsizing works by default for:</p>
<ul>
<li><code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">;</span> n<span class="token punctuation">]</span></code> to <code class="language-rust"><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span></code></li>
<li><code class="language-rust"><span class="token class-name">T</span></code> to <code class="language-rust"><span class="token keyword keyword-dyn">dyn</span> <span class="token class-name">Trait</span></code> if <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Trait</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">T</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>.</li>
<li><code class="language-rust"><span class="token class-name">Foo</span><span class="token operator">&lt;</span>…<span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">,</span> …<span class="token operator">&gt;</span></code> to <code class="language-rust"><span class="token class-name">Foo</span><span class="token operator">&lt;</span>…<span class="token punctuation">,</span> <span class="token class-name">U</span><span class="token punctuation">,</span> …<span class="token operator">&gt;</span></code> under arcane <a href="https://doc.rust-lang.org/nomicon/coercions.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a> circumstances.</li>
</ul>
</footnote>
</div></panel></tab>

<tab>
<input type="radio" id="tab-variance-5" name="tab-variance">
<label for="tab-variance-5"><b>Subtyping</b><a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></label>
<panel><div>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">A</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    x
<span class="token punctuation">}</span>
</code></pre>
<p>Automatically converts <code class="language-rust"><span class="token class-name">A</span></code> to <code class="language-rust"><span class="token class-name">B</span></code> for types <strong>only differing in lifetimes</strong> <a href="https://doc.rust-lang.org/nightly/nomicon/subtyping.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> - subtyping <strong>examples</strong>:</p>
<table><thead><tr><th>A<sup>(subtype)</sup></th><th>B<sup>(supertype)</sup></th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span></code></td><td>Valid, <i>forever-</i>pointer is also <i>transient-</i>pointer.</td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword keyword-u8">u8</span></code></td><td><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> Invalid, transient should not be forever.</td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span> <span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span> <span class="token keyword keyword-u8">u8</span></code></td><td>Valid, same thing. <strong>But now things get interesting. Read on.</strong></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span> <span class="token keyword keyword-u8">u8</span></code></td><td>Valid, <code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword keyword-u8">u8</span></code> is also <code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span> <span class="token keyword keyword-u8">u8</span></code>; <strong>covariant</strong> inside <code class="language-rust"><span class="token operator">&amp;</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-mut">mut</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-mut">mut</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'b</span> <span class="token keyword keyword-u8">u8</span></code></td><td><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> Invalid and surprising; <strong>invariant</strong> inside <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></td><td><code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></td><td>Valid, <code class="language-rust"><span class="token class-name">Box</span></code> with forever is also box with transient; covariant.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></td><td><code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></td><td><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> Invalid, <code class="language-rust"><span class="token class-name">Box</span></code> with transient may not be with forever.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></td><td><code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></td><td><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> <sup>⚡</sup> Invalid, see table below, <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-u8">u8</span></code> never <em>was a</em> <code class="language-rust"><span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Cell</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></td><td><code class="language-rust"><span class="token class-name">Cell</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token operator">&gt;</span></code></td><td><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> Invalid, <code class="language-rust"><span class="token class-name">Cell</span></code> are <strong>never</strong> something else; invariant.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> If <code class="language-rust"><span class="token keyword keyword-fn">fn</span></code> needs forever it may choke on transients; <strong>contravar.</strong></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td>But sth. that eats transients <strong>can be</strong>(!) sth. that eats forevers.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'r</span><span class="token operator">&gt;</span> <span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'r</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code></td><td>Higher-ranked type <code class="language-rust"><span class="token keyword keyword-for">for</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'r</span><span class="token operator">&gt;</span> <span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'r</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span></code> is also <code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span><span class="token punctuation">.</span></code></td></tr>
</tbody></table>
<div>&nbsp;</div>
<p>In contrast, these are <strong>not</strong><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> examples of subtyping:</p>
<table><thead><tr><th>A</th><th>B</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td><td><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> <strong>Obviously invalid</strong>; <code class="language-rust"><span class="token keyword keyword-u16">u16</span></code> should never automatically be <code class="language-rust"><span class="token keyword keyword-u8">u8</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token keyword keyword-u16">u16</span></code></td><td><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> Invalid <strong>by design</strong>; types w. different data still never subtype even if they <em>could</em>.</td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-u8">u8</span></code></td><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u8">u8</span></code></td><td><a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> Trojan horse, not subtyping; but coercion (still works, just not subtyping).</td></tr>
</tbody></table>
<div>&nbsp;</div></div></panel></tab>

<tab>
<input type="radio" id="tab-variance-8" name="tab-variance">
<label for="tab-variance-8"><b>Variance</b><a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></label>
<panel><div>
<pre class="language-rust" tabindex="0"><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">A</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    x
<span class="token punctuation">}</span>
</code></pre>
<p>Automatically converts <code class="language-rust"><span class="token class-name">A</span></code> to <code class="language-rust"><span class="token class-name">B</span></code> for types <strong>only differing in lifetimes</strong> <a href="https://doc.rust-lang.org/nightly/nomicon/subtyping.html" title="See this topic in 'The Rustonomicon'."><sup class="expert">NOM</sup></a> -  subtyping <strong>variance rules</strong>:</p>
<ul>
<li>A longer lifetime <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code> that outlives a shorter <code class="language-rust"><span class="token lifetime-annotation symbol">'b</span></code> is a subtype of <code class="language-rust"><span class="token lifetime-annotation symbol">'b</span></code>.</li>
<li>Implies <code class="language-rust"><span class="token lifetime-annotation symbol">'static</span></code> is subtype of all other lifetimes <code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code>.</li>
<li>Whether types with parameters (e.g., <code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span></code>) are subtypes of each other the following variance table is used:</li>
</ul>
<table><thead><tr><th>Construct<sup>1</sup></th><th><code class="language-rust"><span class="token lifetime-annotation symbol">'a</span></code></th><th><code class="language-rust"><span class="token class-name">T</span></code></th><th><code class="language-rust"><span class="token class-name">U</span></code></th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token class-name">T</span></code></td><td>covariant</td><td>covariant</td><td></td></tr>
<tr><td><code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span></code></td><td>covariant</td><td>invariant</td><td></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></td><td></td><td>covariant</td><td></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Cell</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code></td><td></td><td>invariant</td><td></td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">U</span></code></td><td></td><td><strong>contra</strong>variant</td><td>covariant</td></tr>
<tr><td><code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-const">const</span> <span class="token class-name">T</span></code></td><td></td><td>covariant</td><td></td></tr>
<tr><td><code class="language-rust"><span class="token operator">*</span><span class="token keyword keyword-mut">mut</span> <span class="token class-name">T</span></code></td><td></td><td>invariant</td><td></td></tr>
</tbody></table>
<footnotes>
<p><strong>Covariant</strong> means if <code class="language-rust"><span class="token class-name">A</span></code> is subtype of <code class="language-rust"><span class="token class-name">B</span></code>, then <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token class-name">A</span><span class="token punctuation">]</span></code> is subtype of <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token class-name">B</span><span class="token punctuation">]</span></code>. <br>
<strong>Contravariant</strong> means if <code class="language-rust"><span class="token class-name">A</span></code> is subtype of <code class="language-rust"><span class="token class-name">B</span></code>, then <strong><code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token class-name">B</span><span class="token punctuation">]</span></code></strong> is subtype of <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token class-name">A</span><span class="token punctuation">]</span></code>. <br>
<strong>Invariant</strong> means even if <code class="language-rust"><span class="token class-name">A</span></code> is subtype of <code class="language-rust"><span class="token class-name">B</span></code>, neither <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token class-name">A</span><span class="token punctuation">]</span></code> nor <code class="language-rust"><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token class-name">B</span><span class="token punctuation">]</span></code> will be subtype of the other.<br></p>

<p><sup>1</sup> Compounds like <code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> obtain variance through their used fields, usually becoming invariant if multiple variances are mixed.<br></p>
</footnotes>
<blockquote>
<p>💡 <strong>In other words</strong>, 'regular' types are never subtypes of each other (e.g., <code class="language-rust"><span class="token keyword keyword-u8">u8</span></code> is not subtype of <code class="language-rust"><span class="token keyword keyword-u16">u16</span></code>),
and a <code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token keyword keyword-u32">u32</span><span class="token operator">&gt;</span></code> would never be sub- or supertype of anything.
However, generally a <code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token class-name">A</span><span class="token operator">&gt;</span></code>, <em>can</em> be subtype of <code class="language-rust"><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token class-name">B</span><span class="token operator">&gt;</span></code> (via covariance) if <code class="language-rust"><span class="token class-name">A</span></code> is a subtype
of <code class="language-rust"><span class="token class-name">B</span></code>, which can only happen if <code class="language-rust"><span class="token class-name">A</span></code> and <code class="language-rust"><span class="token class-name">B</span></code> are 'sort of the same type that only differed in lifetimes', e.g., <code class="language-rust"><span class="token class-name">A</span></code> being <code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token keyword keyword-u32">u32</span></code> and <code class="language-rust"><span class="token class-name">B</span></code> being <code class="language-rust"><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword keyword-u32">u32</span></code>.</p>
</blockquote>
</div></panel></tab>
</tabs>
</div>
<div>&nbsp;</div>
<hr>
<h1 id="coding-guides">Coding Guides<sup id="target-coding-guides" class="target"><a href="#coding-guides">url</a></sup></h1>
<h2 id="idiomatic-rust">Idiomatic Rust<sup id="target-idiomatic-rust" class="target"><a href="#idiomatic-rust">url</a></sup><feedback element-id="idiomatic-rust" id="feedback-idiomatic-rust">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-idiomatic-rust', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-idiomatic-rust');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-idiomatic-rust', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-idiomatic-rust');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-idiomatic-rust', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-idiomatic-rust', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-idiomatic-rust');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>If you are used to Java or C, consider these.</p>
<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<div class="color-header number">
<table><thead><tr><th>Idiom</th><th>Code</th></tr></thead><tbody>
<tr><td><strong>Think in Expressions</strong></td><td><code class="language-rust">y <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> x <span class="token punctuation">{</span> a <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span> b <span class="token punctuation">}</span><span class="token punctuation">;</span></code></td></tr>
<tr><td></td><td><code class="language-rust">y <span class="token operator">=</span> <span class="token keyword keyword-loop">loop</span> <span class="token punctuation">{</span> <span class="token keyword keyword-break">break</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code></td></tr>
<tr><td></td><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword keyword-u32">u32</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span></code></td></tr>
<tr><td><strong>Think in Iterators</strong></td><td><code class="language-rust"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td></tr>
<tr><td></td><td><code class="language-rust">names<span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>x<span class="token closure-punctuation punctuation">|</span></span> x<span class="token punctuation">.</span><span class="token function">starts_with</span><span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></td></tr>
<tr><td><strong>Test Absence with <code class="language-rust"><span class="token operator">?</span></code></strong></td><td><code class="language-rust">y <span class="token operator">=</span> <span class="token function">try_something</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span></code></td></tr>
<tr><td></td><td><code class="language-rust"><span class="token function">get_option</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span></code></td></tr>
<tr><td><strong>Use Strong Types</strong></td><td><code class="language-rust"><span class="token keyword keyword-enum">enum</span> <span class="token type-definition class-name">E</span> <span class="token punctuation">{</span> <span class="token class-name">Invalid</span><span class="token punctuation">,</span> <span class="token class-name">Valid</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span> <span class="token punctuation">}</span></code> over <code class="language-rust"><span class="token constant">ERROR_INVALID</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></code></td></tr>
<tr><td></td><td><code class="language-rust"><span class="token keyword keyword-enum">enum</span> <span class="token type-definition class-name">E</span> <span class="token punctuation">{</span> <span class="token class-name">Visible</span><span class="token punctuation">,</span> <span class="token class-name">Hidden</span> <span class="token punctuation">}</span></code> over <code class="language-rust">visible<span class="token punctuation">:</span> <span class="token keyword keyword-bool">bool</span></code></td></tr>
<tr><td></td><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">Charge</span><span class="token punctuation">(</span><span class="token keyword keyword-f32">f32</span><span class="token punctuation">)</span></code> over <code class="language-rust"><span class="token keyword keyword-f32">f32</span></code></td></tr>
<tr><td><strong>Illegal State: Impossible</strong></td><td><code class="language-rust">my_lock<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>guaranteed_at_compile_time_to_be_locked <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></code> <sup>1</sup></td></tr>
<tr><td></td><td><code class="language-rust"><span class="token namespace">thread<span class="token punctuation">::</span></span><span class="token function">scope</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>s<span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span> <span class="token comment">/* Threads can't exist longer than scope() */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td></tr>
<tr><td><strong>Provide Builders</strong></td><td><code class="language-rust"><span class="token class-name">Car</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">"Model T"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hp</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td></tr>
<tr><td><strong>Don't Panic</strong></td><td>Panics are <em>not</em> exceptions, they suggest immediate process abortion!</td></tr>
<tr><td></td><td>Only panic on programming error; use <code class="language-rust"><span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code><a href="https://doc.rust-lang.org/std/option/enum.Option.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> or <code class="language-rust"><span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span><span class="token class-name">E</span><span class="token operator">&gt;</span></code><a href="https://doc.rust-lang.org/std/result/enum.Result.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> otherwise.</td></tr>
<tr><td></td><td>If clearly user requested, e.g., calling <code class="language-rust"><span class="token function">obtain</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> vs. <code class="language-rust"><span class="token function">try_obtain</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, panic ok too.</td></tr>
<tr><td><strong>Generics in Moderation</strong></td><td>A simple <code class="language-rust"><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Bound</span><span class="token operator">&gt;</span></code> (e.g., <code class="language-rust"><span class="token class-name">AsRef</span><span class="token operator">&lt;</span><span class="token class-name">Path</span><span class="token operator">&gt;</span></code>) can make your APIs nicer to use.</td></tr>
<tr><td></td><td>Complex bounds make it impossible to follow. If in doubt don't be creative with <em>g</em>.</td></tr>
<tr><td><strong>Split Implementations</strong></td><td>Generics like <code class="language-rust"><span class="token class-name">Point</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> can have separate <code class="language-rust"><span class="token keyword keyword-impl">impl</span></code> per <code class="language-rust"><span class="token class-name">T</span></code> for some specialization.</td></tr>
<tr><td></td><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token class-name">Point</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* Add common methods here */</span> <span class="token punctuation">}</span></code></td></tr>
<tr><td></td><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Point</span><span class="token operator">&lt;</span><span class="token keyword keyword-f32">f32</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* Add methods only relevant for Point&lt;f32&gt; */</span> <span class="token punctuation">}</span></code></td></tr>
<tr><td><strong>Unsafe</strong></td><td>Avoid <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>,<a href="#unsafe-unsound-undefined" title="On this site, below."><sup>↓</sup></a> often safer, faster solution without it.</td></tr>
<tr><td><strong>Implement Traits</strong></td><td><code class="language-rust"><span class="token attribute attr-name">#[derive(Debug, Copy, …)]</span></code> and custom <code class="language-rust"><span class="token keyword keyword-impl">impl</span></code> where needed.</td></tr>
<tr><td><strong>Tooling</strong></td><td>Run <a href="https://github.com/rust-lang/rust-clippy"><strong>clippy</strong></a> regularly to significantly improve your code quality. <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a></td></tr>
<tr><td></td><td>Format your code with <a href="https://github.com/rust-lang/rustfmt"><strong>rustfmt</strong></a> for consistency. <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a></td></tr>
<tr><td></td><td>Add <strong>unit tests</strong> <a href="https://doc.rust-lang.org/book/ch11-01-writing-tests.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> (<code class="language-rust"><span class="token attribute attr-name">#[test]</span></code>) to ensure your code works.</td></tr>
<tr><td></td><td>Add <strong>doc tests</strong> <a href="https://doc.rust-lang.org/book/ch14-02-publishing-to-crates-io.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> (<code class="language-rust">``` <span class="token namespace">my_api<span class="token punctuation">::</span></span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ```</code>) to ensure docs match code.</td></tr>
<tr><td><strong>Documentation</strong></td><td>Annotate your APIs with doc comments that can show up on <a href="https://docs.rs"><strong>docs.rs</strong></a>.</td></tr>
<tr><td></td><td>Don't forget to include a <strong>summary sentence</strong> and the <strong>Examples</strong> heading.</td></tr>
<tr><td></td><td>If applicable: <strong>Panics</strong>, <strong>Errors</strong>, <strong>Safety</strong>, <strong>Abort</strong> and <strong>Undefined Behavior</strong>.</td></tr>
</tbody></table>
</div>
</div>
</div>
<footnotes>
<p><sup>1</sup> In most cases you should prefer <code class="language-rust"><span class="token operator">?</span></code> over <code class="language-rust"><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. In the case of locks however the returned <a href="https://doc.rust-lang.org/stable/std/sync/struct.PoisonError.html"><strong><code class="language-rust"><span class="token class-name">PoisonError</span></code></strong></a> signifies a panic in another thread, so unwrapping it (thus propagating the panic) is often the better idea.</p>
</footnotes>
<div>&nbsp;</div>
<blockquote>
<p>🔥 We <strong>highly</strong> recommend you also follow the
<a href="https://rust-lang.github.io/api-guidelines/"><strong>API Guidelines</strong></a> (<a href="https://rust-lang.github.io/api-guidelines/checklist.html"><strong>Checklist</strong></a>)
for any shared project! 🔥</p>
</blockquote>
<div>&nbsp;</div><h2 id="performance-tips">Performance Tips<sup id="target-performance-tips" class="target"><a href="#performance-tips">url</a></sup><feedback element-id="performance-tips" id="feedback-performance-tips">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-performance-tips', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-performance-tips');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-performance-tips', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-performance-tips');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-performance-tips', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-performance-tips', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-performance-tips');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>"My code is slow" sometimes comes up when porting microbenchmarks to Rust, or after profiling.</p>
<div class="blue color-header">
<table><thead><tr><th>Rating</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>🚀🍼</td><td><strong>Release Mode</strong> <a href="https://doc.rust-lang.org/book/ch01-03-hello-cargo.html" title="See this topic in 'The Rust Programming Language'."><sup class="entry">BK</sup></a> <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a></td><td>Always do <code class="language-rust">cargo build <span class="token operator">-</span><span class="token operator">-</span>release</code> for massive speed boost.</td></tr>
<tr><td><span style="opacity:0">🚀</span>🍼<span style="opacity:0">🚀</span>⚠️</td><td><strong>Target Native CPU</strong> <a href="https://doc.rust-lang.org/rustc/codegen-options/index.html#target-cpu" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td>Add <code class="language-rust">rustflags <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"-Ctarget-cpu=native"</span><span class="token punctuation">]</span></code> to <code class="language-rust">config<span class="token punctuation">.</span>toml</code>. <a href="#project-anatomy" title="On this site, above."><sup>↑</sup></a></td></tr>
<tr><td><span style="opacity:0">🚀</span>🍼⚖️</td><td><strong>Codegen Units</strong> <a href="https://doc.rust-lang.org/rustc/codegen-options/index.html#codegen-units" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td>Codegen units <code class="language-rust"><span class="token number">1</span></code> may yield faster code, slower compile.</td></tr>
<tr><td><span style="opacity:0">🚀</span>🍼</td><td><strong>Reserve Capacity</strong> <a href="https://doc.rust-lang.org/std/?search=with_capacity" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td><td>Pre-allocation of collections reduces allocation pressure.</td></tr>
<tr><td><span style="opacity:0">🚀</span>🍼</td><td><strong>Recycle Collections</strong> <a href="https://doc.rust-lang.org/std/index.html?search=clear" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td><td>Calling <code class="language-rust">x<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and reusing <code class="language-rust">x</code> prevents allocations.</td></tr>
<tr><td><span style="opacity:0">🚀</span>🍼</td><td><strong>Append to Strings</strong> <a href="https://doc.rust-lang.org/std/macro.write.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td><td>Using <code class="language-rust"><span class="token macro property">write!</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> s<span class="token punctuation">,</span> <span class="token string">"{}"</span><span class="token punctuation">)</span></code> can prevent extra allocation.</td></tr>
<tr><td></td><td><strong>Bump Allocations</strong> <a href="https://docs.rs/bumpalo/latest/bumpalo/" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td>Cheaply gets <em>temporary</em>, dynamic memory, esp. in hot loops.</td></tr>
<tr><td><span style="opacity:0">🚀</span>🍼⚖️</td><td><strong>Replace Allocator</strong> <a href="https://nical.github.io/posts/rust-custom-allocators.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td>On some platforms ext. allocator (e.g., <strong>mimalloc</strong> <a href="https://crates.io/crates/mimalloc" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a>) faster.</td></tr>
<tr><td></td><td><strong>Batch APIs</strong></td><td>Design APIs to handle multiple similar elements at once, e.g., slices.</td></tr>
<tr><td><span style="opacity:0">🚀🚀</span>⚖️</td><td><strong>SoA</strong> / <strong>AoSoA</strong> <a href="https://www.rustsim.org/blog/2020/03/23/simd-aosoa-in-nalgebra/" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td>Beyond that consider <em>struct of arrays</em> (SoA) and similar.</td></tr>
<tr><td>🚀<span style="opacity:0">🚀</span>⚖️</td><td><strong>SIMD</strong> <a href="https://doc.rust-lang.org/std/simd/index.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td><td>Inside (math heavy) batch APIs using SIMD can give 2x - 8x boost.</td></tr>
<tr><td></td><td><strong>Reduce Data Size</strong></td><td>Small types (e.g, <code class="language-rust"><span class="token keyword keyword-u8">u8</span></code> vs <code class="language-rust"><span class="token keyword keyword-u32">u32</span></code>, niches<a class="tooltip" title="Is missing an authoritative source or needs a better explanation. Please help!"><sup>?</sup></a>) and data have better cache use.</td></tr>
<tr><td></td><td><strong>Keep Data Nearby</strong> <a href="https://en.wikipedia.org/wiki/Data-oriented_design" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td>Storing often-used data <em>nearby</em> can improve memory access times.</td></tr>
<tr><td></td><td><strong>Pass by Size</strong> <a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#reason-45" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td>Small (2-3 words) structs best passed by value, larger by reference.</td></tr>
<tr><td><span style="opacity:0">🚀🚀</span>⚖️</td><td><strong>Async-Await</strong> <a href="https://rust-lang.github.io/async-book/01_getting_started/01_chapter.html" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td>If <em>parallel waiting</em> happens a lot (e.g., server I/O) <code class="language-rust"><span class="token keyword keyword-async">async</span></code> good idea.</td></tr>
<tr><td></td><td><strong>Threading</strong> <a href="https://doc.rust-lang.org/std/thread/index.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td><td>Threads allow you to perform <em>parallel work</em> on mult. items at once.</td></tr>
<tr><td>🚀</td><td>... <strong>in app</strong></td><td>Often good for apps, as lower wait times means better UX.</td></tr>
<tr><td>🚀<span style="opacity:0">🚀</span>⚖️</td><td>... <strong>inside libs</strong></td><td>Opaque <em>t.</em> use <em>inside</em> lib often not good idea, can be too opinionated.</td></tr>
<tr><td>🚀<span style="opacity:0">🚀</span></td><td>... <strong>for lib callers</strong></td><td>However, allowing <em>your user</em> to process <em>you</em> in parallel excellent idea.</td></tr>
<tr><td><span style="opacity:0">🚀</span>🍼</td><td><strong>Buffered I/O</strong> <a href="https://doc.rust-lang.org/std/io/index.html#bufreader-and-bufwriter" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> <a class="tooltip" title="Has outstanding utility."><sup>🔥</sup></a></td><td>Raw <code class="language-rust"><span class="token class-name">File</span></code> I/O highly inefficient w/o buffering.</td></tr>
<tr><td><span style="opacity:0">🚀</span>🍼<span style="opacity:0">🚀</span>⚠️</td><td><strong>Faster Hasher</strong> <a href="https://lib.rs/crates/seahash" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td>Default <code class="language-rust"><span class="token class-name">HashMap</span></code> <a href="https://doc.rust-lang.org/std/collections/struct.HashMap.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> hasher DoS attack-resilient but slow.</td></tr>
<tr><td><span style="opacity:0">🚀</span>🍼<span style="opacity:0">🚀</span>⚠️</td><td><strong>Faster RNG</strong></td><td>If you use a crypto RNG consider swapping for non-crypto.</td></tr>
<tr><td><span style="opacity:0">🚀🚀</span>⚖️</td><td><strong>Avoid Trait Objects</strong> <a href="https://stackoverflow.com/questions/28621980/what-are-the-actual-runtime-performance-costs-of-dynamic-dispatch" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td>T.O. reduce code size, but increase memory indirection.</td></tr>
<tr><td><span style="opacity:0">🚀🚀</span>⚖️</td><td><strong>Defer Drop</strong> <a href="https://abrams.cc/rust-dropping-things-in-another-thread" title="Third-party site (mainly used in conjunction with other symbols)."><sup>🔗</sup></a></td><td>Dropping <em>heavy</em> objects in dump-thread can free up current one.</td></tr>
<tr><td><span style="opacity:0">🚀</span>🍼<span style="opacity:0">🚀</span>⚠️</td><td><strong>Unchecked APIs</strong>  <a href="https://doc.rust-lang.org/std/?search=unchecked" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td><td>If you are 100% confident, <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> unchecked_ <span class="token punctuation">}</span></code> skips checks.</td></tr>
</tbody></table>
</div>
<footnotes>
<p>Entries marked 🚀 often come with a massive (&gt; 2x) performance boost, 🍼 are easy to implement even after-the-fact, ⚖️ might have costly side effects (e.g., memory, complexity), ⚠️ have special risks (e.g., security, correctness).</p>
</footnotes>
<div>&nbsp;</div>
<blockquote>
<p><strong>Profiling Tips</strong> <a class="tooltip" title="Author's opinion."><sup>💬</sup></a></p>
<p>Profilers are indispensable to identify hot spots in code. For the best experience add this to your <code class="ignore-auto language-bash">Cargo.toml</code>:</p>
<pre data-lang="cargo" class="language-rust" tabindex="0"><code class="language-rust" data-lang="cargo"><span class="token punctuation">[</span>profile<span class="token punctuation">.</span>release<span class="token punctuation">]</span>
debug <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre>
<p>Then do a <code class="language-rust">cargo build <span class="token operator">-</span><span class="token operator">-</span>release</code> and run the result with <a href="https://superluminal.eu/rust/"><strong>Superluminal</strong></a> (Windows) or <a href="https://en.wikipedia.org/wiki/Instruments_%28software%29"><strong>Instruments</strong></a> (macOS).
That said, there are many performance opportunities profilers won't find, but that need to be <em>designed in</em>.</p>
</blockquote>
<div>&nbsp;</div><h2 id="async-await-101">Async-Await 101<sup id="target-async-await-101" class="target"><a href="#async-await-101">url</a></sup><feedback element-id="async-await-101" id="feedback-async-await-101">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-async-await-101', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-async-await-101');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-async-await-101', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-async-await-101');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-async-await-101', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-async-await-101', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-async-await-101');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>If you are familiar with async / await in C# or TypeScript, here are some things to keep in mind:</p>
<tabs class="color-header orange">

<tab>
<input type="radio" id="tab-async-1" name="tab-async" checked="">
<label for="tab-async-1"><b>Basics</b></label>
<panel><div>
<table><thead><tr><th>Construct</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-async">async</span></code></td><td>Anything declared <code class="language-rust"><span class="token keyword keyword-async">async</span></code> always returns an <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Future</span><span class="token operator">&lt;</span><span class="token class-name">Output</span><span class="token operator">=</span>_<span class="token operator">&gt;</span></code>. <a href="https://doc.rust-lang.org/std/future/trait.Future.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Function <code class="language-rust">f</code> returns an <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Future</span><span class="token operator">&lt;</span><span class="token class-name">Output</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Function <code class="language-rust">f</code> returns an <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Future</span><span class="token operator">&lt;</span><span class="token class-name">Output</span><span class="token operator">=</span><span class="token class-name">S</span><span class="token operator">&gt;</span></code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token punctuation">{</span> x <span class="token punctuation">}</span></code></td><td>Transforms <code class="language-rust"><span class="token punctuation">{</span> x <span class="token punctuation">}</span></code> into an <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Future</span><span class="token operator">&lt;</span><span class="token class-name">Output</span><span class="token operator">=</span><span class="token class-name">X</span><span class="token operator">&gt;</span></code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-let">let</span> sm <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   </code></td><td>Calling <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> that is <code class="language-rust"><span class="token keyword keyword-async">async</span></code> will <strong>not</strong> execute <code class="language-rust">f</code>, but produce state machine <code class="language-rust">sm</code>. <sup>1</sup> <sup>2</sup></td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust">sm <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">{</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code></td><td>Likewise, does <strong>not</strong> execute the <code class="language-rust"><span class="token punctuation">{</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></code> block; produces state machine.</td></tr>
<tr><td><code class="language-rust">runtime<span class="token punctuation">.</span><span class="token function">block_on</span><span class="token punctuation">(</span>sm<span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Outside an <code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>, schedules <code class="language-rust">sm</code> to actually run. Would execute <code class="language-rust"><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. <sup>3</sup> <sup>4</sup></td></tr>
<tr><td><code class="language-rust">sm<span class="token punctuation">.</span><span class="token keyword keyword-await">await</span></code></td><td>Inside an <code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>, run <code class="language-rust">sm</code> until complete. Yield to runtime if <code class="language-rust">sm</code> not ready.</td></tr>
</tbody></table>
<footnotes>
<p><sup>1</sup> Technically <code class="language-rust"><span class="token keyword keyword-async">async</span></code> transforms following code into anonymous, compiler-generated state machine type; <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> instantiates that machine. <br>
<sup>2</sup> The state machine always <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Future</span></code>, possibly <code class="language-rust"><span class="token class-name">Send</span></code> &amp; co, depending on types used inside <code class="language-rust"><span class="token keyword keyword-async">async</span></code>. <br>
<sup>3</sup> State machine driven by worker thread invoking <code class="language-rust"><span class="token class-name">Future</span><span class="token punctuation">::</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> via runtime directly, or parent <code class="language-rust"><span class="token punctuation">.</span><span class="token keyword keyword-await">await</span></code> indirectly. <br>
<sup>4</sup> Rust doesn't come with runtime, need external crate instead, e.g., <a href="https://crates.io/crates/tokio">tokio</a>. Also, more helpers in <a href="https://github.com/rust-lang-nursery/futures-rs">futures crate</a>.</p>
</footnotes>
</div></panel></tab>

<tab>
<input type="radio" id="tab-async-2" name="tab-async">
<label for="tab-async-2"><b>Execution Flow</b></label>
<panel><div>
<p>At each <code class="language-rust">x<span class="token punctuation">.</span><span class="token keyword keyword-await">await</span></code>, state machine passes control to subordinate state machine <code class="language-rust">x</code>. At some point a low-level state machine invoked via <code class="language-rust"><span class="token punctuation">.</span><span class="token keyword keyword-await">await</span></code> might not be ready. In that the case worker
thread returns all the way up to runtime so it can drive another Future. Some time later the runtime:</p>
<ul>
<li><strong>might</strong> resume execution. It usually does, unless <code class="language-rust">sm</code> / <code class="language-rust"><span class="token class-name">Future</span></code> dropped.</li>
<li><strong>might</strong> resume with the previous worker <strong>or another</strong> worker thread (depends on runtime).</li>
</ul>
<p>Simplified diagram for code written inside an <code class="language-rust"><span class="token keyword keyword-async">async</span></code> block :</p>

<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<pre class="language-rust" tabindex="0"><code class="language-rust">       <span class="token function">consecutive_code</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token function">consecutive_code</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token function">consecutive_code</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">START</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token punctuation">-&gt;</span> x<span class="token punctuation">.</span><span class="token keyword keyword-await">await</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token punctuation">-&gt;</span> y<span class="token punctuation">.</span><span class="token keyword keyword-await">await</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token punctuation">-&gt;</span> <span class="token constant">READY</span>
<span class="token comment">// ^                          ^     ^                               Future&lt;Output=X&gt; ready -^</span>
<span class="token comment">// Invoked via runtime        |     |</span>
<span class="token comment">// or an external .await      |     This might resume on another thread (next best available),</span>
<span class="token comment">//                            |     or NOT AT ALL if Future was dropped.</span>
<span class="token comment">//                            |</span>
<span class="token comment">//                            Execute `x`. If ready: just continue execution; if not, return</span>
<span class="token comment">//                            this thread to runtime.</span>
</code></pre>
</div>
</div>
</div></panel></tab>

<tab>
<input type="radio" id="tab-async-3" name="tab-async">
<label for="tab-async-3"><b>Caveats</b> <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a> </label>
<panel><div>
<p>With the execution flow in mind, some considerations when writing code inside an <code class="language-rust"><span class="token keyword keyword-async">async</span></code> construct:</p>
<div class="color-header orange">
<table><thead><tr><th>Constructs <sup>1</sup></th><th>Explanation</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token function">sleep_or_block</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Definitely bad <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a>, never halt current thread, clogs executor.</td></tr>
<tr><td><code class="language-rust"><span class="token function">set_TL</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> x<span class="token punctuation">.</span><span class="token keyword keyword-await">await</span><span class="token punctuation">;</span> <span class="token constant">TL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Definitely bad <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a>, <code class="language-rust"><span class="token keyword keyword-await">await</span></code> may return from other thread, <a href="https://doc.rust-lang.org/std/macro.thread_local.html">thread local</a> invalid.</td></tr>
<tr><td><code class="language-rust">s<span class="token punctuation">.</span><span class="token function">no</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> x<span class="token punctuation">.</span><span class="token keyword keyword-await">await</span><span class="token punctuation">;</span> s<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Maybe bad <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a>, <code class="language-rust"><span class="token keyword keyword-await">await</span></code> will <a href="http://www.randomhacks.net/2019/03/09/in-nightly-rust-await-may-never-return/">not return</a> if <code class="language-rust"><span class="token class-name">Future</span></code> dropped while waiting. <sup>2</sup></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">Rc</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> x<span class="token punctuation">.</span><span class="token keyword keyword-await">await</span><span class="token punctuation">;</span> <span class="token function">rc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Non-<code class="language-rust"><span class="token class-name">Send</span></code> types prevent <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Future</span></code> from being <code class="language-rust"><span class="token class-name">Send</span></code>; less compatible.</td></tr>
</tbody></table>
</div>
<footnotes>
<p><sup>1</sup> Here we assume <code class="language-rust">s</code> is any non-local that could temporarily be put into an invalid state;
<code class="language-rust"><span class="token constant">TL</span></code> is any thread local storage, and that the <code class="language-rust"><span class="token keyword keyword-async">async</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> containing the code is written
without assuming executor specifics. <br>
<sup>2</sup> Since <a href="https://doc.rust-lang.org/std/ops/trait.Drop.html">Drop</a> is run in any case when <code class="language-rust"><span class="token class-name">Future</span></code> is dropped, consider using drop guard that cleans up / fixes application state if it has to be left in bad condition across <code class="language-rust"><span class="token punctuation">.</span><span class="token keyword keyword-await">await</span></code> points.</p>
</footnotes>
</div></panel></tab>

</tabs>
<div>&nbsp;</div><h2 id="closures-in-apis">Closures in APIs<sup id="target-closures-in-apis" class="target"><a href="#closures-in-apis">url</a></sup><feedback element-id="closures-in-apis" id="feedback-closures-in-apis">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-closures-in-apis', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-closures-in-apis');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-closures-in-apis', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-closures-in-apis');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-closures-in-apis', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-closures-in-apis', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-closures-in-apis');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>There is a subtrait relationship <code class="language-rust"><span class="token class-name">Fn</span></code> : <code class="language-rust"><span class="token class-name">FnMut</span></code> : <code class="language-rust"><span class="token class-name">FnOnce</span></code>. That means a closure that
implements <code class="language-rust"><span class="token class-name">Fn</span></code> <a href="https://doc.rust-lang.org/std/ops/trait.Fn.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> also implements <code class="language-rust"><span class="token class-name">FnMut</span></code> and <code class="language-rust"><span class="token class-name">FnOnce</span></code>. Likewise a closure
that implements <code class="language-rust"><span class="token class-name">FnMut</span></code> <a href="https://doc.rust-lang.org/std/ops/trait.FnMut.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a> also implements <code class="language-rust"><span class="token class-name">FnOnce</span></code>. <a href="https://doc.rust-lang.org/std/ops/trait.FnOnce.html" title="See this topic in 'The Rust Standard Library'."><sup class="mid">STD</sup></a></p>
<p>From a call site perspective that means:</p>
<div class="color-header green">
<table><thead><tr><th>Signature</th><th>Function <code class="language-rust">g</code> can call …</th><th>Function <code class="language-rust">g</code> accepts …</th></tr></thead><tbody>
<tr><td><code class="language-rust">g<span class="token operator">&lt;</span><span class="token class-name">F</span><span class="token punctuation">:</span> <span class="token class-name">FnOnce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>f<span class="token punctuation">:</span> <span class="token class-name">F</span><span class="token punctuation">)</span></code></td><td>… <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> at most once.</td><td><code class="language-rust"><span class="token class-name">Fn</span></code>, <code class="language-rust"><span class="token class-name">FnMut</span></code>, <code class="language-rust"><span class="token class-name">FnOnce</span></code></td></tr>
<tr><td><code class="language-rust">g<span class="token operator">&lt;</span><span class="token class-name">F</span><span class="token punctuation">:</span> <span class="token class-name">FnMut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword keyword-mut">mut</span> f<span class="token punctuation">:</span> <span class="token class-name">F</span><span class="token punctuation">)</span></code></td><td>… <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> multiple times.</td><td><code class="language-rust"><span class="token class-name">Fn</span></code>, <code class="language-rust"><span class="token class-name">FnMut</span></code></td></tr>
<tr><td><code class="language-rust">g<span class="token operator">&lt;</span><span class="token class-name">F</span><span class="token punctuation">:</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>f<span class="token punctuation">:</span> <span class="token class-name">F</span><span class="token punctuation">)</span></code></td><td>… <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> multiple times.</td><td><code class="language-rust"><span class="token class-name">Fn</span></code></td></tr>
</tbody></table>
</div>
<footnotes>
<p>Notice how <strong>asking</strong> for a <code class="language-rust"><span class="token class-name">Fn</span></code> closure as a function is
most restrictive for the caller; but <strong>having</strong> a <code class="language-rust"><span class="token class-name">Fn</span></code>
closure as a caller is most compatible with any function.</p>
</footnotes>
<div>&nbsp;</div>
<p>From the perspective of someone defining a closure:</p>
<div class="color-header green">
<table><thead><tr><th>Closure</th><th>Implements<sup>*</sup></th><th>Comment</th></tr></thead><tbody>
<tr><td><code class="language-rust"> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span> moved_s<span class="token punctuation">;</span> <span class="token punctuation">}</span> </code></td><td><code class="language-rust"><span class="token class-name">FnOnce</span></code></td><td>Caller must give up ownership of <code class="language-rust">moved_s</code>.</td></tr>
<tr><td><code class="language-rust"> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span> <span class="token operator">&amp;</span><span class="token keyword keyword-mut">mut</span> s<span class="token punctuation">;</span> <span class="token punctuation">}</span> </code></td><td><code class="language-rust"><span class="token class-name">FnOnce</span></code>, <code class="language-rust"><span class="token class-name">FnMut</span></code></td><td>Allows <code class="language-rust"><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to change caller's local state <code class="language-rust">s</code>.</td></tr>
<tr><td><code class="language-rust"> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span> <span class="token operator">&amp;</span>s<span class="token punctuation">;</span> <span class="token punctuation">}</span> </code></td><td><code class="language-rust"><span class="token class-name">FnOnce</span></code>, <code class="language-rust"><span class="token class-name">FnMut</span></code>, <code class="language-rust"><span class="token class-name">Fn</span></code></td><td>May not mutate state; but can share and reuse <code class="language-rust">s</code>.</td></tr>
</tbody></table>
</div>
<div class="footnotes">
<p><sup>*</sup> Rust <a href="https://doc.rust-lang.org/stable/reference/expressions/closure-expr.html">prefers capturing</a> by reference
(resulting in the most "compatible" <code class="language-rust"><span class="token class-name">Fn</span></code> closures from a caller perspective), but can be
forced to capture its environment by copy or move via the
<code class="language-rust"><span class="token keyword keyword-move">move</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> syntax.</p>
</div>
<div>&nbsp;</div>
<p>That gives the following advantages and disadvantages:</p>
<div class="color-header green">
<table><thead><tr><th>Requiring</th><th>Advantage</th><th>Disadvantage</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token class-name">F</span><span class="token punctuation">:</span> <span class="token class-name">FnOnce</span></code></td><td><span class="good">Easy to satisfy as caller.</span></td><td><span class="bad">Single use only, <code class="language-rust"><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> may call <code class="language-rust"><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> just once.</span></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">F</span><span class="token punctuation">:</span> <span class="token class-name">FnMut</span></code></td><td><span class="good">Allows <code class="language-rust"><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to change caller state.</span></td><td><span class="bad">Caller may not reuse captures during <code class="language-rust"><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</span></td></tr>
<tr><td><code class="language-rust"><span class="token class-name">F</span><span class="token punctuation">:</span> <span class="token class-name">Fn</span></code></td><td><span class="good">Many can exist at same time.</span></td><td><span class="bad">Hardest to produce for caller.</span></td></tr>
</tbody></table>
</div>
<div>&nbsp;</div>

<h2 id="unsafe-unsound-undefined">Unsafe, Unsound, Undefined<sup id="target-unsafe-unsound-undefined" class="target"><a href="#unsafe-unsound-undefined">url</a></sup><feedback element-id="unsafe-unsound-undefined" id="feedback-unsafe-unsound-undefined">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-unsafe-unsound-undefined', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-unsafe-unsound-undefined');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-unsafe-unsound-undefined', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-unsafe-unsound-undefined');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-unsafe-unsound-undefined', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-unsafe-unsound-undefined', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-unsafe-unsound-undefined');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>Unsafe leads to unsound. Unsound leads to undefined. Undefined leads to the dark side of the force.</p>
<tabs>

<tab>
<input type="radio" id="tab-unsafe-0" name="tab-unsafe" checked="">
<label for="tab-unsafe-0"><b>Safe Code</b></label>
<panel><div>
<p><strong>Safe Code</strong></p>
<ul>
<li><em>Safe</em> has narrow meaning in Rust, vaguely 'the <em>intrinsic</em> prevention of undefined behavior (UB)'.</li>
<li>Intrinsic means the language won't allow you to use <em>itself</em> to cause UB.</li>
<li>Making an airplane crash or deleting your database is not UB, therefore 'safe' from Rust's perspective.</li>
<li>Writing to <code class="language-rust"><span class="token operator">/</span>proc<span class="token operator">/</span><span class="token punctuation">[</span>pid<span class="token punctuation">]</span><span class="token operator">/</span>mem</code> to self-modify your code is also 'safe', resulting UB not caused <em>intrinsincally</em>.</li>
</ul>

<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<pre data-lang="rust" class="language-rust" tabindex="0"><code class="language-rust" data-lang="rust"><span class="token keyword keyword-let">let</span> y <span class="token operator">=</span> x <span class="token operator">+</span> x<span class="token punctuation">;</span>  <span class="token comment">// Safe Rust only guarantees the execution of this code is consistent with</span>
<span class="token function">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 'specification' (long story …). It does not guarantee that y is 2x</span>
                <span class="token comment">// (X::add might be implemented badly) nor that y is printed (Y::fmt may panic).</span>
</code></pre>
</div></div>
</div></panel></tab>

<tab>
<input type="radio" id="tab-unsafe-1" name="tab-unsafe">
<label for="tab-unsafe-1"><b>Unsafe Code</b></label>
<panel><div>
<p><strong>Unsafe Code</strong></p>
<ul>
<li>Code marked <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> has special permissions, e.g., to deref raw pointers, or invoke other <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> functions.</li>
<li>Along come special <strong>promises the author <em>must</em> uphold to the compiler</strong>, and the compiler <em>will</em> trust you.</li>
<li>By itself <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> code is not bad, but dangerous, and needed for FFI or exotic data structures.</li>
</ul>
<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<pre data-lang="rust" class="language-rust" tabindex="0"><code class="language-rust" data-lang="rust"><span class="token comment">// `x` must always point to race-free, valid, aligned, initialized u8 memory.</span>
<span class="token keyword keyword-unsafe">unsafe</span> <span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">unsafe_f</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">*</span><span class="token keyword keyword-mut">mut</span> <span class="token keyword keyword-u8">u8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">my_native_lib</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div></div></div></panel></tab>

<tab>
<input type="radio" id="tab-unsafe-2" name="tab-unsafe">
<label for="tab-unsafe-2"><b>Undefined Behavior</b></label>
<panel><div>
<p><strong>Undefined Behavior (UB)</strong></p>
<ul>
<li>As mentioned, <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> code implies <a href="https://doc.rust-lang.org/stable/reference/behavior-considered-undefined.html">special promises</a> to the compiler (it wouldn't need be <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> otherwise).</li>
<li>Failure to uphold any promise makes compiler produce fallacious code, execution of which leads to UB.</li>
<li>After triggering undefined behavior <em>anything</em> can happen. Insidiously, the effects may be 1) subtle, 2) manifest far away from the site of violation or 3) be visible only under certain conditions.</li>
<li>A seemingly <em>working</em> program (incl. any number of unit tests) is no proof UB code might not fail on a whim.</li>
<li>Code with UB is objectively dangerous, invalid and should never exist.</li>
</ul>
<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<pre data-lang="rust" class="language-rust" tabindex="0"><code class="language-rust" data-lang="rust"><span class="token keyword keyword-if">if</span> <span class="token function">maybe_true</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-let">let</span> r<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword keyword-u8">u8</span> <span class="token operator">=</span> <span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token operator">&amp;</span><span class="token operator">*</span><span class="token namespace">ptr<span class="token punctuation">::</span></span><span class="token function">null</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>   <span class="token comment">// Once this runs, ENTIRE app is undefined. Even if</span>
<span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>                                     <span class="token comment">// line seemingly didn't do anything, app might now run</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"the spanish inquisition"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// both paths, corrupt database, or anything else.</span>
<span class="token punctuation">}</span>
</code></pre>
</div></div></div></panel></tab>

<tab>
<input type="radio" id="tab-unsafe-3" name="tab-unsafe">
<label for="tab-unsafe-3"><b>Unsound Code</b></label>
<panel><div>
<p><strong>Unsound Code</strong></p>
<ul>
<li>Any <em>safe</em> Rust that could (even only theoretically) produce UB for any user input is always <strong>unsound</strong>.</li>
<li>As is <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> code that may invoke UB on its own accord by violating above-mentioned promises.</li>
<li>Unsound code is a stability and security risk, and violates basic assumption many Rust users have.</li>
</ul>
<div style="overflow:auto">
<div style="min-width:100%;width:650px">
<pre data-lang="rust" class="language-rust" tabindex="0"><code class="language-rust" data-lang="rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">unsound_ref</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span><span class="token keyword keyword-u128">u128</span> <span class="token punctuation">{</span>      <span class="token comment">// Signature looks safe to users. Happens to be</span>
    <span class="token keyword keyword-unsafe">unsafe</span> <span class="token punctuation">{</span> <span class="token namespace">mem<span class="token punctuation">::</span></span><span class="token function">transmute</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">}</span>         <span class="token comment">// ok if invoked with an &amp;u128, UB for practically</span>
<span class="token punctuation">}</span>                                        <span class="token comment">// everything else.</span>
</code></pre>
</div></div></div></panel></tab>
</tabs>
<div>&nbsp;</div>
<blockquote>
<p><strong>Responsible use of Unsafe</strong> <a class="tooltip" title="Author's opinion."><sup>💬</sup></a></p>
<ul>
<li>Do not use <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> unless you absolutely have to.</li>
<li>Follow the <a href="https://doc.rust-lang.org/nightly/nomicon/">Nomicon</a>, <a href="https://rust-lang.github.io/unsafe-code-guidelines/">Unsafe Guidelines</a>, <strong>always</strong> follow <strong>all</strong> safety rules, and <strong>never</strong> invoke <a href="https://doc.rust-lang.org/stable/reference/behavior-considered-undefined.html">UB</a>.</li>
<li>Minimize the use of <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> and encapsulate it in small, sound modules that are easy to review.</li>
<li>Never create unsound abstractions; if you can't encapsulate <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> properly, don't do it.</li>
<li>Each <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> unit should be accompanied by plain-text reasoning outlining its safety.</li>
</ul>
</blockquote>
<div>&nbsp;</div><h2 id="adversarial-code">Adversarial Code <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a><sup id="target-adversarial-code" class="target"><a href="#adversarial-code">url</a></sup><feedback element-id="adversarial-code" id="feedback-adversarial-code">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-adversarial-code', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-adversarial-code');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-adversarial-code', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-adversarial-code');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-adversarial-code', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-adversarial-code', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-adversarial-code');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p><em>Adversarial</em> code is <em>safe</em> 3<sup>rd</sup> party code that compiles but does not follow API <em>expectations</em>, and might interfere with your own (safety) guarantees.</p>
<div class="color-header redred">
<table><thead><tr><th>You author</th><th>User code may possibly …</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token keyword keyword-fn">fn</span> <span class="token function-definition function">g</span><span class="token operator">&lt;</span><span class="token class-name">F</span><span class="token punctuation">:</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>f<span class="token punctuation">:</span> <span class="token class-name">F</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></td><td>Unexpectedly panic.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-struct">struct</span> <span class="token type-definition class-name">S</span><span class="token operator">&lt;</span><span class="token class-name">X</span><span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></td><td>Implement <code class="language-rust"><span class="token class-name">T</span></code> badly, e.g., misuse <code class="language-rust"><span class="token class-name">Deref</span></code>, …</td></tr>
<tr><td><code class="language-rust"><span class="token macro property">macro_rules!</span> m <span class="token punctuation">{</span> … <span class="token punctuation">}</span></code></td><td>Do all of the above; call site can have <em>weird</em> scope.</td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Risk Pattern</th><th>Description</th></tr></thead><tbody>
<tr><td><code class="language-rust"><span class="token attribute attr-name">#[repr(packed)]</span></code></td><td>Packed alignment can make reference <code class="language-rust"><span class="token operator">&amp;</span>s<span class="token punctuation">.</span>x</code> invalid.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token namespace">std<span class="token punctuation">::</span></span>… <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>Any trait <code class="language-rust"><span class="token keyword keyword-impl">impl</span></code>, esp. <code class="language-rust"><span class="token namespace">std<span class="token punctuation">::</span></span>ops</code> may be broken. In particular …</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Deref</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>May randomly <code class="language-rust"><span class="token class-name">Deref</span></code>, e.g., <code class="language-rust">s<span class="token punctuation">.</span>x <span class="token operator">!=</span> s<span class="token punctuation">.</span>x</code>, or panic.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">PartialEq</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>May violate equality rules; panic.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Eq</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>May cause <code class="language-rust">s <span class="token operator">!=</span> s</code>; panic; must not use <code class="language-rust">s</code> in <code class="language-rust"><span class="token class-name">HashMap</span></code> &amp; co.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Hash</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>May violate hashing rules; panic; must not use <code class="language-rust">s</code> in <code class="language-rust"><span class="token class-name">HashMap</span></code> &amp; co.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Ord</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>May violate ordering rules; panic; must not use <code class="language-rust">s</code> in <code class="language-rust"><span class="token class-name">BTreeMap</span></code> &amp; co.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Index</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>May randomly index, e.g., <code class="language-rust">s<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> s<span class="token punctuation">[</span>x<span class="token punctuation">]</span></code>; panic.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">Drop</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></td><td>May run code or panic end of scope <code class="language-rust"><span class="token punctuation">{</span><span class="token punctuation">}</span></code>, during assignment <code class="language-rust">s <span class="token operator">=</span> new_s</code>.</td></tr>
<tr><td><code class="language-rust"><span class="token macro property">panic!</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></td><td>User code can panic <em>any</em> time, resulting in abort or unwind.</td></tr>
<tr><td><code class="language-rust"><span class="token function">catch_unwind</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> s<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span>panicky<span class="token punctuation">)</span><span class="token punctuation">)</span></code></td><td>Also, caller might force observation of broken state in <code class="language-rust">s</code>.</td></tr>
<tr><td><code class="language-rust"><span class="token keyword keyword-let">let</span> … <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></td><td>Variable name can affect order of <code class="language-rust"><span class="token class-name">Drop</span></code> execution. <sup>1</sup> <a class="tooltip" title="Intentionally wrong example or pitfall."><sup>🛑</sup></a></td></tr>
</tbody></table>
<footnotes>
<p><sup>1</sup> Notably, when you rename a variable from <code class="language-rust">_x</code> to <code class="language-rust">_</code> you will also change Drop behavior since you change semantics. A variable named <code class="language-rust">_x</code> will have <code class="language-rust"><span class="token class-name">Drop</span><span class="token punctuation">::</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> executed at the end of its scope, a variable named <code class="language-rust">_</code> can have it executed immediately on 'apparent' assignment ('apparent' because a binding named <code class="language-rust">_</code> means <strong>wildcard</strong> <a href="https://doc.rust-lang.org/reference/patterns.html#wildcard-pattern" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a> <em>discard this</em>, which will happen as soon as feasible, often right away)!</p>
</footnotes>
<div>&nbsp;</div></div>
<blockquote>
<p><strong>Implications</strong></p>
<ul>
<li>Generic code <strong>cannot be safe if safety depends on type cooperation</strong> w.r.t. most (<code class="language-rust"><span class="token namespace">std<span class="token punctuation">::</span></span></code>) traits.</li>
<li>If type cooperation is needed you must use <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> traits (prob. implement your own).</li>
<li>You must consider random code execution at unexpected places (e.g., re-assignments, scope end).</li>
<li>You may still be observable after a worst-case panic.</li>
</ul>
<p>As a corollary, <em>safe</em>-but-deadly code (e.g., <code class="language-rust">airplane_speed<span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>) should probably also follow these guides.</p>
</blockquote>
<div>&nbsp;</div><h2 id="api-stability">API Stability<sup id="target-api-stability" class="target"><a href="#api-stability">url</a></sup><feedback element-id="api-stability" id="feedback-api-stability">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-api-stability', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-api-stability');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-api-stability', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-api-stability');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-api-stability', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-api-stability', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-api-stability');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>When updating an API, these changes can break client code.<a href="https://rust-lang.github.io/rfcs/1105-api-evolution.html" title="See this topic in the official RFC documents."><sup class="expert">RFC</sup></a> Major changes (🔴) are <strong>definitely breaking</strong>, while minor changes (🟡) <strong>might be breaking</strong>:</p>
<div class="api-stability color-header">
<div>&nbsp;</div><table><thead><tr><th>Crates</th></tr></thead><tbody>
<tr><td>🔴 Making a crate that previously compiled for <em>stable</em> require <em>nightly</em>.</td></tr>
<tr><td>🟡 Altering use of Cargo features (e.g., adding or removing features).</td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Modules</th></tr></thead><tbody>
<tr><td>🔴 Renaming / moving / removing any public items.</td></tr>
<tr><td>🟡 Adding new public items, as this might break code that does <code class="language-rust"><span class="token keyword keyword-use">use</span> <span class="token namespace">your_crate<span class="token punctuation">::</span></span><span class="token operator">*</span></code>.</td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Structs</th></tr></thead><tbody>
<tr><td>🔴 Adding private field when all current fields public.</td></tr>
<tr><td>🔴 Adding public field when no private field exists.</td></tr>
<tr><td>🟡 Adding or removing private fields when at least one already exists (before and after the change).</td></tr>
<tr><td>🟡 Going from a tuple struct with all private fields (with at least one field) to a normal struct, or vice versa.</td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Enums</th></tr></thead><tbody>
<tr><td>🔴 Adding new variants; can be mitigated with early <code class="language-rust"><span class="token attribute attr-name">#[non_exhaustive]</span></code> <a href="https://doc.rust-lang.org/reference/attributes/type_system.html#the-non_exhaustive-attribute" title="See this topic in 'The Rust Reference'."><sup class="expert">REF</sup></a></td></tr>
<tr><td>🔴 Adding new fields to a variant.</td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Traits</th></tr></thead><tbody>
<tr><td>🔴 Adding a non-defaulted item, breaks all existing <code class="language-rust"><span class="token keyword keyword-impl">impl</span> <span class="token class-name">T</span> <span class="token keyword keyword-for">for</span> <span class="token class-name">S</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>.</td></tr>
<tr><td>🔴 Any non-trivial change to item signatures, will affect either consumers or implementors.</td></tr>
<tr><td>🟡 Adding a defaulted item; might cause dispatch ambiguity with other existing trait.</td></tr>
<tr><td>🟡 Adding a defaulted type parameter.</td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Traits</th></tr></thead><tbody>
<tr><td>🔴 Implementing any "fundamental" trait, as <em>not</em> implementing a fundamental trait already was a promise.</td></tr>
<tr><td>🟡 Implementing any non-fundamental trait; might also cause dispatch ambiguity.</td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Inherent Implementations</th></tr></thead><tbody>
<tr><td>🟡 Adding any inherent items; might cause clients to prefer that over trait fn and produce compile error.</td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Signatures in Type Definitions</th></tr></thead><tbody>
<tr><td>🔴 Tightening bounds (e.g., <code class="language-rust"><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span></code> to <code class="language-rust"><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Clone</span><span class="token operator">&gt;</span></code>).</td></tr>
<tr><td>🟡 Loosening bounds.</td></tr>
<tr><td>🟡 Adding defaulted type parameters.</td></tr>
<tr><td>🟡 Generalizing to generics.</td></tr>
</tbody></table>
<table><thead><tr><th>Signatures in Functions</th></tr></thead><tbody>
<tr><td>🔴 Adding / removing arguments.</td></tr>
<tr><td>🟡 Introducing a new type parameter.</td></tr>
<tr><td>🟡 Generalizing to generics.</td></tr>
</tbody></table>
<div>&nbsp;</div><table><thead><tr><th>Behavioral Changes</th></tr></thead><tbody>
<tr><td>🔴 / 🟡 <em>Changing semantics might not cause compiler errors, but might make clients do wrong thing.</em></td></tr>
</tbody></table>
</div>
<div>&nbsp;</div>

<noprint>
<hr>
<h1 id="misc">Misc<sup id="target-misc" class="target"><a href="#misc">url</a></sup></h1>
<h2 id="links-services">Links &amp; Services<sup id="target-links-services" class="target"><a href="#links-services">url</a></sup><feedback element-id="links-services" id="feedback-links-services">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-links-services', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-links-services');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-links-services', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-links-services');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-links-services', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-links-services', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-links-services');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<p>These are other great guides and tables.</p>
<div class="color-header lavender">

<table><thead><tr><th>Cheat Sheets</th><th>Description</th></tr></thead><tbody>
<tr><td><a href="https://github.com/ctjhoa/rust-learning">Rust Learning⭐</a></td><td>Probably the best collection of links about learning Rust.</td></tr>
<tr><td><a href="https://github.com/JasonShin/functional-programming-jargon.rs">Functional Jargon in Rust</a></td><td>A collection of functional programming jargon explained in Rust.</td></tr>
<tr><td><a href="https://danielkeep.github.io/itercheat_baked.html">Rust Iterator Cheat Sheet</a></td><td>Summary of iterator-related methods from <code class="language-rust"><span class="token namespace">std<span class="token punctuation">::</span></span>iter</code> and <code class="language-rust">itertools</code>.</td></tr>
</tbody></table>
</div>
<div>&nbsp;</div>
<p>All major Rust books developed by the community.</p>
<div class="color-header lavender">

<table><thead><tr><th>Books&nbsp;️📚</th><th>Description</th></tr></thead><tbody>
<tr><td><a href="https://doc.rust-lang.org/stable/book/">The Rust Programming Language</a></td><td>Standard introduction to Rust, <strong>start here if you are new</strong>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://rust-lang.github.io/api-guidelines/">API Guidelines</a></td><td>How to write idiomatic and re-usable Rust.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://rust-lang.github.io/async-book/">Asynchronous Programming</a>  <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td><td>Explains <code class="language-rust"><span class="token keyword keyword-async">async</span></code> code, <code class="language-rust"><span class="token class-name">Futures</span></code>, …</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://rust-unofficial.github.io/patterns//">Design Patterns</a></td><td>Idioms, Patterns, Anti-Patterns.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://doc.rust-lang.org/nightly/edition-guide/">Edition Guide</a></td><td>Working with Rust 2015, Rust 2018, and beyond.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://nrc.github.io/error-docs/intro.html">Error Handling</a></td><td>Language features, libraries, and writing good error code.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://rustc-dev-guide.rust-lang.org/index.html">Guide to Rustc Development</a></td><td>Explains how the compiler works internally.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://veykril.github.io/tlborm/introduction.html">Little Book of Rust Macros</a></td><td>Community's collective knowledge of Rust macros.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://doc.rust-lang.org/stable/reference/">Reference</a> <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td><td>Reference of the Rust language.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://rust-lang.github.io/rfcs/">RFC Book</a></td><td>Look up accepted RFCs and how they change the language.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://nnethercote.github.io/perf-book/">Performance Book</a></td><td>Techniques to improve the speed and memory usage.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://rust-lang-nursery.github.io/rust-cookbook/">Rust Cookbook</a></td><td>Collection of simple examples that demonstrate good practices.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://dhghomon.github.io/easy_rust/Chapter_3.html">Rust in Easy English</a></td><td>Explains concepts in simplified English, <strong>good alternative start</strong>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://www.chiark.greenend.org.uk/~ianmdlvl/rust-polyglot/index.html">Rust for the Polyglot Programmer</a></td><td>A guide for the experienced programmer.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://doc.rust-lang.org/stable/rustdoc/">Rustdoc Book</a></td><td>Tips how to customize <code class="language-rust">cargo doc</code> and <code class="language-rust">rustdoc</code>.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://doc.rust-lang.org/nomicon/">Rustonomicon</a></td><td>Dark Arts of Advanced and Unsafe Rust Programming.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://rust-lang.github.io/unsafe-code-guidelines/">Unsafe Code Guidelines</a>  <a class="tooltip" title="Unstable, needs 'nightly' compiler."><sup>🚧</sup></a></td><td>Concise information about writing <code class="language-rust"><span class="token keyword keyword-unsafe">unsafe</span></code> code.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://doc.rust-lang.org/unstable-book/index.html">Unstable Book</a></td><td>Information about unstable items, e.g, <code class="language-rust"><span class="token attribute attr-name">#![feature(…)]</span></code>.</td></tr>
<tr><td><a href="https://doc.rust-lang.org/cargo/">The Cargo Book</a></td><td>How to use <code class="language-rust">cargo</code> and write <code class="language-rust"><span class="token class-name">Cargo</span><span class="token punctuation">.</span>toml</code>.</td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/cli-wg/">The CLI Book</a></td><td>Information about creating CLI tools.</td></tr>
<tr><td><a href="https://docs.rust-embedded.org/book/intro/index.html">The Embedded Book</a></td><td>Working with embedded and <code class="language-rust"><span class="token attribute attr-name">#![no_std]</span></code> devices.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://docs.rust-embedded.org/embedonomicon/">The Embedonomicon</a></td><td>First <code class="language-rust"><span class="token attribute attr-name">#![no_std]</span></code> from scratch on a Cortex-M.</td></tr>
<tr><td><a href="https://rustwasm.github.io/docs/book/">The WebAssembly Book</a></td><td>Working with the web and producing <code class="language-rust"><span class="token punctuation">.</span>wasm</code> files.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://rustwasm.github.io/docs/wasm-bindgen/">The <code class="language-rust">wasm<span class="token operator">-</span>bindgen</code> Guide</a></td><td>How to bind Rust and JavaScript APIs in particular.</td></tr>
</tbody></table>
</div>
<footnotes>
<p>For more inofficial books see <a href="https://lborb.github.io/book/title-page.html">Little Book of Rust Books</a>.</p>
</footnotes>


<div>&nbsp;</div>
<p>Comprehensive lookup tables for common components.</p>
<div class="color-header lavender">

<table><thead><tr><th>Tables&nbsp;📋</th><th>Description</th></tr></thead><tbody>
<tr><td><a href="https://forge.rust-lang.org/">Rust Forge</a></td><td>Lists release train and links for people working on the compiler.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://doc.rust-lang.org/rustc/platform-support.html">Rust Platform Support</a></td><td>All supported platforms and their Tier.</td></tr>
<tr><td><span class="hidemobile">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="https://rust-lang.github.io/rustup-components-history/">Rust Component History</a></td><td>Check <strong>nightly</strong> status of various Rust tools for a platform.</td></tr>
<tr><td><a href="https://rust-lang.github.io/rust-clippy/master/">ALL the Clippy Lints</a></td><td>All the <a href="https://github.com/rust-lang/rust-clippy"><strong>clippy</strong></a> lints you might be interested in.</td></tr>
<tr><td><a href="https://rust-lang.github.io/rustfmt/">Configuring Rustfmt</a></td><td>All <a href="https://github.com/rust-lang/rustfmt"><strong>rustfmt</strong></a> options you can use in <code class="language-rust"><span class="token punctuation">.</span>rustfmt<span class="token punctuation">.</span>toml</code>.</td></tr>
<tr><td><a href="https://doc.rust-lang.org/error-index.html">Compiler Error Index</a></td><td>Ever wondered what <code class="language-rust"><span class="token constant">E0404</span></code> means?</td></tr>
</tbody></table>
</div>
<div>&nbsp;</div>
<p>Online services which provide information or tooling.</p>
<div class="color-header lavender">

<table><thead><tr><th>Services&nbsp;⚙️</th><th>Description</th></tr></thead><tbody>
<tr><td><a href="https://crates.io/">crates.io</a></td><td>All 3<sup>rd</sup> party libraries for Rust.</td></tr>
<tr><td><a href="https://std.rs/">std.rs</a></td><td>Shortcut to <code class="language-rust">std</code> documentation.</td></tr>
<tr><td><a href="https://stdrs.dev/">stdrs.dev</a></td><td>Shortcut to <code class="language-rust">std</code> documentation including compiler-internal modules. <a class="tooltip" title="Esoteric, most people will not need to bother with this in years."><sup style="font-size:100%;position:relative;top:-4px">🝖</sup></a></td></tr>
<tr><td><a href="https://docs.rs/">docs.rs</a></td><td>Documentation for 3<sup>rd</sup> party libraries, automatically generated from source.</td></tr>
<tr><td><a href="https://lib.rs/">lib.rs</a></td><td>Unofficial overview of quality Rust libraries and applications.</td></tr>
<tr><td><a href="https://caniuse.rs/">caniuse.rs</a></td><td>Check which Rust version introduced or stabilized a feature.</td></tr>
<tr><td><a href="https://releases.rs/">releases.rs</a></td><td>Release notes for previous and upcoming versions.</td></tr>
<tr><td><a href="https://play.rust-lang.org/">Rust Playground</a></td><td>Try and share snippets of Rust code.</td></tr>
</tbody></table>
</div>
<div>&nbsp;</div><h2 id="printing-pdf">Printing &amp; PDF<sup id="target-printing-pdf" class="target"><a href="#printing-pdf">url</a></sup><feedback element-id="printing-pdf" id="feedback-printing-pdf">
                <button-row>
                    <feedback-button class="good" onmouseover="feedback_detail_visibility('feedback-printing-pdf', 'none')" onclick="javascript:feedback_send_mood('good', 'feedback-printing-pdf');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>
                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('feedback-printing-pdf', 'none')" onclick="javascript:feedback_send_mood('bad', 'feedback-printing-pdf');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>
                    <feedback-button onmouseover="feedback_detail_visibility('feedback-printing-pdf', 'inherit')"><the-button>✏️</the-button></feedback-button>
                </button-row>
                <feedback-form>
                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('feedback-printing-pdf', this);" placeholder="Tell us more!"></textarea>
                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>
                    <controls>
                        <result></result>
                        <a href="javascript:feedback_send_detailed('feedback-printing-pdf');">Submit</a>
                    </controls>
                </feedback-form>
            </feedback></h2>
<blockquote>
<p>Want this Rust cheat sheet as a PDF? Download the <a href="https://cheats.rs/dl/rust_cheat_sheet_a4.pdf"><b>latest PDF here</b></a>. Alternatively, generate it yourself via <i>File &gt; Print</i> and then "Save as PDF" (works great in Chrome, has some issues in Firefox).</p>
</blockquote>
</noprint>
<footer>
<p><a href="https://xr.io">Ralf Biedert</a>, 2024 — <a href="https://cheats.rs">cheats.rs</a></p>
<noprint>
<p><a href="https://cheats.rs/legal">Legal &amp; Privacy</a> - <a href="https://cheats.rs/faq">FAQ</a></p>
</noprint>
</footer>

            </div>
        </div>
    </div>

    
    

    
    
    <script type="text/javascript">var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,a={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof r?new r(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var a,r;switch(n=n||{},o.util.type(t)){case"Object":if(r=o.util.objId(t),n[r])return n[r];for(var s in a={},n[r]=a,t)t.hasOwnProperty(s)&&(a[s]=e(t[s],n));return a;case"Array":return r=o.util.objId(t),n[r]?n[r]:(a=[],n[r]=a,t.forEach((function(t,o){a[o]=e(t,n)})),a);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(a){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(a.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var a="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(a))return!1;e=e.parentElement}return!!n}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var a in t)n[a]=t[a];return n},insertBefore:function(e,t,n,a){var r=(a=a||o.languages)[e],s={};for(var i in r)if(r.hasOwnProperty(i)){if(i==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(i)||(s[i]=r[i])}var u=a[e];return a[e]=s,o.languages.DFS(o.languages,(function(t,n){n===u&&t!=e&&(this[t]=s)})),s},DFS:function e(t,n,a,r){r=r||{};var s=o.util.objId;for(var i in t)if(t.hasOwnProperty(i)){n.call(t,i,t[i],a||i);var l=t[i],u=o.util.type(l);"Object"!==u||r[s(l)]?"Array"!==u||r[s(l)]||(r[s(l)]=!0,e(l,n,i,r)):(r[s(l)]=!0,e(l,n,null,r))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var a={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",a),a.elements=Array.prototype.slice.apply(a.container.querySelectorAll(a.selector)),o.hooks.run("before-all-elements-highlight",a);for(var r,s=0;r=a.elements[s++];)o.highlightElement(r,!0===t,a.callback)},highlightElement:function(t,n,a){var r=o.util.getLanguage(t),s=o.languages[r];o.util.setLanguage(t,r);var i=t.parentElement;i&&"pre"===i.nodeName.toLowerCase()&&o.util.setLanguage(i,r);var l={element:t,language:r,grammar:s,code:t.textContent};function u(e){l.highlightedCode=e,o.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o.hooks.run("after-highlight",l),o.hooks.run("complete",l),a&&a.call(l.element)}if(o.hooks.run("before-sanity-check",l),(i=l.element.parentElement)&&"pre"===i.nodeName.toLowerCase()&&!i.hasAttribute("tabindex")&&i.setAttribute("tabindex","0"),!l.code)return o.hooks.run("complete",l),void(a&&a.call(l.element));if(o.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var d=new Worker(o.filename);d.onmessage=function(e){u(e.data)},d.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else u(o.highlight(l.code,l.grammar,l.language));else u(o.util.encode(l.code))},highlight:function(e,t,n){var a={code:e,grammar:t,language:n};if(o.hooks.run("before-tokenize",a),!a.grammar)throw new Error('The language "'+a.language+'" has no grammar.');return a.tokens=o.tokenize(a.code,a.grammar),o.hooks.run("after-tokenize",a),r.stringify(o.util.encode(a.tokens),a.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var a in n)t[a]=n[a];delete t.rest}var o=new l;return u(o,o.head,e),i(e,o,t,o.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var a,r=0;a=n[r++];)a(t)}},Token:r};function r(e,t,n,a){this.type=e,this.content=t,this.alias=n,this.length=0|(a||"").length}function s(e,t,n,a){e.lastIndex=t;var o=e.exec(n);if(o&&a&&o[1]){var r=o[1].length;o.index+=r,o[0]=o[0].slice(r)}return o}function i(e,t,n,a,l,c){for(var g in n)if(n.hasOwnProperty(g)&&n[g]){var f=n[g];f=Array.isArray(f)?f:[f];for(var h=0;h<f.length;++h){if(c&&c.cause==g+","+h)return;var p=f[h],m=p.inside,y=!!p.lookbehind,b=!!p.greedy,k=p.alias;if(b&&!p.pattern.global){var _=p.pattern.toString().match(/[imsuy]*$/)[0];p.pattern=RegExp(p.pattern.source,_+"g")}for(var v=p.pattern||p,w=a.next,S=l;w!==t.tail&&!(c&&S>=c.reach);S+=w.value.length,w=w.next){var x=w.value;if(t.length>e.length)return;if(!(x instanceof r)){var A,T=1;if(b){if(!(A=s(v,S,e,y))||A.index>=e.length)break;var E=A.index,I=A.index+A[0].length,L=S;for(L+=w.value.length;E>=L;)L+=(w=w.next).value.length;if(S=L-=w.value.length,w.value instanceof r)continue;for(var P=w;P!==t.tail&&(L<I||"string"==typeof P.value);P=P.next)T++,L+=P.value.length;T--,x=e.slice(S,L),A.index-=S}else if(!(A=s(v,0,x,y)))continue;E=A.index;var C=A[0],M=x.slice(0,E),N=x.slice(E+C.length),R=S+x.length;c&&R>c.reach&&(c.reach=R);var q=w.prev;if(M&&(q=u(t,q,M),S+=M.length),d(t,q,T),w=u(t,q,new r(g,m?o.tokenize(C,m):C,k,C)),N&&u(t,w,N),T>1){var z={cause:g+","+h,reach:R};i(e,t,n,w.prev,S,z),c&&z.reach>c.reach&&(c.reach=z.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function u(e,t,n){var a=t.next,o={value:n,prev:t,next:a};return t.next=o,a.prev=o,e.length++,o}function d(e,t,n){for(var a=t.next,o=0;o<n&&a!==e.tail;o++)a=a.next;t.next=a,a.prev=t,e.length-=o}if(e.Prism=o,r.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var a="";return t.forEach((function(t){a+=e(t,n)})),a}var r={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(r.classes,s):r.classes.push(s)),o.hooks.run("wrap",r);var i="";for(var l in r.attributes)i+=" "+l+'="'+(r.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+r.tag+' class="'+r.classes.join(" ")+'"'+i+">"+r.content+"</"+r.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),a=n.language,r=n.code,s=n.immediateClose;e.postMessage(o.highlight(r,o.languages[a],a)),s&&e.close()}),!1),o):o;var c=o.util.currentScript();function g(){o.manual||o.highlightAll()}if(c&&(o.filename=c.src,c.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var f=document.readyState;"loading"===f||"interactive"===f&&c&&c.defer?document.addEventListener("DOMContentLoaded",g):window.requestAnimationFrame?window.requestAnimationFrame(g):window.setTimeout(g,16)}return o}(_self);"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism),function(e){for(var t="/\\*(?:[^*/]|\\*(?!/)|/(?!\\*)|<self>)*\\*/",n=0;n<2;n++)t=t.replace(/<self>/g,(function(){return t}));t=t.replace(/<self>/g,(function(){return"[^\\s\\S]"})),e.languages.rust={comment:[{pattern:RegExp("(^|[^\\\\])"+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/[bc]?"(?:\\[\s\S]|[^\\"])*"|[bc]?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:16|32|64|128)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f16|f32|f64|f128|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(Prism),void 0!==Prism&&Prism.hooks.add("wrap",(function(e){"keyword"===e.type&&e.classes.push("keyword-"+e.content)})),void 0!==Prism&&"undefined"!=typeof document&&document.createRange&&(Prism.plugins.KeepMarkup=!0,Prism.hooks.add("before-highlight",(function(e){if(e.element.children.length&&Prism.util.isActive(e.element,"keep-markup",!0)){var t=Prism.util.isActive(e.element,"drop-tokens",!1),n=0,a=[];r(e.element),a.length&&(e.keepMarkup=a)}function o(e){if(function(e){return!t||"span"!==e.nodeName.toLowerCase()||!e.classList.contains("token")}(e)){var o={element:e,posOpen:n};a.push(o),r(e),o.posClose=n}else r(e)}function r(e){for(var t=0,a=e.childNodes.length;t<a;t++){var r=e.childNodes[t];1===r.nodeType?o(r):3===r.nodeType&&(n+=r.data.length)}}})),Prism.hooks.add("after-highlight",(function(e){if(e.keepMarkup&&e.keepMarkup.length){var t=function(e,n){for(var a=0,o=e.childNodes.length;a<o;a++){var r=e.childNodes[a];if(1===r.nodeType){if(!t(r,n))return!1}else 3===r.nodeType&&(!n.nodeStart&&n.pos+r.data.length>n.node.posOpen&&(n.nodeStart=r,n.nodeStartPos=n.node.posOpen-n.pos),n.nodeStart&&n.pos+r.data.length>=n.node.posClose&&(n.nodeEnd=r,n.nodeEndPos=n.node.posClose-n.pos),n.pos+=r.data.length);if(n.nodeStart&&n.nodeEnd){var s=document.createRange();return s.setStart(n.nodeStart,n.nodeStartPos),s.setEnd(n.nodeEnd,n.nodeEndPos),n.node.element.innerHTML="",n.node.element.appendChild(s.extractContents()),s.insertNode(n.node.element),s.detach(),!1}}return!0};e.keepMarkup.forEach((function(n){t(e.element,{node:n,pos:0})})),e.highlightedCode=e.element.innerHTML}})));const API_ENDPOINT="https://api.cheats.rs",SURVEY_KEY="survey2021";let codes_rust=document.querySelectorAll("code:not(.ignore-auto)"),subtitle_index=0,all_tabs_expanded=!1;const SKIP_FIRST_N_SUBTITLES=2,subtitles=["2. May 2024","de4409a","Same low price, 20% more content.","Recommended by 9 out of 10 dentists.","World's best cheat sheet according to its authors.","This site was tested on animals and got 4.5 stars.","Like Rust in a nutshell, for people with allergies.","All the things you ever wanted to know. And more.","A cargo-cult documentary.","Will the last person switch on night mode?","A collaboration between Zoo Berlin and Olympia Typewriters.","Contains 2lbs of Rust per 1lbs of cheat sheet.","Prints best on Dunder Mifflin 24lbs cream letter stock.","QA'ed with weekly 4h quality spot checks from Creed B.","May contain R-rated content.","Turned out the Señor Developer job wasn't much of a pay bump.","Testing Bekenstein's limit one entry a time.","Seven new dirty words: Undefined, runtime, inheritance, globals, unwrap, allocation, RIIR. JK on the last one.","After Rust, learning German will be so much easier.","Night mode is dark and full of errors.","^Z^Z^Z^Z^X^quit:help! ... how do I exit this thing?","If it smells like rust and tastes like rust, it's probably not Rust.","The R in ASMR stands for Rust.","Chuck Norris doesn't fear concurrency. Concurrency fears Chuck Norris.","Teaching endianness since 1820.","Snugly fits the Bayeux tapestry.","If a crab and a language love each other very much ...","I, for one, welcome our new AI overlords.","As seen on interdimensional cable.","I'm sure there's an X-File on the never type.","${jndi:ldap://rustup.rs}","A fractal guide to amorphous complexity.","Roses did rust before it was cool.","Blazingly fa... 🤚😣","The sheet that really ties the room together.","Programming Rust be like 'Computer says no ...'","Did you know, the Eiffel Tower is slowly rewritten in rust?","Last time I wrote C feels like a lifetime ago ...","Can we borrow a minute of your time?","Even for the Internet it's ... pretty shocking.","According to Einstein, humans use only 10% of their programming language.","Fun fact, Rust appeared July 7, 2010, giving it the zodiac of the Crab ♋︎.","Rumor has it there are languages with no concept of time.","Tired of C++? Call (505) 142-4205 and request new dust filters for your Hoover Max Pressure Pro Model 60.","Got crabs? Visit std.rs!","World's worst cheat sheet, with the exception of all others.","In a world of Rust, The Matrix would have been really short and depressing.","Florida man transmutes lifetime, crashes app.","It's pronounced Cheat She<span style='font-size:95%'>e</span><span style='font-size:90%'>e</span><span style='font-size:85%'>e</span><span style='font-size:80%'>e</span><span style='font-size:75%'>e</span><span style='font-size:70%'>t</span><span style='font-size:70%'>.</span>","Arrival plot twist: the Heptapods needed help with Rust.","The language with more drama than your prom.","Also known as the Rust™️<sup>©️®️,not officially affiliated</sup> Language Cheat Sheet","This is not the greatest cheat sheet in the world, no. This is just a tribute.","To improve CI times this site will only ship as a precompiled binary starting next week.","Aquaaaa<sup>riiiiiii<sup style='font-size:85%;'>uuuuuuuuuuus</sup></sup>","Rust is fast, somewhere between a snake and a mongoose.",'"In the jungle, the mighty jungle, the lion sleeps tonight" ... Chorus: "Async-await, async-await ..."',"Measured at 3.6 roentgen.","It's like standing on the shoulders of hobbits.","Everytime you type <span class='token keyword'>unsafe</span> the compiler secretly hums the James Bond theme.","Fn traits ... man, I tell ya'","You'll get what you pay for.","Look, nobody ever defined a size limit for cheat sheets.","You could say my C++ skills have gotten a bit ... rusty."],feedback_blacklist=["","behind-the-scenes","data-types","numeric-types-ref","textual-types-ref","standard-library","traits","tooling","coding-guides","misc"];function show_playground(e){let t=document.getElementById("hellostatic"),n=document.getElementById("helloplay"),a=document.getElementById("helloctrl"),o=document.getElementById("helloinfo");e?(t.style.display="none",o.style.display="block",n.innerHTML="<iframe src='https://play.rust-lang.org/' style='width:100%; height:500px;'></iframe>",a.innerHTML="<a href='javascript:show_playground(false);'>⏹️ Stop Editor</a>"):(t.style.display="block",o.style.display="none",n.innerHTML="",a.innerHTML="<a href='javascript:show_playground(true);'>▶️ Edit & Run</a>")}function get_browser_night_mode(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"night":"day"}function set_body_night_mode(e){let t=document.getElementsByTagName("body")[0];"night"===e?(t.classList.add("night-mode"),t.classList.remove("day-mode")):(t.classList.remove("night-mode"),t.classList.add("day-mode"))}function toggle_night_mode(){let e=storage_get("night-mode")||get_browser_night_mode();e="night"===e?"day":"night",storage_set("night-mode",e),set_body_night_mode(e)}function toggle_ligatures(){let e;document.getElementsByTagName("body")[0];codes_rust&&0!=codes_rust.length&&("common-ligatures"===codes_rust[0].style.fontVariantLigatures?(e="none",storage_set("ligatures","no-ligatures")):(e="common-ligatures",storage_set("ligatures","ligatures")),codes_rust.forEach((t=>{t.style.fontVariantLigatures=e})))}function toggle_legend(){let e=document.querySelectorAll("symbol-legend.short")[0],t=document.querySelectorAll("symbol-legend.long")[0],n=document.querySelectorAll("blockquote.legend div a")[0];""==e.style.display||"block"==e.style.display?(e.style.display="none",t.style.display="block",n.text="➖"):(e.style.display="block",t.style.display="none",n.text="➕")}function expand_all(){let e=document.querySelectorAll("tab");for(let t of e)t.style.display="block";let t=document.querySelectorAll("tab > panel");for(let e of t)e.style.display="initial";let n=document.querySelectorAll("tab > label");for(let e of n)e.style.display="inline-block",e.style.cursor="initial",e.style.marginTop="10px";let a=document.querySelectorAll("tab > input");for(let e of a)e.checked=!1;let o=document.querySelectorAll("lifetime-section > explanation");for(let e of o)e.style.display="inherit";let r=document.querySelectorAll("generics-section > description");for(let e of r)e.style.display="inherit"}function storage_set(e,t){localStorage&&localStorage.setItem(e,t)}function storage_get(e){return!!localStorage&&localStorage.getItem(e)}function set_survey(e){let t=document.getElementsByClassName("survey");for(let n of t)n.style.display=e;storage_set(SURVEY_KEY,e)}function advance_subtitle(e){let t=document.getElementById("subtitle"),n="UNDEFINED";if(e)n=subtitles[e],subtitle_index=e;else{let e=(subtitle_index+1)%subtitles.length;n=subtitles[e],!1===n[1]?(subtitle_index=e,n=n[0]):(e%=SKIP_FIRST_N_SUBTITLES,subtitle_index=e,n=subtitles[e])}t.innerHTML=n}function random_quote(){let e=!1;for(;!1===e;){let t=Math.random();e=SKIP_FIRST_N_SUBTITLES+Math.floor((subtitles.length-SKIP_FIRST_N_SUBTITLES)*t),!1===subtitles[e][1]&&(e=!1)}advance_subtitle(e)}function feedback_post(e,t,n){let a=new XMLHttpRequest;a.open("POST",API_ENDPOINT+e,!0),a.setRequestHeader("Content-Type","application/json; charset=UTF-8"),a.send(JSON.stringify(t)),a.onerror=e=>{n&&n("error")},a.onload=e=>{n&&n()}}function feedback_send_detailed(e){let t=document.getElementById(e),n=t.getAttribute("element-id"),a=t.querySelectorAll("textarea")[0];feedback_post("/feedback/detail",{text:a.value,section:n},(e=>{let n=t.querySelectorAll("result")[0];e?(n.innerHTML="Failed",n.style.color="red"):(a.value=null,n.innerHTML="Success",n.style.color="green",n.style.left="40px",n.style.opacity="0.0",setTimeout((()=>{n.innerHTML="",n.style.color="black",n.style.left="0px",n.style.opacity="1.0"}),500))}))}function feedback_send_mood(e,t){let n=document.getElementById(t),a=n.getAttribute("element-id"),o=n.querySelectorAll(`feedback-button.${e} feedback-feedback`)[0];o.style.visibility="inherit",o.style.top="-3em",o.style.opacity="0.0",feedback_post("/feedback/mood",{mood:e,section:a}),setTimeout((()=>{o.style.visibility="hidden",o.style.top="-0.5em",o.style.opacity="0.5"}),300)}function feedback_detail_visibility(e,t){document.getElementById(e).querySelectorAll("feedback-form")[0].style.display=t}function feedback_quick_submit(e){event.ctrlKey&&13==event.keyCode&&feedback_send_detailed(e)}function feedback_attach_buttons(e){for(let t of e){let e=document.getElementsByTagName(t);for(let t of e){let e=t.id,n="feedback-"+e,a=document.createElement("feedback");feedback_blacklist.includes(e)||(a.setAttribute("element-id",e),a.id=n,a.innerHTML=`\n                <button-row>\n                    <feedback-button class="good" onmouseover="feedback_detail_visibility('${n}', 'none')" onclick="javascript:feedback_send_mood('good', '${n}');"><feedback-feedback>💗</feedback-feedback><the-button>😊</the-button></feedback-button>\n                    <feedback-button class="bad" onmouseover="feedback_detail_visibility('${n}', 'none')" onclick="javascript:feedback_send_mood('bad', '${n}');"><feedback-feedback>💩</feedback-feedback><the-button>😠</the-button></feedback-button>\n                    <feedback-button onmouseover="feedback_detail_visibility('${n}', 'inherit')"><the-button>✏️</the-button></feedback-button>\n                </button-row>\n                <feedback-form>\n                    <textarea maxlength="2048" onkeydown="javascript:feedback_quick_submit('${n}', this);" placeholder="Tell us more!"></textarea>\n                    <hint>See <a href="/legal">privacy policy</a>; also <b>CTRL-ENTER</b> submits. </hint>\n                    <controls>\n                        <result></result>\n                        <a href="javascript:feedback_send_detailed('${n}');">Submit</a>\n                    </controls>\n                </feedback-form>\n            `,a.onmouseleave=()=>{setTimeout((()=>{document.querySelectorAll(`#${n}:hover`).length>0||feedback_detail_visibility(n,"none")}),150)},t.appendChild(a))}}}function memory_bars_expand_on_click(){let e=document.querySelectorAll("memory-row");for(let t of e)t.onclick=e=>{let t=e.target.closest("lifetime-section").getElementsByTagName("explanation")[0];t&&(t.style.display&&"none"!=t.style.display?t.style.display="none":t.style.display="inherit")}}function generics_section_expand_on_click(){let e=document.querySelectorAll("generics-section > header");for(let t of e)t.onclick=e=>{let n=t.parentElement.querySelector("description");n.style.display&&"none"!=n.style.display?(console.log(2),n.style.display="none"):(console.log(1),n.style.display="inherit")}}codes_rust.forEach((e=>{e.className="language-rust"})),window.onload=()=>{try{if("#_print"==window.location.hash)toggle_ligatures(),expand_all(),set_body_night_mode("day");else{let e=storage_get("ligatures"),t=storage_get("night-mode")||get_browser_night_mode();feedback_attach_buttons(["h2","h3","h4"]),Math.random()<.15&&random_quote(),"ligatures"===e&&toggle_ligatures(),set_body_night_mode(t),memory_bars_expand_on_click(),generics_section_expand_on_click()}}catch(e){console.log(e)}};</script>



</body></html>