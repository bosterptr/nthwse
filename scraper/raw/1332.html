<html xmlns="https://www.w3.org/1999/xhtml" lang="en"><head>

<!-- TO DO : See what libraries are needed when no generator is loaded -->

<!-- Google Fonts : display=block,swap,fallback,optional -->

<link rel="preconnect" href="https://fonts.googleapis.com"> 
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""> 
<link href="https://fonts.googleapis.com/css2?family=Kavivanar&amp;family=Merriweather+Sans:ital,wght@0,300;1,300&amp;display=block" rel="stylesheet">

<!-- Meta -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="author" content="Dr. Ir. Stéphane Pigeon">
<link rel="canonical" href="https://mynoise.net/NoiseMachines/audioJammerNoiseGenerator.php">
<!-- Icons -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#0088ff">
<meta name="theme-color" content="#000000">


<!-- Open Graph -->
<meta property="og:audio" content="https://myNoise.net/Data/JAMMER/demo.mp3">
<meta property="og:audio" content="https://myNoise.net/Data/JAMMER/demo.ogg">
<meta property="og:image" content="https://mynoise.net/Data/JAMMER/fb.jpg">
<link rel="image_src" href="https://mynoise.net/Data/JAMMER/fb.jpg">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@audiosampling">
<meta name="twitter:title" content="Speech Jammer — Audio Jammer / Noise Generator">
<meta name="twitter:description" content="Audio jammers produce a unique sound for masking and protecting conversations from external listening devices, such as a smartphone running an audio recording app, hidden in a pocket.">
<meta name="twitter:image" content="https://mynoise.net/Data/JAMMER/fb.jpg">

<!-- iOS App Links -->
<meta name="apple-itunes-app" content="app-id=813099896, app-argument=mynoise://">
<meta property="al:ios:url" content="mynoise://play/JAMMER/">
<meta property="al:ios:app_store_id" content="813099896">
<meta property="al:ios:app_name" content="myNoise">

<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Common Frameworks -->

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-powertip/1.2.0/jquery.powertip.min.js"></script>

<script>
function createCookie(name,value,days) {
	if (days) {
		var date = new Date();
		date.setTime(date.getTime()+(days*24*60*60*1000));
		var expires = "; expires="+date.toGMTString();
	}
	else var expires = "";
	document.cookie = name+"="+value+expires+"; path=/";
}

function readCookie(name) {
	var nameEQ = name + "=";
	var ca = document.cookie.split(';');
	for(var i=0;i < ca.length;i++) {
		var c = ca[i];
		while (c.charAt(0)==' ') c = c.substring(1,c.length);
		if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length).replace(/%2C/g,",");  // if cookie has been set from the cloud, the %2C needs to be replaced by a comma;
	}
	return null;
}

function eraseCookie(name) {
	createCookie(name,"",-1);
}
</script>
<!-- Additional if Generator is playing -->


<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<link rel="stylesheet" href="/JQ/jquery-ui-1.10.3/themes/base/jquery-ui.css">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jScrollPane/2.2.2/script/jquery.jscrollpane.min.js"></script>
<link href="/CSS/jquery.jscrollpane.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mousetrap/1.6.5/mousetrap.min.js"></script>
<script>
function createCookie(name,value,days) {
	if (days) {
		var date = new Date();
		date.setTime(date.getTime()+(days*24*60*60*1000));
		var expires = "; expires="+date.toGMTString();
	}
	else var expires = "";
	document.cookie = name+"="+value+expires+"; path=/";
}

function readCookie(name) {
	var nameEQ = name + "=";
	var ca = document.cookie.split(';');
	for(var i=0;i < ca.length;i++) {
		var c = ca[i];
		while (c.charAt(0)==' ') c = c.substring(1,c.length);
		if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length).replace(/%2C/g,",");  // if cookie has been set from the cloud, the %2C needs to be replaced by a comma;
	}
	return null;
}

function eraseCookie(name) {
	createCookie(name,"",-1);
}
</script>
<script defer="">


// Cleverly designed, badly programmed by Stephane Pigeon 
// (c) Dr. Ir. Stephane Pigeon - myNoise.net 2013-24 - stephane at mynoise.net
// Last update 2024-04-29

var iNUMBERBANDS=10;
var bCALIBRATE=0;
var bMUTE=0;var bMUTEsaved=0;
var bANIMATE=0; var bDISABLED=0; var bMEDITATIONSESSION=0;
var bFINISHEDLOADING=0;
var bWEBAUDIO=0;var bSUPPORTOGG=0;var bSUPPORTMP3=0;
var bSUSPENDED=0;
var bSTARTMUTED=0;
var sSYNCHRO="0123456789";
var bPITCHRAN=0;
var bOSAUTO=0;
var bEQ=0;
var bWAVEVISUALIZER=0;
var iINITIALANIMATIONSPEED=32;
var fTARGETSLIDERLEVEL=0.5; // average slider level when loading a preset
var fAUDIOFADETIME=0.1;
var timeOutOS = new Array();
var iTimer=-1; var iMTimer=-1;
var epoch=0;
var fileExt=".mp3";
var voiceover=new Array();
var allContents;
var sto=new Array();
var fCONTEXTSTART;
var fLevelMultiplier=1.1;
var iAnimationFactor=1;var iAnimationMode="s";
var iCurrentAnimationSpeed=iINITIALANIMATIONSPEED;
var timerTimeout, modulationTimeout, fadeTimeOut, meditationInterval, meditationInterval2, osInterval;
var interval = new Array();
var nextA = new Array();var nextB = new Array();
var lastPlayedA = new Array();var lastPlayedB = new Array();
var lastPlayedOS = [1,1,1,1,1,1,1,1,1,1];
var randomCounter=0;
var currentLevel = new Array();
var savedCurrentLevel = new Array();
var savedLevel = new Array();
var randomLevel = new Array();
var animationProfileLow = [0,0,0,0,0,0,0,0,0,0];
var animationProfileHigh = [0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5];
var bANIMATIONPROFILESET=0;var bANIMATIONUSERPROFILESET=0;
var cloneURL, cookieURL;
var detune="0";
 if (detune.length<2) detune=parseInt(detune);
var selSliders=[1,1,1,1,1,1,1,1,1,1,0];
var playbackFactor = new Array();
var iNowMovingTo=0;
var iFadeState=0;
var mmMin, mmMax; mmMin=1;mmMax=0;
var nzSliderIndex = new Array();
var lastSlider;
var URLmagic='';
// var uID='';
var uIDS='';
var pitchTable=[1];
var meditationBell,bogus;
var URLlevels='';var URLanimate='';var URLmute='';var URLbell='';var URLtimer='';var URLdetune='';var URLmagic='';var URLtitle='';var URLanimateProfileLo='';var URLanimateProfileHigh='';
var os;
var bDOWNLOADED = new Array(); iSTARTED = new Array(); iLOADED = new Array(); iTOTAL = new Array();
var totSizeMP3=20496735;
var totSizeOGG=17351045;
var serverTotal=totSizeMP3;
var dlMonitorThrottle=-500;
var averageSliderLevel=0.4;
var samplesArray;



function enableButton(id,bEnable) {
	var el;
	for (var i = 0; i < id.length; ++i) {
		el=document.getElementById(id[i]);
		if (el) {
			if (bEnable) {
					el.style.pointerEvents = 'auto';
					$("#"+id[i]).removeClass("disabled");
				}
				else {
					if (el) el.style.pointerEvents = 'none';
					$("#"+id[i]).addClass("disabled");
				}
		} 
	}
}

function activateButton(id,bActivate) { 
	if (bActivate) for (var i = 0; i < id.length; ++i) $("#"+id[i]).addClass("active");
	else for (var i = 0; i < id.length; ++i) $("#"+id[i]).removeClass("active");
}

function msg(content) {if (!bSUSPENDED) document.getElementById('msg').innerHTML = content;}

var stretch = [1.4,1.4,1.4,1.4,1.4,1.4,1.4,1.4,1.4,1.4];

// html5 audio
var  sourceFileA = new Array();
var  sourceFileB = new Array();
var  sourceA = new Array();
var  sourceB = new Array();
var  timeOut1 = new Array();
var  timeOut2 = new Array();
var  l = new Array();
var  movedSlider;
var  masterGain;


function getUrlVars(str) {

	str = str || window.location.href;  // if empty, use URL
    var vars = {};
    var parts = str.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
        vars[key] = value;
    });
    return vars;
}

// SOUNDS

function assignSources(){

	if (bSUPPORTOGG) fileExt=".ogg";
		
	console.log('with '+fileExt+' files');
	
	console.log('Code : JAMMER');
	
	meditationBell = new Audio('/Audio/bell'+fileExt);
	meditationBell.preload = 'auto';
		
	sourceFileA[0]='https://mynoise.world/Data/JAMMER/0b'+fileExt;
	sourceFileB[0]='https://mynoise.world/Data/JAMMER/0a'+fileExt;
		sourceFileA[1]='https://mynoise.world/Data/JAMMER/1a'+fileExt;
	sourceFileB[1]='https://mynoise.world/Data/JAMMER/1b'+fileExt;
		sourceFileA[2]='https://mynoise.world/Data/JAMMER/2b'+fileExt;
	sourceFileB[2]='https://mynoise.world/Data/JAMMER/2a'+fileExt;
		sourceFileA[3]='https://mynoise.world/Data/JAMMER/3b'+fileExt;
	sourceFileB[3]='https://mynoise.world/Data/JAMMER/3a'+fileExt;
		sourceFileA[4]='https://mynoise.world/Data/JAMMER/4a'+fileExt;
	sourceFileB[4]='https://mynoise.world/Data/JAMMER/4b'+fileExt;
			sourceFileA[5]='https://mynoise.world/Data/JAMMER/5a'+fileExt;
	sourceFileB[5]='https://mynoise.world/Data/JAMMER/5b'+fileExt;
		sourceFileA[6]='https://mynoise.world/Data/JAMMER/6b'+fileExt;
	sourceFileB[6]='https://mynoise.world/Data/JAMMER/6a'+fileExt;
		sourceFileA[7]='https://mynoise.world/Data/JAMMER/7a'+fileExt;
	sourceFileB[7]='https://mynoise.world/Data/JAMMER/7b'+fileExt;
		sourceFileA[8]='https://mynoise.world/Data/JAMMER/8a'+fileExt;
	sourceFileB[8]='https://mynoise.world/Data/JAMMER/8b'+fileExt;
		sourceFileA[9]='https://mynoise.world/Data/JAMMER/9b'+fileExt;
	sourceFileB[9]='https://mynoise.world/Data/JAMMER/9a'+fileExt;
	}

// WEBAUDIO LOADER
var  gainNodeA = new Array();
var  gainNodeB = new Array();
var  stemAnalyser = new Array();
var  eqNode = new Array();
var  bufferList = new Array();
var  loadCount=0;
var context;

function loadWebAudioSound(url,i) {
  var request = new XMLHttpRequest();
  request.open('GET', url, true);
  request.responseType = 'arraybuffer';
  
  // See https://javascript.info/xmlhttprequest
		
  request.onload = function(){
    context.decodeAudioData(request.response, function(decodedData) {
      bufferList[i] = decodedData;
      countIn(i);
    });
  }

  request.onerror= function(){
  	console.log('Problem detected >>> loading audio file from origin server instead.');
  	var cdn="https://mynoise.world";
  	if(url.indexOf(cdn) > -1) {
			url=url.substring(cdn.length);
			loadWebAudioSound(url,i); // load from one.com
			}
	};
			
  request.onprogress = function(event) { 
	  // ++ throttling every xxxms
	   if (!this.NextSecond) this.NextSecond = 0;
	   if (Date.now() < this.NextSecond) return;
	   this.NextSecond = Date.now() + dlMonitorThrottle;
	   if (dlMonitorThrottle<1000) dlMonitorThrottle++;
 	  // ++
 		dlMonitor(i,event,request,url);
 	};	
 
  bDOWNLOADED[i]=0; iSTARTED[i]=Date.now();
  
  request.send();
}

function webAudioContextCheck() {
	msg("Press Play, or allow Auto-Play for myNoise.net in your browser settings");
	if(context.state == "suspended") {
		
		// bug mobile safari - context can be suspended, and sounds playing!
		// so we need to force suspend even if suspended is detected.
		context.suspend();
		bSUSPENDED=1;
		enableButton(["mute"],1);
		$("#mute").click(resumeContext);
		console.log('This browser doesn\'t trust myNoise and has suspended the audio context.');
		}
		else  {
			$("#mute").click(toggleMute);
			}
}

function resumeContext(){
 	 bSUSPENDED=0;
	 context.resume(); 
	 if ("mediaSession" in navigator) navigator.mediaSession.playbackState = "playing";
	 $("#mute").unbind("click");
	 $("#mute").click(toggleMute);
	 nowPlaying();
}

function nowPlaying(){
 if (bCALIBRATE==0) {msg("Now Playing..."); }
  else {msg("1.&nbsp;Turn up your computer volume until you hear the static 2.&nbsp;Adjust each slider individually.");}
  enableButton(["reset","anim","volDown","volUp","mute","fftCanvas","timer","bell","calib","play0","play1","play2","play3","play4","play5","play6","play7","play8","play9"],1);
  if (bCALIBRATE==0) {
  	document.getElementById("mute").style.display = "none";
    document.getElementById("fftCanvas").style.display = "block";
  }

enableSliders();
  var args=getUrlVars();
  loadURLsettings(args);
  
}

function loadHTML5AudioSound(i){

	sourceA[i] = new Audio(sourceFileA[i]);
	sourceB[i] = new Audio(sourceFileB[i]);

	sourceA[i].preload = 'auto';
	sourceB[i].preload = 'auto';
	
	if (stretch[i]==0) {
		sourceA[i].loop=1; 
		sourceB[i].loop=1;
		}
	else {
		sourceA[i].loop=0;
		sourceB[i].loop=0;
		}
	
	// Automatic Fallback
	sourceA[i].addEventListener("error", function(){
		var cdn="https://mynoise.world";
		if(sourceFileA[i].indexOf(cdn) > -1) {
			sourceFileA[i]=sourceFileA[i].substring(cdn.length);
			sourceFileB[i]=sourceFileB[i].substring(cdn.length);
			loadHTML5AudioSound(i);
			}
		});

	sourceA[i].addEventListener("canplaythrough", function(){countIn(i)});
	sourceB[i].addEventListener("canplaythrough", function(){countIn(i+iNUMBERBANDS)});
	
	if (stretch[i]!=0) {
		sourceA[i].addEventListener('playing',function(){willPlayB(i);}, false);
		sourceB[i].addEventListener('playing',function(){willPlayA(i);}, false);
		}
}

function loadAllSounds(){
//------------------------------------------------------------------
	if (bWEBAUDIO==1) {
	
	  for (var i = 0; i < iNUMBERBANDS; ++i) loadWebAudioSound(sourceFileA[i],i);
	  for (var i = 0; i < iNUMBERBANDS; ++i) loadWebAudioSound(sourceFileB[i],i+iNUMBERBANDS);
	  
	}
//------------------------------------------------------------------
	else{
		for (var i = 0; i < iNUMBERBANDS; ++i) loadHTML5AudioSound(i);
	}
}

function playAllSounds(){
//------------------------------------------------------------------
	if (bWEBAUDIO==1) {
	  for (var i = 0; i < iNUMBERBANDS; ++i) startWebAudio(i)
	}
//------------------------------------------------------------------
	else {
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			sourceA[i].play();
			if (stretch[i]==0) sourceB[i].play();
		}
	}
}

function playOS(stem){
	var colorTable=["100,50,0","200,0,0","255,128,0","150,190,0","0,200,0","0,200,170","0,140,220","0,0,255","140,0,170","200,140,255"];
	var duration=0;
	playbackFactor[stem]= pitchTable[Math.floor(Math.random() * pitchTable.length)]
	if (lastPlayedOS[stem]) {
		webAudioPlayBAt(stem,context.currentTime);
		duration=sourceB[stem].buffer.duration;
		msg($('#s'+stem).attr('aria-label')+' • A • '+playbackFactor[stem]);
		}
	else {
		webAudioPlayAAt(stem,context.currentTime);
		duration=sourceA[stem].buffer.duration;
		msg($('#s'+stem).attr('aria-label')+' • B • '+playbackFactor[stem]);
	}
	lastPlayedOS[stem]=1-lastPlayedOS[stem];
	$("#play"+stem).css('background', 'rgb('+colorTable[stem]+')');
	clearTimeout(timeOutOS[stem]);	
	timeOutOS[stem]=setTimeout(function(){
		$("#play"+stem).css('background', 'rgba(0,0,0,0)');
		if (bOSAUTO) { playOS(Math.floor(Math.random()*10)); }
		},duration*1000/playbackFactor[stem]);
	
}

function experimentalPitchRandom(){
	bPITCHRAN++;
	if (bPITCHRAN==7) bPITCHRAN=0;
	switch(bPITCHRAN){
	case 0: pitchTable=[1]; msg('<span class="lowlight">'+pitchTable.toString().replace(/,/g,' ')+'</span>'); break;
	case 1: pitchTable=[0.5]; msg('<span class="lowlight">'+pitchTable.toString().replace(/,/g,' ')+'</span>'); break;
	case 2: pitchTable=[2]; msg('<span class="lowlight">'+pitchTable.toString().replace(/,/g,' ')+'</span>'); break;
	case 3: pitchTable=[0.5,1]; msg('<span class="lowlight">'+pitchTable.toString().replace(/,/g,' ')+'</span>'); break;
	case 4: pitchTable=[0.5,1,2]; msg('<span class="lowlight">'+pitchTable.toString().replace(/,/g,' ')+'</span>'); break;
	case 5: pitchTable=[0.5,1,1.5]; msg('<span class="lowlight">'+pitchTable.toString().replace(/,/g,' ')+'</span>'); break;
	case 6: pitchTable=[0.5,1,1.5,2]; msg('<span class="lowlight">'+pitchTable.toString().replace(/,/g,' ')+'</span>'); break;
	case 7: pitchTable=[0.5,0.75,1,1.5,2]; msg('<span class="lowlight">'+pitchTable.toString().replace(/,/g,' ')+'</span>'); break;
	}
}

function experimentalOSauto(){
	bOSAUTO=1-bOSAUTO;
	if (bOSAUTO) msg('[Auto Play] ON'); else msg('[Auto Play] OFF');
}

function startWebAudio(i){
	if (stretch[i]==0) sourceA[i].loop=1;
	nextA[i]=Math.ceil(context.currentTime);
	// take duration of the leader of the sync group
	var j = sSYNCHRO.indexOf(sSYNCHRO.charAt(i));
	nextB[i]=nextA[i]+Math.round(sourceA[j].buffer.duration*10)/20*stretch[j]/playbackFactor[j];
	
	sourceA[i].start(nextA[i]);
	lastPlayedA[i]=nextA[i];
	if (stretch[i]!=0) {
		  webAudioPlayBAt(i,nextB[i]);
		  lastPlayedB[i]=nextB[i];
		}
	else {
		  sourceB[i].loop=1;
		  sourceB[i].playbackRate.value=playbackFactor[i];
		  sourceB[i].start(nextA[i]);
		  lastPlayedB[i]=nextA[i];
		}
}

function getDelayValue(stem,duration) {
	var delay;
	delay=duration*500; // in msec
	delay=delay*parseFloat(stretch[stem]);
	return delay;
}

function computeIntervals(){
	// stems repeat every ((A+B)/2)*stretch and B starts after A/2*stretch - see doc. 
	var durA, durB;
	for (var i = 0; i < iNUMBERBANDS; ++i) {
		// buffer durations vary across browsers! Critical for sync gens, rounding off to 16th note
		durA=Math.round(sourceA[i].buffer.duration*8)/8;
		durB=Math.round(sourceB[i].buffer.duration*8)/8;
		interval[i]=(durA+durB)/2*stretch[i]/playbackFactor[i];
	}
}

function willPlayA(item){
	clearTimeout(timeOut1[item]);
	timeOut1[item] = setTimeout(function(){rewindAndPlayA(item);},getDelayValue(item,sourceB[item].duration));
}

function willPlayB(item){
	clearTimeout(timeOut2[item]);	
	timeOut2[item] = setTimeout(function(){rewindAndPlayB(item);},getDelayValue(item,sourceA[item].duration));
}

function rewindAndPlayA(item){
	if (item==sSYNCHRO.indexOf(sSYNCHRO.charAt(item))) { // this is the first occurrence of the Sync group. Launch this sound and all others from the group.
		for (var i = sSYNCHRO.indexOf(sSYNCHRO.charAt(item)); i < iNUMBERBANDS; ++i) {
			if (sSYNCHRO.charAt(item)==sSYNCHRO.charAt(i)) { // belongs to the same group
				if(!sourceA[i].paused) {sourceA[i].pause();}
				sourceA[i].currentTime=0;
				sourceA[i].play();
			}
		}
	}
}

function rewindAndPlayB(item){
	if (item==sSYNCHRO.indexOf(sSYNCHRO.charAt(item))) { // this is the first occurrence of the Sync group. Launch this sound and all others from the group.
		for (var i = sSYNCHRO.indexOf(sSYNCHRO.charAt(item)); i < iNUMBERBANDS; ++i) {
			if (sSYNCHRO.charAt(item)==sSYNCHRO.charAt(i)) { // belongs to the same group
				if(!sourceB[i].paused) {sourceB[i].pause();}
				sourceB[i].currentTime=0;
				sourceB[i].play();
			}
		}
	}
}

function webAudioPlayAAt(item,onContextTime){

	// console.log('A@ '+context.currentTime+' for '+onContextTime+' on stem '+item);

	if (item==sSYNCHRO.indexOf(sSYNCHRO.charAt(item))) { // this is the first occurrence of the Sync group
	
		nextB[item]+=interval[item];
		sourceB[item].onended=function(){webAudioPlayBAt(item,nextB[item])};
			
		// This one and all others (sync)
		for (var i = sSYNCHRO.indexOf(sSYNCHRO.charAt(item)); i < iNUMBERBANDS; ++i) {
			if (sSYNCHRO.charAt(item)==sSYNCHRO.charAt(i)) { // belongs to the same group
				  sourceA[i].disconnect(0); // canary crashed with sourceA[i].noteOff(0);
				  sourceA[i] = context.createBufferSource();
				  sourceA[i].buffer = bufferList[i];
				  sourceA[i].playbackRate.value=playbackFactor[i];
				  				  if ((bCALIBRATE==1)&&(i!=movedSlider)&&(movedSlider>-1)) gainNodeA[i].gain.setTargetAtTime(0,context.currentTime,0);
				  sourceA[i].connect(gainNodeA[i]);
				  if (bWAVEVISUALIZER) sourceA[i].connect(stemAnalyser[i]);
				  sourceA[i].start(onContextTime);
				  lastPlayedA[i]=onContextTime;
			}
		}
	}
    monitor();}

function webAudioPlayBAt(item,onContextTime){

	// console.log('B@ '+context.currentTime+' for '+onContextTime+' on stem '+item);

	if (item==sSYNCHRO.indexOf(sSYNCHRO.charAt(item))) { // this is the first occurrence of the Sync group.
	
		nextA[item]+=interval[item];
		sourceA[item].onended=function(){webAudioPlayAAt(item,nextA[item])};

	 	// This one and all others (sync)
		for (var i = sSYNCHRO.indexOf(sSYNCHRO.charAt(item)); i < iNUMBERBANDS; ++i) {
			if (sSYNCHRO.charAt(item)==sSYNCHRO.charAt(i)) { // belongs to the same group
				  sourceB[i].disconnect(0); // canary crashed with sourceB[i].noteOff(0);
				  sourceB[i] = context.createBufferSource();
				  sourceB[i].buffer = bufferList[i+iNUMBERBANDS];
				  sourceB[i].playbackRate.value=playbackFactor[i];
				  				  if ((bCALIBRATE==1)&&(i!=movedSlider)&&(movedSlider>-1)) gainNodeB[i].gain.setTargetAtTime(0,context.currentTime,0);
				  sourceB[i].connect(gainNodeB[i]);
		  		  if (bWAVEVISUALIZER) sourceB[i].connect(stemAnalyser[i]);
				  sourceB[i].start(onContextTime);
				  lastPlayedB[i]=onContextTime;
			}
		}
	}
	monitor();}

function playBell(){
// using simple html5 audio
const currentT = new Date();

if (meditationBell.paused&&!bMUTE) {
	var maxLevel=0;
	for (var i = 0; i < iNUMBERBANDS; ++i) if (currentLevel[i]>maxLevel) maxLevel+=currentLevel[i]*currentLevel[i];
	meditationBell.volume=averageSliderLevel/2;
	meditationBell.play();
	}
}

function stemDrop(){
	var i=Math.floor(Math.random(1)*10);
	console.log('Dropping stem '+i);
	sourceA[i].disconnect(0);
	sourceB[i].disconnect(0);
}

function countIn(index){
	bDOWNLOADED[index]=1;
	var str="";
	for (var i = 0; i < 2*iNUMBERBANDS; ++i) if (bDOWNLOADED[i]) str=str+"+"; else str=str+"-";
	if (++launchCounter==iNUMBERBANDS*2) finishedLoading(); 
	if (!bWEBAUDIO) msg("... now loading " + Math.round(launchCounter/iNUMBERBANDS/2*100) + "% ...");
}

function dlMonitor(index,report,initiator,url){

	var grandTotal=0;var loaded=0;

	// restart if stalled
	var timeOut=10000; // 10s
	 if (((Date.now()-iSTARTED[index])>timeOut) && (iLOADED[i]==report.loaded)){
	 	// stalled
		console.log(index+' TIME OUT');
		initiator.abort();
		loadWebAudioSound(url,index);
	 } else {
			if (report.lengthComputable){ // myNoise Servers are supposed to return Content-Length, should be always true
			iTOTAL[index]=report.total;
			iLOADED[index]=report.loaded;
			// compute grand total
			for (var i = 0; i < 2*iNUMBERBANDS; ++i) {
				if (iTOTAL[i]) {grandTotal+=iTOTAL[i]; loaded+=iLOADED[i]}
			}
		
			if (grandTotal>serverTotal) serverTotal=grandTotal;
			var loadedMB=Math.floor(loaded/1048576); 
			var grandTotalMB=Math.floor(grandTotal/1048576);
			var serverTotalMB=Math.floor(serverTotal/1048576);
			var percent=Math.round(loaded/serverTotal*100);
			
			var str="<span style='color:#EEE;'>";
			for (var i = 0; i < loadedMB; ++i) str+="•";
			str=str+"</span>"+percent+"% <span style='color:#777;'>";
			for (var i = loadedMB; i < grandTotalMB; ++i) str+="•";
			str+="</span><span style='color:#333;'>";
			for (var i = grandTotalMB; i < serverTotalMB; ++i) str+="•";
			str+="</span>";
			
			document.getElementById('bgimage').style.opacity = percent/100; 
			if ((percent==100)&&(loaded<100000)) msg('An error occurred (see javascript console for details)'); else msg('Loading '+str);
			}	
		}
}

function monitor(){
	var currentTime=context.currentTime;
	var elapsed;
	for (var i = 0; i < iNUMBERBANDS; ++i) {
		if (interval[i]>0) {
		elapsed=Math.min(currentTime-lastPlayedA[i],currentTime-lastPlayedB[i]);
		if (elapsed>(interval[i]*1.01))  {
			console.log('Stem '+i+' was lost. Now restarting.');
			lastPlayedA[i]=currentTime;lastPlayedB[i]=currentTime;
			restartWebAudio(i);
			}
		}
	}
}

function restartWebAudio(i){
	sourceA[i].onended=null;
	sourceB[i].onended=null;
	sourceA[i].disconnect(0);
	sourceB[i].disconnect(0);
	sourceA[i] = context.createBufferSource();
	sourceA[i].buffer = bufferList[i];
	sourceA[i].playbackRate.value=playbackFactor[i];
	sourceA[i].connect(gainNodeA[i]);
	sourceB[i] = context.createBufferSource();
	sourceB[i].buffer = bufferList[i+iNUMBERBANDS];
	sourceB[i].playbackRate.value=playbackFactor[i];
	sourceB[i].connect(gainNodeB[i]);
	startWebAudio(i);
}

function killWebAudio(){  // does not free any memory :(
	context.close();
	for (var i = 0; i < iNUMBERBANDS; ++i) {
		sourceA[i].disconnect(0);sourceB[i].disconnect(0);
		sourceA[i]=null;sourceB[i]=null;
		bufferList[i]=null;bufferList[i+iNUMBERBANDS]=null;
		gainNodeA[i].disconnect();gainNodeB[i].disconnect();
		gainNodeA[i]=null;gainNodeB[i]=null;
		}
	bufferList=null;gainNodeA=null;gainNodeB=null;sourceA=null;sourceB=null;
}

// INIT

var launchCounter=0;

function init() {

if (!navigator.cookieEnabled) {window.location.href = "/showMessage.php?msgID=4";}

var a = document.createElement('audio');

if (!!(a.canPlayType && a.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/, ''))){bSUPPORTOGG=1;serverTotal=totSizeOGG;};
if (!!(a.canPlayType && a.canPlayType('audio/mpeg;').replace(/no/, ''))){bSUPPORTMP3=1;};

if(typeof webkitAudioContext !== "undefined") {context = new webkitAudioContext();bWEBAUDIO=1;}
if(typeof AudioContext !== "undefined") {context = new AudioContext();bWEBAUDIO=1;} 

console.log(navigator.userAgent);
if (bWEBAUDIO) console.log('Web Audio [mynoise.world]'); else console.log('HTML5 Audio [mynoise.world]');

tmp=readCookie('LVL');
if (tmp!=null) {
	if (tmp==1) fTARGETSLIDERLEVEL=0.33;
	if (tmp==2) fTARGETSLIDERLEVEL=0.5;
	if (tmp==3) fTARGETSLIDERLEVEL=0.66;
}

	initTuning();
	msg("... now loading ...");
	assignSources();
	enableButton(["reset","anim","volDown","volUp","mute","fftCanvas","timer","bell","calib","play0","play1","play2","play3","play4","play5","play6","play7","play8","play9"],0);
	disableSliders();
	// Highlight Fav icon
  	checkFavGen();
	loadAllSounds();
	
	setPreset(0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3);	
	if (!bANIMATIONUSERPROFILESET) {
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			animationProfileHigh[i]=Math.min(currentLevel[i]*1.25,0.99);
			animationProfileLow[i]=currentLevel[i]*0.5;
			}
	}

	
// migrateCookies();

	
 
}

function finishedLoading() {
	
//------------------------------------------------------------------
	if (bWEBAUDIO==1) {
	
	  masterGain = context.createGain();
 	  masterGain.connect(context.destination);
	
	  for (var i = 0; i < iNUMBERBANDS; ++i) {
		  sourceA[i] = context.createBufferSource();
		  sourceA[i].buffer = bufferList[i];
		  sourceA[i].playbackRate.value=playbackFactor[i];
		  gainNodeA[i] = context.createGain();
		  gainNodeA[i].gain.value = 0;
		  sourceA[i].connect(gainNodeA[i]);
		  gainNodeA[i].connect(masterGain);
		}
	  
	  for (var i = 0; i < iNUMBERBANDS; ++i) {
		  sourceB[i] = context.createBufferSource();
		  sourceB[i].buffer = bufferList[i+iNUMBERBANDS];
		  sourceA[i].playbackRate.value=playbackFactor[i];
		  gainNodeB[i] = context.createGain();
		  gainNodeB[i].gain.value = 0;
		  sourceB[i].connect(gainNodeB[i]);
		  gainNodeB[i].connect(masterGain);
		}
	computeIntervals();
	}
//------------------------------------------------------------------

  getCurrentLevelsFromSliders();
  updateDocumentLinks();
  
  playAllSounds();setAllLevels();  
  bFINISHEDLOADING=1;
  
// Suspended Policy by Mobile Browsers and Chrome!
if (bWEBAUDIO==1) webAudioContextCheck();
// Enable Buttons
if (!bSUSPENDED) nowPlaying();
    
  // Timer Gens
  if (bSTARTMUTED==1) forceMute(1);
   
  // SuperGens - Calling Parent Function
  if (window.parent!=window) window.parent.count();
  
  // Visualizer - Experimental

  if ((bWEBAUDIO==1)&&(bCALIBRATE==0)) {
  
  var analyser = context.createAnalyser();
    analyser.fftSize=32;
    analyser.smoothingTimeConstant = 0;
	masterGain.connect(analyser);
	var fftData = new Float32Array(analyser.frequencyBinCount);
    var c = document.getElementById("fftCanvas");
	var ctx = c.getContext("2d");
	var pos=[0,0,0,0];
	var posOld=[0,0,0,0];

	function updatefftData() {
		setTimeout(function(){ //throttle requestAnimationFrame
		 requestAnimationFrame(updatefftData);
		}, 125)
		
		analyser.getFloatFrequencyData(fftData);
		pos[0]=(fftData[0]+75)/2;
		pos[1]=(Math.max(fftData[2],fftData[3])+77)/2;
		pos[2]=(Math.max(fftData[5],fftData[6],fftData[7])+81)/2;
		pos[3]=(Math.max(fftData[9],fftData[10],fftData[11],fftData[12],fftData[13],fftData[14],fftData[15])+89)/2;
	
		ctx.beginPath();
		ctx.rect(0, 0, c.width, c.height);
		ctx.fillStyle = "#eee";
		ctx.fill();
		ctx.closePath();
		
		var order=[3,1,0,2];

		for (var j = 0; j < 4; ++j) {
			i=order[j];
			if (pos[i]>posOld[i]) posOld[i]=pos[i]; else posOld[i]--;
			if (posOld[i]<0) posOld[i]=0;
			if (posOld[i]>15) posOld[i]=15;
			ctx.beginPath();ctx.rect(9+j*5,(c.height-posOld[i]-10), 2, posOld[i]);ctx.fillStyle = "#000";ctx.fill();ctx.closePath();
			}
			
		// individual levels
		
		if (bWAVEVISUALIZER) {
	
			for (var i = 0; i < iNUMBERBANDS; ++i) {
				stemAnalyser[i].getByteTimeDomainData(samplesArray);
				var nrg=0;
				for (var k = 0; k < stemAnalyser[i].frequencyBinCount; ++k) {
					var sample = (samplesArray[k] - 128);
					nrg+=(sample*sample);
					}
				nrg=nrg/(128*128);
				var pixels=13-10*Math.pow(nrg,0.5);
				pixels=Math.max(pixels,4);
				document.getElementById('s'+i).lastChild.style.boxShadow = "inset 0 0 0 "+pixels+"px rgb(25,27,29)";
				}
			}
			
		}
		
	updatefftData();
	
	}
	
	// iEQ auto start for patrons
	tmp=readCookie('IEQ');
	if (tmp!=null) emphasisEQ(parseFloat(tmp));
	
	// wheel events
	document.getElementById("s0").addEventListener("wheel", function(e){wheeLvl(0,e)});
	document.getElementById("s1").addEventListener("wheel", function(e){wheeLvl(1,e)});
	document.getElementById("s2").addEventListener("wheel", function(e){wheeLvl(2,e)});
	document.getElementById("s3").addEventListener("wheel", function(e){wheeLvl(3,e)});
	document.getElementById("s4").addEventListener("wheel", function(e){wheeLvl(4,e)});
	document.getElementById("s5").addEventListener("wheel", function(e){wheeLvl(5,e)});
	document.getElementById("s6").addEventListener("wheel", function(e){wheeLvl(6,e)});
	document.getElementById("s7").addEventListener("wheel", function(e){wheeLvl(7,e)});
	document.getElementById("s8").addEventListener("wheel", function(e){wheeLvl(8,e)});
	document.getElementById("s9").addEventListener("wheel", function(e){wheeLvl(9,e)});
	
	// Media Session
	
	document.addEventListener('click', function runHtml5Silence() {
				if ("mediaSession" in navigator) {
					bogus = new Audio('/Audio/silence'+fileExt);
					bogus.preload = 'auto';
					bogus.loop=true;
					bogus.volume=0;
					bogus.onloadeddata=function(){bogus.play();};

				  navigator.mediaSession.metadata = new MediaMetadata({
					title: "",
					artist: "myNoise",
					album: "Focus • Relax • Sleep",
					artwork: [
					  { src: 'https://myNoise.net/Data/JAMMER/album@128.jpg',   sizes: '128x128',   type: 'image/jpeg' },
					  { src: 'https://myNoise.net/Data/JAMMER/album@256.jpg',   sizes: '256x256',   type: 'image/jpeg' },
					  { src: 'https://myNoise.net/Data/JAMMER/album@512.jpg',   sizes: '512x512',   type: 'image/jpeg' },
					]
					 });
  
					navigator.mediaSession.setActionHandler('play', function() { toggleMute(); });
					navigator.mediaSession.setActionHandler('pause', function() {  toggleMute(); });
					// navigator.mediaSession.setActionHandler('previoustrack', function() { resetSliders(); });
					// navigator.mediaSession.setActionHandler('seekforward', function() { randomSettings(); });
					document.removeEventListener('click', runHtml5Silence);
		}
	});
	

 
  	
  	$("#bgimage").addClass("animated");
  	sliderOpacity();
}

function waveVisualizer(){
	bWAVEVISUALIZER=1-bWAVEVISUALIZER;
	if (bWAVEVISUALIZER) {
			msg("Visualizer ON [V]");
		 for (var i = 0; i < iNUMBERBANDS; ++i) {
		  	if (!stemAnalyser[i]) { 
		  			stemAnalyser[i]=context.createAnalyser();
		  			stemAnalyser[i].fftSize=512;
		  			if (i==0) samplesArray = new Uint8Array(stemAnalyser[i].frequencyBinCount);  //create once
		  	}
		  	sourceA[i].connect(stemAnalyser[i]);
			sourceB[i].connect(stemAnalyser[i]);
			}
	}
	else {
		msg("Visualizer OFF [V]");
		for (var i = 0; i < iNUMBERBANDS; ++i) document.getElementById('s'+i).lastChild.style.boxShadow = "inset 0 0 0 4px rgb(25,27,29)";
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			sourceA[i].disconnect(stemAnalyser[i]);
			sourceB[i].disconnect(stemAnalyser[i]);
			}
	}
}

function wheeLvl(i,e) {
	e.preventDefault();
	var offset=-e.deltaY/1000;
	currentLevel[i]=Math.max(0,Math.min(0.99,currentLevel[i]+offset));
	savedLevel[i]=Math.max(0,Math.min(0.99,currentLevel[i]+offset)); randomCounter=0;  //anim
	$( "#s"+i ).slider("value", currentLevel[i]);
}

function pad(num) {
    var s = "000" + num;
    return s.substr(s.length-2);
}

function sliderChange(movedSliderName) {
	if (bFINISHEDLOADING==1) {
		movedSlider=movedSliderName.substring(1,2);
		if (bCALIBRATE==1) {
			for (var i = 0; i < iNUMBERBANDS; ++i){
				if (i!=movedSlider) {
				
					if (bWEBAUDIO==1) {
						gainNodeA[i].gain.setTargetAtTime(0,context.currentTime,0);
						gainNodeB[i].gain.setTargetAtTime(0,context.currentTime,0);
					}
					else {
						sourceA[i].volume=0; 
						sourceB[i].volume=0; 
						}
					}
			}
			msg("2. Move each slider so that its associated sound becomes just audible to you.");
		}
		else {if (bANIMATE==0) msg("");}
		currentLevel[movedSlider]=$( "#s"+movedSlider ).slider( "value" );
		if (bWEBAUDIO==1) {
			gainNodeA[movedSlider].gain.setTargetAtTime(Math.pow(currentLevel[movedSlider],3),context.currentTime,fAUDIOFADETIME);
			gainNodeB[movedSlider].gain.setTargetAtTime(Math.pow(currentLevel[movedSlider],3),context.currentTime,fAUDIOFADETIME);
				}
		else {
			sourceA[movedSlider].volume=Math.pow(currentLevel[movedSlider],3); 
			sourceB[movedSlider].volume=Math.pow(currentLevel[movedSlider],3); 
			}
	}
	updateDocumentLinks();
	if (!bMEDITATIONSESSION) computeAverageSliderLevel();
	if (movedSliderName==lastSlider){ 
		var db=Math.round(26*Math.log(currentLevel[movedSlider]));
		msg(db+" dBFS");
		}
		else lastSlider=movedSliderName;
	sliderOpacity();
}

function sliderOpacity(){
	if ((bANIMATE==0)&&(bDISABLE==0)) for (var i = 0; i < iNUMBERBANDS; ++i) {
		if (currentLevel[i]==0) document.getElementById("s"+i).style.opacity = 0.3;
		else document.getElementById("s"+i).style.opacity = 1;
		}
}

function updateDocumentLinks(){

	URLlevels='l='+packVector(currentLevel);
		
	strippedDocumentURL='/NoiseMachines/audioJammerNoiseGenerator.php';
	
	URLanimate='';URLmute='';URLdetune='';
	
	URLanimate='&a='+iAnimationFactor+'&am='+iAnimationMode
	
	if (bANIMATIONUSERPROFILESET) {
		URLanimateProfileLo=packVector(animationProfileLow);
		URLanimateProfileHigh=packVector(animationProfileHigh);
		URLanimate=URLanimate+'&apl='+URLanimateProfileLo+'&aph='+URLanimateProfileHigh;
		}

	if (bANIMATE) URLanimate=URLanimate+'&astart=1';
		
	if (bMUTE) URLmute='&mt=1';
	if (document.getElementById('titleName')) URLtitle='&title='+encodeURI(document.getElementById('titleName').textContent);
	if (detune) URLdetune='&d='+detune;
	
	cloneURL=strippedDocumentURL+'?'+URLlevels+URLanimate+URLmagic+URLdetune+URLmute+URLbell+URLtimer+URLtitle+'&c=1'; //clone
	cookieURL=URLlevels+URLanimate+URLdetune+URLmute+URLbell+URLtimer;cookieURL=cookieURL.substring(2);
	$( "#customURL0" ).attr("href", strippedDocumentURL+'?'+URLlevels+URLanimate+URLmagic+URLdetune+URLmute+URLbell+URLtimer+URLtitle); // update URL
	$( "#customURL1" ).attr("href", strippedDocumentURL+'?'+URLlevels+URLanimate+URLmagic+URLdetune+URLtitle+'&c=4'); // testimonial
	$( "#customURL2" ).attr("href", strippedDocumentURL+'?'+URLlevels+URLanimate+URLmagic+URLdetune+URLtitle+'&c=2'); // order

	//var strLevels=currentLevel[0]+' '+currentLevel[1]+' '+currentLevel[2]+' '+currentLevel[3]+' '+currentLevel[4]+' '+currentLevel[5]+' '+currentLevel[6]+' '+currentLevel[7]+' '+currentLevel[8]+' '+currentLevel[9];
	//$( "#currentLevels" ).attr("title", strLevels);
	
}

function getLink(){
	return cloneURL.slice(15);
}

function cloneIt() {
	window.open(cloneURL,"_blank","toolbar=yes,scrollbars=yes,width=500,height=400");
	document.location.href = "/noiseMachines.php";
}

function print(){
console.log(currentLevel[0]+','+currentLevel[1]+','+currentLevel[2]+','+currentLevel[3]+','+currentLevel[4]+','+currentLevel[5]+','+currentLevel[6]+','+currentLevel[7]+','+currentLevel[8]+','+currentLevel[9]);
}

function getCurrentLevelsFromSliders(){
	for (var i = 0; i < iNUMBERBANDS; ++i)  currentLevel[i]=$( "#s"+i ).slider( "value" );
}

function setCurrentLevelsToSliders(){
	for (var i = 0; i < iNUMBERBANDS; ++i) $( "#s"+i ).slider("value", currentLevel[i]);
}

function setSlidersToZero(){
	for (var i = 0; i < iNUMBERBANDS; ++i) $( "#s"+i ).slider("value", 0);
}

function setAllLevels(){
//------------------------------------------------------------------
	if (bWEBAUDIO==1) {

	  for (var i = 0; i < iNUMBERBANDS; ++i) {
		  gainNodeA[i].gain.setTargetAtTime(Math.pow(currentLevel[i],3),context.currentTime,fAUDIOFADETIME);
		  gainNodeB[i].gain.setTargetAtTime(Math.pow(currentLevel[i],3),context.currentTime,fAUDIOFADETIME);
		}
		
	}
//------------------------------------------------------------------
	else {
	
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			sourceA[i].volume=Math.pow(currentLevel[i],3);
			sourceB[i].volume=Math.pow(currentLevel[i],3);
		}
	
	}
}

function fadeOut(out,steps){
	// disable animation before fadeout
	if ((bANIMATE==1)&&(out==1)&&(iFadeState==0)) clearTimeout(modulationTimeout);	
	iFadeState+=1;
	for (var i = 0; i < iNUMBERBANDS; ++i) {
		var fadeLvl;
		if (out==1) fadeLvl=Math.max(0,Math.pow(currentLevel[i]-Math.pow(iFadeState,1)*currentLevel[i]/Math.pow(steps,1),3));
		else fadeLvl=Math.min(0.99,Math.pow(Math.pow(iFadeState,0.2)*currentLevel[i]/Math.pow(steps,0.2),3));
			if (bWEBAUDIO==1) {
				if (gainNodeA[i]) gainNodeA[i].gain.setTargetAtTime(fadeLvl,context.currentTime,0);
				if (gainNodeB[i]) gainNodeB[i].gain.setTargetAtTime(fadeLvl,context.currentTime,0);
			}
			else {
				sourceA[i].volume=fadeLvl;
				sourceB[i].volume=fadeLvl;
			}
	}
	clearTimeout(fadeTimeOut);	
	if (iFadeState<=steps) fadeTimeOut = setTimeout(function(){fadeOut(out,steps);},steps)
	else {
		iFadeState=0;
		// enable animation after fade in
		if ((bANIMATE==1)&&(out==0)) modulationRandom();
	}
	// Trying to save CPU 
	if (bWEBAUDIO==1) {
		if (out==1) { //fadeout
			if (iFadeState==0) {context.suspend(); console.log('Audio Engine: suspended (saving CPU)');
			if ("mediaSession" in navigator) navigator.mediaSession.playbackState = "paused";
			}
			}
		else { // fadein
			if (context.state === 'suspended') {context.resume(); console.log('Audio Engine: resumed');
			if ("mediaSession" in navigator) navigator.mediaSession.playbackState = "playing";
			}
			
		}
	}
}

function tune(factor){detune=Math.round(Math.log2(factor)*12*1000)/1000;updatePlaybackRate();updateDocumentLinks();}

function tuneDown(dec){
	if (detune>999) detune=0; 
	detune=detune-dec;detune=Math.max(detune,-36);updatePlaybackRate();
	updateDocumentLinks();
}

function tuneUp(inc){
	if (detune>999) detune=0; 
	detune=detune+inc;detune=Math.min(detune,24);updatePlaybackRate();
	updateDocumentLinks();
}

function octDown(){
	if (detune>999) detune=0; 
	detune-=12;detune=Math.max(detune,-36);updatePlaybackRate();
	updateDocumentLinks();
}

function octUp(){
	if (detune>999) detune=0; 
	detune+=12;detune=Math.min(detune,24);updatePlaybackRate();
	updateDocumentLinks();
}

function mixedTune(){
	// aabbcc...jj where xx = 50+/-detune
	var strSettings="";
	for (var i=0; i<iNUMBERBANDS; ++i) strSettings+=(60-Math.round(Math.random()*24));
	detune=strSettings;
	updateDocumentLinks();
	updatePlaybackRate();
}

function computePlaybackFactorsFromDetune(){
for (var i = 0; i < iNUMBERBANDS; ++i) {
 	if (detune<999) playbackFactor[i]=Math.pow(2,(detune/12));
		else playbackFactor[i]=Math.pow(2,(parseInt(detune.toString().substring(i*2,i*2+2))-50)/12);
		  	
}
}

function updatePlaybackRate(){
	computePlaybackFactorsFromDetune();
	computeIntervals();
    for (var i = 0; i < iNUMBERBANDS; ++i) {
	 	 restartWebAudio(i)
		}
}

function setAnimationSpeed(value){

 	if(typeof value === "undefined") {
		if (iAnimationFactor==1) iAnimationFactor=0.5;
		else if (iAnimationFactor==0.5) iAnimationFactor=0.25;
		else if (iAnimationFactor==0.25) iAnimationFactor=0.125;
		else if (iAnimationFactor==0.125) iAnimationFactor=2;
		else if (iAnimationFactor==2) iAnimationFactor=4;
		else if (iAnimationFactor==4) iAnimationFactor=8;
		else if (iAnimationFactor==8) iAnimationFactor=1;
	}
	else iAnimationFactor=value;
	
	customLinkAssign('asdiv8','actionlink','&div;8');
	customLinkAssign('asdiv4','actionlink','&div;4');
	customLinkAssign('asdiv2','actionlink','&div;2');
	customLinkAssign('asmult8','actionlink','x8');
	customLinkAssign('asmult4','actionlink','x4');
	customLinkAssign('asmult2','actionlink','x2');
	customLinkAssign('asnormal','actionlink','Normal');
	
	if (iAnimationFactor==1){
		msg("Animation Speed : Normal");
		customLinkAssign('asnormal','highlight','Normal');
		}
	if (iAnimationFactor==0.125){
		msg("Animation Speed : Slowest");
		customLinkAssign('asdiv8','highlight','&div;8');
		}
	if (iAnimationFactor==0.25){
		msg("Animation Speed : Slower");
		customLinkAssign('asdiv4','highlight','&div;4');
		}
	if (iAnimationFactor==0.5){
		msg("Animation Speed : Slow");
		customLinkAssign('asdiv2','highlight','&div;2');
		}
	if (iAnimationFactor==2){
		msg("Animation Speed : Fast");
		customLinkAssign('asmult2','highlight','x2');
		}
	if (iAnimationFactor==4){
		msg("Animation Speed : Faster");
		customLinkAssign('asmult4','highlight','x4');
		}
	if (iAnimationFactor==8){
		msg("Animation Speed : Fastest");
		customLinkAssign('asmult8','highlight','x8');
		}
	updateDocumentLinks();

}

function setAnimationMode(value){

 	if(typeof value === "undefined") {
		if (iAnimationMode=="s") iAnimationMode="h";
		else if (iAnimationMode=="h") iAnimationMode="i";
		else if (iAnimationMode=="i") iAnimationMode="d";
		else if (iAnimationMode=="d") iAnimationMode="t";
		else if (iAnimationMode=="t") iAnimationMode="s";
	}
	else iAnimationMode=value;
	
	customLinkAssign('amSoft','actionlink','Soft');
	customLinkAssign('amHard','actionlink','Hard');
	customLinkAssign('amIsolated','actionlink','Solo');
	customLinkAssign('amDuo','actionlink','Duo');
	customLinkAssign('amTrio','actionlink','Trio');

	if (iAnimationMode==="s"){
		msg("Animation Mode : Soft (default)");
		customLinkAssign('amSoft','highlight','Soft');
		}
	if (iAnimationMode==="h"){
		msg("Animation Mode : Hard");
		customLinkAssign('amHard','highlight','Hard');
		}
	if (iAnimationMode==="i"){
		msg("Animation Mode : Solo");
		customLinkAssign('amIsolated','highlight','Solo');
		}
	if (iAnimationMode==="d"){
		msg("Animation Mode : Duo");
		customLinkAssign('amDuo','highlight','Duo');
		}
	if (iAnimationMode==="t"){
		msg("Animation Mode : Trio");
		customLinkAssign('amTrio','highlight','Trio');
		}
	updateDocumentLinks();

}

function setAnimationProfile(type){

	bANIMATIONUSERPROFILESET=1;
	
	if (type=="lo") {
	 	for (var i = 0; i < iNUMBERBANDS; ++i) animationProfileLow[i]=currentLevel[i];
		msg('Current slider profile was saved as LOW slider animation bound');
	}
	if (type=="hi") {
		for (var i = 0; i < iNUMBERBANDS; ++i) animationProfileHigh[i]=currentLevel[i];
	 	msg('Current slider profile was saved as HIGH slider animation bound');
	}
	
	updateDocumentLinks();
}

function loadAnimationProfile(type){

	if (type=="lo") { currentLevel=animationProfileLow.slice(0); msg('LOW slider animation profile');} 
	if (type=="hi") { currentLevel=animationProfileHigh.slice(0); msg('HIGH slider animation profile');} 
	setCurrentLevelsToSliders();
}

function setPreset(l0,l1,l2,l3,l4,l5,l6,l7,l8,l9,text){
		//if (bMUTE==1) toggleMute();

		if (bCALIBRATE==0) {
			// level normalization

			var power=8; // supposedly 3 but too loud when only few sliders are active
	
			var l0lin,l1lin,l2lin,l3lin,l4lin,l5lin,l6lin,l7lin,l8lin,l9lin;
			l0lin=Math.pow(l0,power);l1lin=Math.pow(l1,power);l2lin=Math.pow(l2,power);l3lin=Math.pow(l3,power);l4lin=Math.pow(l4,power);
			l5lin=Math.pow(l5,power);l6lin=Math.pow(l6,power);l7lin=Math.pow(l7,power);l8lin=Math.pow(l8,power);l9lin=Math.pow(l9,power);
		
			var totLevellin=l0lin+l1lin+l2lin+l3lin+l4lin+l5lin+l6lin+l7lin+l8lin+l9lin;
	
			if (totLevellin>0) {
				// O=bottom, 1=max linear scale
				var ltargettotlin=Math.pow(fTARGETSLIDERLEVEL,power)*10;
				var mult=Math.pow(ltargettotlin,1/power)/Math.pow(totLevellin,1/power);
				l0=Math.min(l0*mult,0.99);l1=Math.min(l1*mult,0.99);l2=Math.min(l2*mult,0.99);l3=Math.min(l3*mult,0.99);l4=Math.min(l4*mult,0.99);
				l5=Math.min(l5*mult,0.99);l6=Math.min(l6*mult,0.99);l7=Math.min(l7*mult,0.99);l8=Math.min(l8*mult,0.99);l9=Math.min(l9*mult,0.99);
			}
		}
		
		currentLevel[0]=l0;currentLevel[1]=l1;currentLevel[2]=l2;currentLevel[3]=l3;currentLevel[4]=l4;
		currentLevel[5]=l5;currentLevel[6]=l6;currentLevel[7]=l7;currentLevel[8]=l8;currentLevel[9]=l9;
		saveRandomExchange();
		
		if (bANIMATE==0) {
		  setCurrentLevelsToSliders();
		  if(typeof(text)==='undefined') msg("");else msg(text);
		}
		
		customLinkAssign('emphasis','actionlink','Apply Calibration',emphasis);
}

function resetSliders(){
setPreset(0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,"Back to Default");}

function randomSettings(){
		var r=new Array(); 
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			if (Math.random()>0.3) r[i] = Math.random(); else r[i]=0;
			}
		setPreset(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],'Random');
}

function packVector(v){
var str;
str=pad(Math.round(v[0]*100))+pad(Math.round(v[1]*100))+pad(Math.round(v[2]*100))+pad(Math.round(v[3]*100))+pad(Math.round(v[4]*100))+pad(Math.round(v[5]*100))+pad(Math.round(v[6]*100))+pad(Math.round(v[7]*100))+pad(Math.round(v[8]*100))+pad(Math.round(v[9]*100));
return str;
}

function saveCurrentLevelsToCookie(tag){
	// omit tag for personal curve
	if (tag === undefined) tag="CAL";
	// load Cookie
	var userData={};
	var cookieName='uSET_'+uIDS;
	if (cookieName=='uSET_') cookieName='uSET_unlogged';
	var tmp = JSON.parse(readCookie(cookieName));
	if (tmp!=null) userData = tmp;
	// Save Associative Array
	userData[tag]=cookieURL;
	// Save Assicative Array
	var days=36500;
	createCookie(cookieName,JSON.stringify(userData),days);
	if (tag!="CAL") msg("All settings now saved as a browser cookie...");
}

function loadCurrentLevelsFromCookieAndSetSliders(tag){
	if (tag === undefined) tag="CAL";
	var userData={};
	var cookieName='uSET_'+uIDS;
	if (cookieName=='uSET_') cookieName='uSET_unlogged';
	var tmp = JSON.parse(readCookie(cookieName));
	if (tmp!=null) userData = tmp;
	if (userData[tag]!=null) {

		var args=getUrlVars('?l='+userData[tag]);
		loadURLsettings(args);
		if (tag=="CAL") msg("Your Personal Curve"); else msg("Your Custom Settings for this noise");
		}
	else {
			if (tag=="CAL") msg("ERROR: no data found. Please  <a href='/calibration.php'>calibrate</a> (donor, log in first).");
			else msg("ERROR: no user setting found, save one first.");
	}
}

 /* function migrateCookies(){
	var days=36500;
	var cookieName='uSET_'+uID;
	var cookieNameS='uSET_'+uIDS;
	var tmp=readCookie(cookieName);
	if (tmp) { createCookie(cookieNameS,tmp,days); eraseCookie(cookieName);}
	var cookieName='fSET_'+uID;
	var cookieNameS='fSET_'+uIDS;
	var tmp=readCookie(cookieName);
	if (tmp) { createCookie(cookieNameS,tmp,days); eraseCookie(cookieName);}
} */


// Apply Calibration to current sliders

function emphasis(){
	var tag="CAL";
	var calLevel;
	var totalLevelBefore=0;
	var totalLevelAfter=0;
	var userData={};
	var cookieName='uSET_'+uIDS;
	if (cookieName=='uSET_') cookieName='uSET_unlogged';
	var tmp=readCookie(cookieName);
	if (tmp!=null) userData=JSON.parse(tmp);
	if (userData[tag]!=null) {
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			calLevel= userData[tag].substring(2*i,2*i+2)/100;
			totalLevelBefore+=currentLevel[i];
			currentLevel[i]=currentLevel[i]*(calLevel/0.3);
			totalLevelAfter+=currentLevel[i];
		}
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			currentLevel[i]=currentLevel[i]*totalLevelBefore/totalLevelAfter;
		}
		
	emphasisEQ(0);
	setCurrentLevelsToSliders();
	msg("Calibration curve applied to the sliders.");
		}
		
	else {
	msg("ERROR: no calibration found. Please <a href='/calibration.php'>calibrate</a> first.");
	}
	customLinkAssign('tosliders','white','> Applied to Sliders','');
	customLinkAssign('full','lowlight','Full','');
	customLinkAssign('balanced','lowlight','Balanced','');
	customLinkAssign('none','lowlight','None','');
}

function emphasisEQ(factor){ 

	var tag="CAL";
	var calLevel;
	var userData={};
	var cookieName='uSET_'+uIDS;
	if (cookieName=='uSET_') cookieName='uSET_unlogged';
	var tmp=readCookie(cookieName);
	if (tmp!=null) userData=JSON.parse(tmp);
	
	
	if (userData[tag]!=null) {

	masterGain.gain.value=0;

	var dB = new Array();
	var totdB=0;
	var mindB=999999;

	if (!bEQ) {
		// setup and re-wiring
		var freqs=[20,60,125,250,500,1000,2000,4000,8000,17000];
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			eqNode[i]=context.createBiquadFilter();
			eqNode[i].type="peaking";
			eqNode[i].frequency.value=freqs[i];
			eqNode[i].Q.value=0.25;
			eqNode[i].gain.value=0;
		} 
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			gainNodeA[i].connect(eqNode[0]);
			gainNodeB[i].connect(eqNode[0]);
		}
		for (var i = 0; i < iNUMBERBANDS-1; ++i) { eqNode[i].connect(eqNode[i+1]); }
		eqNode[9].connect(masterGain);
		bEQ=1;
	}

	
	
		// get cal curve in dB
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			calLevel= userData[tag].substring(2*i,2*i+2)/100;
			if (calLevel>0) dB[i]=Math.round(26*Math.log(calLevel));
			else dB[i]=0;
			totdB+=dB[i];
			if (dB[i]<mindB) mindB=dB[i];
		}
		// apply gain
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			eqNode[i].gain.setTargetAtTime(factor*(dB[i]-mindB),context.currentTime,0.01);
		}

		masterGain.gain.setTargetAtTime(1/Math.pow(10,factor*((totdB/10)-mindB)/10)*0.6,context.currentTime,0.1);
		
		customLinkAssign('full','actionlink','Full');
		customLinkAssign('balanced','actionlink','Balanced');
		customLinkAssign('none','actionlink','None');
		
		switch(factor) {
			  case 1:
				customLinkAssign('full','white','Full');
				msg("Full calibration - best for headphones compensation");
				break;
			  case 0.5:
				customLinkAssign('balanced','white','Balanced');
				msg("Balanced calibration - best for hearing compensation");
				break;
			  case 0:
				customLinkAssign('none','white','None');
				msg("iEQ is now bypassed - no compensation applied");
				break;
			}
		
		}	
	else {
		msg("ERROR: no calibration found. Please <a href='/calibration.php'>calibrate</a> first.");
	} 
}

function customLinkAssign(id,classname,innerhtml,onclickfuntion) {
if (document.getElementById(id)) {
	document.getElementById(id).className = classname;
	document.getElementById(id).innerHTML = innerhtml;
	if (arguments.length==4) document.getElementById(id).onclick = onclickfuntion;
	}
}

function loadURLsettings(args){
	if (args['l']!== undefined) {
		var code=args['l'];
		code.replace(/\D/g,''); // XSS zapping all non digits 
		for (var i = 0; i < iNUMBERBANDS; ++i) {currentLevel[i] = code.substring(2*i,2*i+2)/100;}
		setCurrentLevelsToSliders();
	}
	if (args['apl']!== undefined) {
		var code=args['apl'];
		code.replace(/\D/g,''); // XSS zapping all non digits 
		for (var i = 0; i < iNUMBERBANDS; ++i) {animationProfileLow[i] = code.substring(2*i,2*i+2)/100;}
		bANIMATIONUSERPROFILESET=1;
	}
	if (args['aph']!== undefined) {
		var code=args['aph'];
		code.replace(/\D/g,''); // XSS zapping all non digits 
		for (var i = 0; i < iNUMBERBANDS; ++i) {animationProfileHigh[i] = code.substring(2*i,2*i+2)/100;}
		bANIMATIONUSERPROFILESET=1;
	}
	if (args['a']!== undefined) {
		setAnimationSpeed(args['a']);
	}
	if (args['am']!== undefined) {
		setAnimationMode(args['am']);
	}
	if (args['astart']!== undefined) {
		if (args['astart']==1) { startModulation(); };
	}
	if (args['tm']!== undefined) {
		var minutes=parseInt(args['tm']);
		if (typeof minutes === 'number') {
			setTimer(minutes);
			activateButton(["timer"],1);
		}
	}
	if (args['bl']!== undefined) {
		var minutes=decodeURIComponent(args['bl']);
		if ( (minutes>0) || (minutes.includes(':')) ){
			setMeditationBell(minutes);
			activateButton(["bell"],1);
		}
	}
	if (args['mt']!== undefined) {
		var mute=parseInt(args['mt']);
		if (mute==1) forceMute(1);
	}
	if (bSUSPENDED) resumeContext();
}

function initTuning(){
	for (var i = 0; i < iNUMBERBANDS; ++i) playbackFactor[i]=1;
	var args=getUrlVars();
	if (args['d']!== undefined) {
		detune=args['d'];
		detune.replace(/\D/g,''); // XSS zapping all non digits 
		}
	computePlaybackFactorsFromDetune();
}

function disableSliders(){for (var i = 0; i < iNUMBERBANDS; ++i) disableSlider(i);bDISABLE=1;}
function enableSliders(){for (var i = 0; i < iNUMBERBANDS; ++i) enableSlider(i);bDISABLE=0;}
function disableSlider(i){
		$( "#s"+i ).addClass("disabled");
		$( "#s"+i ).slider( "option", "disabled", true );
		
	}
function enableSlider(i){
		$( "#s"+i ).removeClass("disabled");
		$( "#s"+i ).slider( "option", "disabled", false );

	}

function toggleCalibration() {
	bCALIBRATE=!bCALIBRATE;
	if (bCALIBRATE==1) {
		enableSliders();
		movedSlider=-99;
		$("#caliBtn").html("3.&nbsp; Save Your Personal Curve");
		}
	else {
		saveCurrentLevelsToCookie();
		setAllLevels();
		disableSliders();
		$("#caliBtn").html("Done! (Click to recalibrate)");
	}
}

function toggleModulation(bNoMsg) {

	bANIMATE=!bANIMATE;
	if (bANIMATE==1) {
	
		if (!bANIMATIONUSERPROFILESET) {
			var tmp=0;
			for (var i = 0; i < iNUMBERBANDS; ++i) {
				tmp+=currentLevel[i];
				animationProfileHigh[i]=Math.min(currentLevel[i]*1.25,0.99);
				animationProfileLow[i]=currentLevel[i]*0.5;
				}
			if (tmp==0){
				// we have a problem, animation will start with all-zero min max.
				for (var i = 0; i < iNUMBERBANDS; ++i) animationProfileHigh[i]=fTARGETSLIDERLEVEL*1.25;
			
			}
			}
	
		savedLevel = currentLevel.slice(0); // copy values, not ref!
		savedCurrentLevel = currentLevel.slice(0); // copy values, not ref!
		nzSliderIndex=[];
		mmMin=1;mmMax=0;
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			if (savedLevel[i]>0) {
				if (savedLevel[i]<mmMin) mmMin=savedLevel[i];
				if (savedLevel[i]>mmMax) mmMax=savedLevel[i];
				nzSliderIndex.push(i);
			}
		}
		disableSliders();
		updateButtons();
		modulationRandom();
		}
	else {
		// currentLevel=savedLevel.slice(0); // copy values, not ref!
		clearTimeout(modulationTimeout);
		enableSliders();
		updateButtons();
		setCurrentLevelsToSliders();
		randomCounter=0;
	}
	 if (bNoMsg!=1) {
	 if (bANIMATE==1) msg("Sliders are on the move...");
	 else msg("Slider animation has been stopped");
	 }
}

function stopModulation() {
	if (bANIMATE==1) {
	toggleModulation(1);
	randomCounter=0;
	}
}

function startModulation() {
	if (bANIMATE==0) {toggleModulation(1);}
}

function modulationRandom(){

		function getRandomIndices(count, eligibleIndices) {
		let selectedIndices = new Set();
		let attempts = 0;
		let maxAttempts = eligibleIndices.length * 1000; // A limit to prevent infinite looping

		while (selectedIndices.size < count && attempts < maxAttempts) {
			let randomIndex = eligibleIndices[Math.floor(Math.random() * eligibleIndices.length)];
			selectedIndices.add(randomIndex);
			attempts++;
		}
		return Array.from(selectedIndices);
	}

		iCurrentAnimationSpeed=iINITIALANIMATIONSPEED/iAnimationFactor;
		var nCycle=10; // number of steps between snapshots
	
		if (randomCounter==0) {   // time to generate a new random state from the saved curve
		
			var ranSlider8=-1;
			var count8=0;
			var max8=0;
		
			if (iAnimationMode==8) {
				    	for (var i = 0; i < iNUMBERBANDS; ++i) { 
				    		if (savedLevel[i]==0) {count8++;}
				    		else if (savedLevel[i]>max8) max8=savedLevel[i];
				    	}
				    	if (count8<2) { msg('This animation mode requires a couple of sliders set to zero');}
				    	else {
				    		while (ranSlider8<0){
				    			var ran8=Math.floor(Math.random()*10);
				    			if (savedLevel[ran8]==0) ranSlider8=ran8;
				    		}
				    	}
				    	max8=Math.min(max8*1.15,0.99);
				}

			savedCurrentLevel = currentLevel.slice(0);  // save where we come from, copy values, not ref!

				for (var i = 0; i < iNUMBERBANDS; ++i) {
					var smin,smax;
				  	if (iAnimationMode==1) {smin=0.5;smax=1.25;}
				  	if (iAnimationMode==2) {smin=0.8;smax=1.1;}
				  	if (iAnimationMode==3) {smin=0;smax=1.5;}
				    var ran=(smax-smin)*Math.random()+smin;
				    if (iAnimationMode<4)  {randomLevel[i] = ran*savedLevel[i];}
				    if (iAnimationMode==4) {if (savedLevel[i]>0) randomLevel[i]=Math.random()*(mmMax-mmMin)+mmMin; else randomLevel[i]=0;}
				    if (iAnimationMode==5) {if (Math.random()>0.6) randomLevel[i]=0; else randomLevel[i]=savedLevel[i]; }
				    if (iAnimationMode==6) {randomLevel[i]=savedLevel[Math.floor(Math.random()*10)]; }
				    if (iAnimationMode==7) {if (savedLevel[i]>0) randomLevel[i]=savedLevel[nzSliderIndex[Math.floor(Math.random()*nzSliderIndex.length)]]; else randomLevel[i]=0;}
				    if (iAnimationMode==8) {
				    	if (i==ranSlider8) randomLevel[i]=max8;
				    	else randomLevel[i]=savedLevel[i];
				    	}
				    if (randomLevel[i]>0.99) randomLevel[i]=0.99;
				    } 
		
				// new animations modes
				
				if (iAnimationMode=="s") {
					for (var i = 0; i < iNUMBERBANDS; ++i) {randomLevel[i]=animationProfileLow[i]+Math.random()*(animationProfileHigh[i]-animationProfileLow[i])}
					}
				if (iAnimationMode=="h") {
					for (var i = 0; i < iNUMBERBANDS; ++i) {
						if (Math.random()<0.5) randomLevel[i]=animationProfileHigh[i]; 
						else randomLevel[i]=animationProfileLow[i];
					}
					}
				if ((iAnimationMode=="i")||(iAnimationMode=="d")||(iAnimationMode=="t")){
					
							var eligibleIndices = [];
							for (var i = 0; i < iNUMBERBANDS; ++i) {
								if (animationProfileLow[i] !== animationProfileHigh[i]) {
									eligibleIndices.push(i);
								}
							}
							var indices = [];
							switch (iAnimationMode) {
								case 'i':
									indices = getRandomIndices(1, eligibleIndices);
									break;
								case 'd':
									indices = getRandomIndices(2, eligibleIndices);
									break;
								case 't':
									indices = getRandomIndices(3, eligibleIndices);
									break;
								default:
							}

							for (var i = 0; i < iNUMBERBANDS; ++i) {
								if (indices.includes(i)) {
									randomLevel[i] = Math.max(animationProfileLow[i], animationProfileHigh[i]);
								} else {
									randomLevel[i] = Math.min(animationProfileLow[i], animationProfileHigh[i]);
								}
							}

					}
		}
		
		
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			if (selSliders[i]) {currentLevel[i] = savedCurrentLevel[i]+randomCounter*(randomLevel[i]-savedCurrentLevel[i])/nCycle};
		}
		setCurrentLevelsToSliders();
		if (++randomCounter==(nCycle+1)) randomCounter=0;
		clearTimeout(modulationTimeout);	
		modulationTimeout = setTimeout(function(){modulationRandom();},iCurrentAnimationSpeed*1000/nCycle);
}

function saveRandomExchange(){                                   
    savedLevel = currentLevel.slice(0);
    randomLevel = currentLevel.slice(0);
    msg("Animation data has been updated!");
    randomCounter=0;
}

function toggleMute() {
    var fadeSteps=37;
    if (iTimer==0) fadeSteps=173;
    iFadeState=0;
	bMUTE=!bMUTE;
	if (bMUTE==1) {
		fadeOut(1,fadeSteps);
		if (iMTimer>0) setMeditationBell(0);
		updateButtons();
		if (iTimer==0) msg("It's time to... slowly fade out... (and sleep)");
		else  msg("Press Play to resume");
	}
	else {
		fadeOut(0,fadeSteps);
		updateButtons();
		if (iTimer==0) msg("It's time to... slowly fade in... (and wake up)");
		else msg("");
	}
	if (iTimer==0) iTimer=-1;
	updateDocumentLinks();
	if (bogus) {
		if (bMUTE==1) bogus.pause(); 
		else bogus.play();
	}
}

function forceMute(bTurnOn) {
	if (bTurnOn) {
		bMUTEsaved=bMUTE;
		if (!bMUTE) toggleMute();
		}
	else {
		if (!bMUTEsaved && bMUTE) toggleMute();
	}
	bMUTEFORCED=bTurnOn;
}

function startMuted(){bSTARTMUTED=1;}

function returnMute() {return bMUTE;}

function updateButtons() {
	if (bMUTE==1) { 
		document.getElementById("mute").src = "/Pix/icon_play.png";
		document.getElementById("mute").style.display = "block";
		document.getElementById("fftCanvas").style.display = "none";
		enableButton(["reset","anim","volDown","volUp","calib","bell","timer"],0);
		disableSliders();
	}
	else{
		document.getElementById("mute").src = "/Pix/icon_pause.png";
		document.getElementById("mute").style.display = "none";
		document.getElementById("fftCanvas").style.display = "block";
		enableButton(["reset","anim","volDown","volUp","calib","bell","timer"],1);
		if (bANIMATE==1) {
			activateButton(["anim"],1);
		}
		else {
			enableButton(["reset"],1);
			activateButton(["anim"],0);
			enableSliders();		}
		}
}

function setTimer(time) {
	if((typeof time === "undefined") || (isNaN(time))) {
		var elapsed=((new Date).getTime()-epoch);
		iTimer=Math.max(0,iTimer-elapsed/60000+2);
		if (iTimer<1) {iTimer=1;msg("Timer set to 1 minute"); activateButton(["timer"],1);}
			else if (iTimer<5) {iTimer=5;msg("Timer set to 5 minutes");}
			else if (iTimer<10) {iTimer=10;msg("Timer set to 10 minutes");}
			else if (iTimer<15) {iTimer=15;msg("Timer set to 15 minutes");}
			else if (iTimer<20) {iTimer=20;msg("Timer set to 20 minutes");}
			else if (iTimer<25) {iTimer=25;msg("Pomodoro time! (25 minutes) Keyboard Shortcut: o");}
			else if (iTimer<30) {iTimer=30;msg("Timer set to 30 minutes");}
			else if (iTimer<60) {iTimer=60;msg("Timer set to 1 hour");}
			else if (iTimer<120) {iTimer=120;msg("Timer set to 2 hours");}
			else if (iTimer<240) {iTimer=240;msg("Timer set to 4 hours");}
			else if (iTimer<480) {iTimer=480;msg("Timer set to 8 hours");}
			else {iTimer=-1;msg("Timer is disabled");activateButton(["timer"],0);};
		}
		else {
			if (time==0) {iTimer=0;updateTimer();}
			else {
			iTimer=time;
			msg("Timer set to "+time+" min");
			}
		}
		URLtimer='&tm='+iTimer;
		if (iTimer==-1) URLtimer='';
		updateDocumentLinks();

	if(document.getElementById('timerText') !== null) {
		if (iTimer>0) document.getElementById('timerText').value = iTimer;
		else document.getElementById('timerText').value = "";
		document.getElementById('timerText').blur();
	}
	
	epoch=(new Date).getTime(); //ms
	clearTimeout(timerTimeout);	
	timerTimeout = setTimeout(function(){updateTimer();},10000);

}

function updateTimer() {

	if (iTimer<0) return;

	var elapsed=((new Date).getTime()-epoch);
	var remaining=iTimer*60-elapsed/1000; //s

	if (remaining<=0) {
		// disable all interface
		   iTimer=0;
		   activateButton(["timer"],0);
		   toggleMute();
		   if(document.getElementById('timerText') !== null) document.getElementById('timerText').value = "";
		}
	else {
		if(document.getElementById('timerText') !== null) document.getElementById('timerText').value = Math.ceil(remaining/60);
		clearTimeout(timerTimeout);	
		timerTimeout = setTimeout(function(){updateTimer();},10000);
	}
}

function setMeditationBell(time) {

	playBell();
	clearTimeout(meditationInterval);clearTimeout(meditationInterval2);	

	if(typeof time === "undefined"){
		if (iMTimer<1) {iMTimer=1;time=1;activateButton(["bell"],1);}
			else if (iMTimer<5) {iMTimer=5;time=5;}
			else if (iMTimer<10) {iMTimer=10;time=10;}
			else if (iMTimer<15) {iMTimer=15;time=15;}
			else if (iMTimer<20) {iMTimer=20;time=20;}
			else if (iMTimer<25) {iMTimer=25;time=25;}
			else if (iMTimer<30) {iMTimer=30;time=30;}
			else if (iMTimer<60) {iMTimer=60;time=60;}
			else if (iMTimer<99999) {iMTimer=99999;time="5:60"}
			else {iMTimer=-1;time=-1;activateButton(["bell"],0);};
			}
	// time is now defined
			if (isNaN(time)) { // not numeric (random setting such as nn:mm)
				time=time.replace("?", ":");
				time=time.replace("-", ":");
				var parts = time.split(":");
				if (parts.length==2) {
					if (isNaN(parts[0])) return; if (isNaN(parts[1])) return;
					var minTime=Math.min(parts[0],parts[1]);
					var maxTime=Math.max(parts[0],parts[1]);
					var nextBell=Math.round(minTime+Math.random()*(maxTime-minTime));
					meditationInterval = setTimeout(function(){setMeditationBell(time)},nextBell*60000);
					msg("Random Bells from "+minTime+" to "+maxTime+" min");
					if(document.getElementById('bellText') !== null) document.getElementById('bellText').value = "R";
				} 
				else {
						parts = time.split("+");
						if (parts.length==2) {
						if (isNaN(parts[0])) return; if (isNaN(parts[1])) return;
						var firstTime=parts[0];
						var secondTime=parts[1];
						var totalTime=parseFloat(firstTime)+parseFloat(secondTime);
						meditationInterval = setTimeout(function(){playBell()},firstTime*60000);
						meditationInterval2 = setTimeout(function(){setMeditationBell(time)},totalTime*60000);
						msg("Dual Session Bell : "+firstTime+"•"+secondTime+"•"+firstTime+"•"+secondTime+" ... min");
						if(document.getElementById('bellText') !== null) document.getElementById('bellText').value = "D";
						} 
				}
				
			} 
			else { // numeric
				iMTimer=time;
				if (iMTimer>0) { 
					if (iMTimer==1) msg("Meditation Bell every minute");
					else if (iMTimer==25) msg("Pomodoro Bell (25 minutes) Shortcut: Shift+o");
					else if (iMTimer==60) msg("Meditation Bell every hour");
					else msg("Meditation Bell every "+time+" min");
					
					if(document.getElementById('bellText') !== null) document.getElementById('bellText').value = iMTimer;
					}
				else {
					msg("Meditation Bell now disabled"); activateButton(["bell"],0)
					if(document.getElementById('bellText') !== null) document.getElementById('bellText').value = "";
				}
				if (iMTimer>0) meditationInterval = setInterval(function(){playBell();},iMTimer*60000);
			}
			
	URLbell='&bl='+encodeURIComponent(time);
	if (time==-1) URLbell='';
	updateDocumentLinks();
			
	if(document.getElementById('bellText') !== null) document.getElementById('bellText').blur();

}

function collectNZ() {
	var userData={};
	var cookieName='collectBuffer';
	var tmp=readCookie(cookieName);
	var collected=0;
	if (tmp!=null) userData=JSON.parse(tmp);
	else {
		userData['codes']=[];
		userData['levels']=[];
		userData['detunes']=[];
		userData['pass']=0;
	}
	for (var i = 0; i < iNUMBERBANDS; ++i) { 
		if (currentLevel[i] >0) {
				var urlParsed = sourceFileA[i].substring(sourceFileA[i].indexOf('Data/')).split("/");
				userData['codes'].push(urlParsed[1]+urlParsed[2].substring(0,1));
				userData['levels'].push(Math.round(currentLevel[i]*100));
				userData['detunes'].push(Math.round(Math.log2(playbackFactor[i])*12));
				collected=1;
			} 
	}
	
	if (collected) userData['pass']+=1;
	
	// trimming
	while (userData['codes'].length>10) {
		userData['codes'].shift();
		userData['levels'].shift();
	}
	console.log("Custom Stack : ");
	console.log(userData);
	// saving
	var days=1;
	createCookie(cookieName,JSON.stringify(userData),days);
	msg("[Custom] Non-zero sliders have been collected ["+userData['codes'].length+"/10]");
}

function clearStack() {
	var userData={};
	var cookieName='collectBuffer';
	var tmp=readCookie(cookieName);
	userData['codes']=[];
	userData['levels']=[];
	userData['detunes']=[];
	userData['pass']=0;
	var days=1;
	createCookie(cookieName,JSON.stringify(userData),days);
	msg("[Custom] Stack is now cleared [0/10]");
}

function customGenLaunch() {
	var url;
	var userData={};
	var cookieName='collectBuffer';
	var tmp=readCookie(cookieName);
	if (tmp!=null) userData=JSON.parse(tmp);
	else {
		userData['codes']=[];
		userData['levels']=[];
		userData['detunes']=[];
		userData['pass']=0;
	}
	if (userData['codes'].length<10) msg("[ERROR] Collect 10 individual sliders first! ("+userData['codes'].length+" collected)");
	else
	{ 
		// sort stack
		var userDataSorted={};
		userDataSorted['codes']=[];
		userDataSorted['levels']=[];
		userDataSorted['detunes']=[];
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			for (var j = 0; j < userData['codes'].length; ++j) {
				if(userData['codes'][j].substr(-1)==i) {
					userDataSorted['codes'].push(userData['codes'][j]);
					userDataSorted['levels'].push(userData['levels'][j]);
					userDataSorted['detunes'].push(userData['detunes'][j]);
				}
			}
		}
		// generate url
		url="https://mynoise.net/NoiseMachines/custom.php?l="
		for (var i = 0; i < iNUMBERBANDS; ++i) {
			if (userDataSorted['levels'][i]<10) url+='0'+userDataSorted['levels'][i];
			else url+=userDataSorted['levels'][i];
			}
			
		url+='00&m=';
		for (var i = 0; i < iNUMBERBANDS; ++i) url+=userDataSorted['codes'][i]+'~';
		url = url.substring(0,url.length-1);
		// add detune string
		var bDetuned=0;
		for (var i = 0; i < iNUMBERBANDS; ++i) if (userDataSorted['detunes'][i]!=0) bDetuned=1;
		if (bDetuned){
			url+="&d=";
			for (var i = 0; i < iNUMBERBANDS; ++i) url+=''+(50+userDataSorted['detunes'][i]);
		}
		
		var title=window.prompt("[Custom] Your custom generator is almost ready! We are just a short title away...","A Short Title");
		if (title == null || title == "") {
			// User cancelled
		} else {
			original='';
			if (userData['pass']>1) original='&orig=1';
			url+=original+'&title='+encodeURIComponent(titleCase(title.trim()));
				window.open(url,"_self");
		}
	}
}

function titleCase(str) {
   var splitStr = str.toLowerCase().split(' ');
   for (var i = 0; i < splitStr.length; i++) splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);
   return splitStr.join(' '); 
}

function help() {
  var myWindow = window.open("/NoiseMachines/help.php", "myNoise Help", "width=480,height=800");
}

function selectedSlidersAdd(s) {
	if (selSliders[10]==5) {  // MIDI
		experimentalMIDI(s);
		selSliders[10]=1;
		return;
	}	 
	if(os==1) {playOS(s); return;}
	else { 
		if (selSliders[10]==3) {  // Audio Fade
			fAUDIOFADETIME=s;
			msg("[Audio Fade] Confirmed "+fAUDIOFADETIME+"s");
			selSliders[10]=1;
		}
		if (selSliders[10]==4) {  // Random Select
			selSliders=[0,0,0,0,0,0,0,0,0,0,1];
			selectedSlidersRandom(s);
			var weight=0;
			for (var i = 0; i < iNUMBERBANDS; ++i) { weight+=selSliders[i] };
			selectedSlidersHighlight(0.45-0.015*weight);
		}
		if (selSliders[10]<2) { // selSliders[10]=currently adding stems flags
			if (selSliders[10]==0) selSliders=[1,1,1,1,1,1,1,1,1,1,1]; 
			selSliders[s]=1-selSliders[s];
			selectedSlidersDraw();
		}
	}
}

function selectedSlidersReset() {
	var weight=0;
	for (var i = 0; i < iNUMBERBANDS; ++i) { weight+=selSliders[i] };
	if (weight>1) selSliders=[0,0,0,0,0,0,0,0,0,0,1];
	else selSliders=[1,1,1,1,1,1,1,1,1,1,1];
	selectedSlidersDraw();
}

function selectedSlidersRandom(proba) {
	for (var i = 0; i < iNUMBERBANDS; ++i) {
		if (Math.random()<(proba/10)) selSliders[i]=1;
		else selSliders[i]=0;
		}
	selectedSlidersDraw();
}

function selectedSlidersHighlight(value) {
	for (var i = 0; i < iNUMBERBANDS; ++i) {
		if (selSliders[i]) $("#s"+i).slider( "value", value );
		else $("#s"+i).slider( "value", 0 );
		}
	selectedSlidersDraw();
}

function selectedSlidersFunction(type) {
switch(type){
	case 0: // invert
		for (var i = 0; i < iNUMBERBANDS; ++i) selSliders[i]=1-selSliders[i];
		break;
	case 1: // invert
		var sum=0;
		for (var i = 0; i < iNUMBERBANDS; ++i) sum+=currentLevel[i];
		sum/=10;
		for (var i = 0; i < iNUMBERBANDS; ++i) { if (currentLevel[i]<sum) selSliders[i]=1; else selSliders[i]=0;}
		break;
	}
	selSliders[10]=0;
	selectedSlidersDraw();
}

function selectedSlidersDraw(){
	for (var i = 0; i < iNUMBERBANDS; ++i) { 
		if (selSliders[i]) {
			$("#s"+i).removeClass("ui-slider-vertical_lowlight");
			$("#s"+i).addClass("ui-slider-vertical");
			}
		else {
			$("#s"+i).removeClass("ui-slider-vertical");
			$("#s"+i).addClass("ui-slider-vertical_lowlight");
		}
	}
}

function selectedSlidersVolUp(offset) {
	for (var i = 0; i < iNUMBERBANDS; ++i) { 
		if (selSliders[i]) {
					currentLevel[i]=Math.min(0.99,currentLevel[i]+offset);
					savedLevel[i]=Math.min(0.99,savedLevel[i]+offset); randomCounter=0;  //anim
					$( "#s"+i ).slider("value", currentLevel[i]);
		}
	}
}

function selectedSlidersVolDown(offset) {
	for (var i = 0; i < iNUMBERBANDS; ++i) { 
		if (selSliders[i]) {
					currentLevel[i]=Math.max(0,currentLevel[i]-offset);
					savedLevel[i]=Math.max(0,savedLevel[i]-offset); randomCounter=0;  //anim
					$( "#s"+i ).slider("value", currentLevel[i]);
		}
	}
}

function selectedSlidersVolUpDown(offset) {
	var weight=0;
	for (var i = 0; i < iNUMBERBANDS; ++i) { weight+=selSliders[i] };
	if (weight==0) { selectedSlidersRandom(5);for (var i = 0; i < iNUMBERBANDS; ++i) { weight+=selSliders[i] };}
	if (weight==10) selectedSlidersVolUp(offset);
	else {
		var offsetUp=offset*5/weight;
		var offsetDown=offset*5/(10-weight);
		for (var i = 0; i < iNUMBERBANDS; ++i) { 
			if (selSliders[i]) {
					var value=Math.min($( "#s"+i).slider("option", "value")+offsetUp,1); 
					$("#s"+i).slider( "value", value );
					}
			else {
					var value=Math.max($( "#s"+i).slider("option", "value")-offsetDown,0); 
					$("#s"+i).slider( "value", value );
			}
		}
	}
}

function slidersUp(){ // mutiplicative to avoid stuck at zero
	if (bMUTE==1) toggleMute();
	for (var i = 0; i < iNUMBERBANDS; ++i) {
		currentLevel[i]=Math.min(0.99,currentLevel[i]*fLevelMultiplier);
		savedLevel[i]=Math.min(0.99,savedLevel[i]*fLevelMultiplier); randomCounter=0;  //anim
		if (bANIMATE==1) {
			animationProfileLow[i]=Math.min(0.99,animationProfileLow[i]*fLevelMultiplier);
			animationProfileHigh[i]=Math.min(0.99,animationProfileHigh[i]*fLevelMultiplier);
		}
		$( "#s"+i ).slider("value", currentLevel[i]);
		}
	computeAverageSliderLevel();
	console.log('Animation Profile Low = '+animationProfileLow);
	console.log('Animation Profile High = '+animationProfileHigh);
	
}

function slidersDown(){ // mutiplicative to avoid stuck at zero
	if (bMUTE==1) toggleMute();
	for (var i = 0; i < iNUMBERBANDS; ++i) {
		currentLevel[i]=currentLevel[i]/fLevelMultiplier;
		savedLevel[i]=savedLevel[i]/fLevelMultiplier; randomCounter=0; //anim
		if (bANIMATE==1) {
			animationProfileLow[i]=animationProfileLow[i]/fLevelMultiplier;
			animationProfileHigh[i]=animationProfileHigh[i]/fLevelMultiplier;
		}
		$( "#s"+i ).slider("value", currentLevel[i]);
		}
	computeAverageSliderLevel();
}

function computeAverageSliderLevel(){
	var max=0;
	var sum=0;
	for (var i = 0; i < iNUMBERBANDS; ++i) {
			sum+=currentLevel[i];
			if (currentLevel[i]>max) max=currentLevel[i];
		}
	averageSliderLevel=(max*10+sum)/20;
	if (bMEDITATIONSESSION) {for (var i = 0; i<7; ++i) if (voiceover[i]) voiceover[i].volume=averageSliderLevel/2;}
	meditationBell.volume=averageSliderLevel/2;
}

function selectedSlidersZero(type){
	if (type>0) {
		for (var i = 0; i < iNUMBERBANDS; ++i) { if (selSliders[i]==1) $("#s"+i).slider( "value", 0 ); }
		} else {
		for (var i = 0; i < iNUMBERBANDS; ++i) { if (selSliders[i]==0) $("#s"+i).slider( "value", 0 ); }
	}
}

function selectedSlidersShift(dir){
	var tmp;
	if (dir>0) {
		tmp=selSliders[9];
		for (var i = iNUMBERBANDS-1;i>0;--i) selSliders[i]=selSliders[i-1];
		selSliders[0]=tmp;
	} else {
		tmp=selSliders[0];
		for (var i = 0;i<iNUMBERBANDS-1;++i) selSliders[i]=selSliders[i+1];
		selSliders[9]=tmp;
	}
	selectedSlidersDraw();
}

function startMeditationRoom(){

	if (bSUSPENDED) resumeContext();
	setTimer(0);
	
	forceMute(0);

	bMEDITATIONSESSION=1-bMEDITATIONSESSION;
	
	if (bMEDITATIONSESSION) {
	
	
	var element=document.getElementById("bgimage");
	element.classList.remove("animated");
	element.style.backgroundImage="url(/Pix/bgMeditationRoom2x.jpg)";
	void element.offsetWidth; // trick to trigger re-animation
  	element.classList.add("animated");
	disableSliders();
		enableButton(["reset","anim","mute","fftCanvas","timer","bell","calib","play0","play1","play2","play3","play4","play5","play6","play7","play8","play9"],0);
		fAUDIOFADETIME=3;
		msg("Controls have been disabled. Relax and close your eyes");
		
		allContents=document.getElementById("description").innerHTML;
		$( ".nestedSection" ).hide();
		$( "#description" ).show();
		
		document.getElementById("description").innerHTML="<div class='contentText'><h1>Welcome to the Meditation Room</h1><p>Find a quiet place where you will not be interrupted for the next 10 minutes. Meditations cannot be paused. If you got interrupted, you are invited to <span class='actionlink' onclick='startMeditationRoom()'>&rarr; Leave The Meditation Room</span>, and come back later again when you will be fully available. I will still be here, waiting for you ;-)</p><blockquote>The myNoise meditation room uses prompts from a pool of different meditation scripts, so your experience will be different between visits.</blockquote><p><img src='/Pix/stephane.png' width='100px'></p><p class='lowlight'><em>This function is still in beta. Do not hesitate to contact me - stephane at mynoise dot net - to leave feedback about your experience, and share suggestions for improvements.</em></p> </div>";
	
		setPreset(0,0,0,0,0,0,0,0,0,0,"Meditation Room");
		//playBell();
		
		for (var i = 0; i<7; ++i) { 
			if (!voiceover[i]){voiceover[i]=new Audio('/Audio/MeditationRoom/'+i+'_'+Math.floor(1+Math.random()*5)+fileExt);voiceover[i].preload='auto';}			
			voiceover[i].volume=averageSliderLevel/2;
		}
				
		var s=[0,1,2,3,4,5,6,7,8,9];
		s=s.sort((a, b) => 0.5 - Math.random());
		var p=new Array();
		var k=0;
		
		var maxDur=[7,14,7,16,65,17,19];
		var startOffset=8;

		sto[k++]=setTimeout(function(){voiceover[0].play();},startOffset*1000);
		sto[k++]=setTimeout(function(){voiceover[1].play();},(startOffset+maxDur[0]+3)*1000);
		sto[k++]=setTimeout(function(){voiceover[2].play();},(startOffset+maxDur[0]+maxDur[1]+6)*1000);
		sto[k++]=setTimeout(function(){voiceover[3].play();},(startOffset+maxDur[0]+maxDur[1]+maxDur[2]+9)*1000);
		sto[k++]=setTimeout(function(){voiceover[4].play();},(startOffset+maxDur[0]+maxDur[1]+maxDur[2]+maxDur[3]+12)*1000);
		sto[k++]=setTimeout(function(){voiceover[5].play();},(540-maxDur[5]-maxDur[6]-6)*1000);
		sto[k++]=setTimeout(function(){voiceover[6].play();},(540)*1000);
		
		
		sto[k++]=setTimeout(function(){fAUDIOFADETIME=10; 
				p=[0,0,0,0,0,0,0,0,0,0];
				p[s[0]]=averageSliderLevel; 
				setPreset(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],"")},(startOffset+maxDur[0]+3)*1000);
		sto[k++]=setTimeout(function(){fAUDIOFADETIME=60; 
				p[s[1]]=averageSliderLevel; p[s[2]]=averageSliderLevel;p[s[3]]=averageSliderLevel; 
				setPreset(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],"")},(startOffset+maxDur[0]+maxDur[1]+maxDur[2]+6)*1000);
		sto[k++]=setTimeout(function(){fAUDIOFADETIME=60; 
				p=[0,0,0,0,0,0,0,0,0,0];
				p[s[4]]=averageSliderLevel; p[s[5]]=averageSliderLevel;
				setPreset(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],"")},3*60000);
		sto[k++]=setTimeout(function(){fAUDIOFADETIME=60; 
				p=[0,0,0,0,0,0,0,0,0,0];
				p[s[6]]=averageSliderLevel; p[s[7]]=averageSliderLevel; 
				setPreset(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],"")},5*60000);
		sto[k++]=setTimeout(function(){fAUDIOFADETIME=60; 
				p=[0,0,0,0,0,0,0,0,0,0];
				p[s[8]]=averageSliderLevel; p[s[9]]=averageSliderLevel; 
				setPreset(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],"")},7*60000);		
		sto[k++]=setTimeout(function(){fAUDIOFADETIME=60; 
				setPreset(0,0,0,0,0,0,0,0,0,0,0,"")},9*60000);
		sto[k++]=setTimeout(function(){fAUDIOFADETIME=0.1;startMeditationRoom();},10*60000);
				
	} else {
		msg("You left the meditation room.");
		$('#bgimage').removeClass("animated");
		$('#bgimage').css("background-image", "url(/Data/JAMMER/bg.jpg)");
		$('#bgimage').addClass("animated");
		document.getElementById("description").innerHTML=allContents;
		$( "#description" ).hide();
		$( ".nestedSection" ).show();
		for (var i = 0; i<sto.length; ++i) {clearTimeout(sto[i]);};
		for (var i = 0; i<7; ++i) {if (!voiceover[i].paused) {voiceover[i].pause();voiceover[i].currentTime=0;}}
		fAUDIOFADETIME=0.1;
		enableSliders();
		enableButton(["reset","anim","mute","fftCanvas","timer","bell","calib","play0","play1","play2","play3","play4","play5","play6","play7","play8","play9"],1);
	}


}

function experimentalAudioFadeMode() { msg("[Audio Fade] Enter time (0..9)"); selSliders[10]=3;}
function ranNSliders() { msg("[Pick Sliders] Enter Proba (0..9)"); selSliders[10]=4;}


// Keypresses

// Non English keyboards. To be completed.
Mousetrap.addKeycodes({80:'p',32:'space',65:'a',83:'s',68:'d',82:'r',75:'k',74:'j',84:'t',76:'l',72:'h',73:'i'});

Mousetrap.bind('p', function() { toggleMute(); });
Mousetrap.bind('space', function(e) {
    if (e.preventDefault) {
        e.preventDefault();
    } else {
        // internet explorer
        e.returnValue = false;
    }
    toggleMute();
});
Mousetrap.bind('esc', function() { window.location='/noiseMachines.php' });
Mousetrap.bind('a', function() { toggleModulation(); });
Mousetrap.bind('s', function() { setAnimationSpeed(); });
Mousetrap.bind('d', function() { setAnimationMode(); });
Mousetrap.bind('r', function() { $("#reset").click(); });
Mousetrap.bind('k', function() { slidersUp(); });
Mousetrap.bind('j', function() { slidersDown(); });
Mousetrap.bind('t', function() { $("#timer").click(); });
Mousetrap.bind('l', function() { $("#bell").click(); });
Mousetrap.bind('h', function() { help(); });
Mousetrap.bind('v', function() { waveVisualizer(); });
Mousetrap.bind('o', function() { if (bMUTE) setTimer(5); else setTimer(25); activateButton(["timer"],1);msg("Pomodoro timer set!");});
Mousetrap.bind('shift+o', function()  { setMeditationBell('25+5');activateButton(["bell"],1);msg("Pomodoro bell : 25•5•25•5•... min ");});
Mousetrap.bind('w', function() { setPreset(0.18,0.21,0.24,0.27,0.3,0.34,0.38,0.42,0.46,0.5,"White"); });
Mousetrap.bind('n', function() { setPreset(0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,"Pink"); });
Mousetrap.bind('b', function() { setPreset(0.5,0.46,0.42,0.38,0.34,0.3,0.27,0.24,0.21,0.18,"Brown"); });
Mousetrap.bind('z', function() { setPreset(0,0,0,0,0,0,0,0,0,0,"Zeroed"); });
Mousetrap.bind('0', function() { selectedSlidersAdd(0);});
Mousetrap.bind('1', function() { selectedSlidersAdd(1);});
Mousetrap.bind('2', function() { selectedSlidersAdd(2);});
Mousetrap.bind('3', function() { selectedSlidersAdd(3);});
Mousetrap.bind('4', function() { selectedSlidersAdd(4);});
Mousetrap.bind('5', function() { selectedSlidersAdd(5);});
Mousetrap.bind('6', function() { selectedSlidersAdd(6);});
Mousetrap.bind('7', function() { selectedSlidersAdd(7);});
Mousetrap.bind('8', function() { selectedSlidersAdd(8);});
Mousetrap.bind('9', function() { selectedSlidersAdd(9);});
Mousetrap.bind('+', function() { selectedSlidersVolUp(0.06);selSliders[10]=0});
Mousetrap.bind('-', function() { selectedSlidersVolDown(0.06);selSliders[10]=0});
Mousetrap.bind('*', function() { selectedSlidersVolUpDown(0.03);selSliders[10]=0});
Mousetrap.bind('/', function() { selectedSlidersFunction(0);});
Mousetrap.bind('enter', function() { selectedSlidersReset();});
Mousetrap.bind('=', function() { selectedSlidersFunction(1);});
Mousetrap.bind('f', function() { experimentalAudioFadeMode();});
Mousetrap.bind('i', function() { experimentalMIDIMode();});
Mousetrap.bind('ù', function() { experimentalPitchRandom();});
Mousetrap.bind('%', function() { experimentalOSauto();});
Mousetrap.bind('µ', function() { stemDrop(); });
Mousetrap.bind('ç', function() { ranNSliders();});
Mousetrap.bind('del', function() { selectedSlidersZero(1);});
Mousetrap.bind('@', function() { selectedSlidersZero(1);});
Mousetrap.bind('shift+del', function() { selectedSlidersZero(-1);});
Mousetrap.bind('#', function() { selectedSlidersZero(-1);});
Mousetrap.bind('<', function() { selectedSlidersShift(1);});
Mousetrap.bind('>', function() { selectedSlidersShift(-1);});
Mousetrap.bind('g', function() { playAllSounds();setAllLevels();msg("Now Playing...");fCONTEXTSTART=context.currentTime;});
Mousetrap.bind('y', function() { tune(432/440);msg("Experimental - Now tuned to A4=432Hz"); });
Mousetrap.bind('?', function() { randomSettings(); });
Mousetrap.bind('c', function() { collectNZ(); });
Mousetrap.bind('shift+c', function() { customGenLaunch(); });
Mousetrap.bind('x c', function() { clearStack(); });

// favs
var fData=new Array();

var curGenCode="JAMMER";

function favorite(what){
	addToFavorites(what);
	refreshFavs();
}

function addToFavorites(what){
	var ndx=fData.indexOf(what);
	if (ndx==-1){
		$('.c'+what).attr('src','/Pix/fav_b.png');
		fData.push(what);
	}
	else { // is a favorite
		$('.c'+what).attr('src','/Pix/fav.png');
		$('.c'+what+'.titlestar').attr('src','/Pix/fav_grey.png');
		fData.splice(ndx,1);
	}
	fCookieWrite();
}

function fCookieRead(){
	var uids=readCookie('uIDS');
	var cookieName='fSET_'+uids;
	var tmp=readCookie(cookieName);
	if (tmp!=null) fData=JSON.parse(tmp);
}

function fCookieWrite(){
	var uids=readCookie('uIDS');
	var cookieName='fSET_'+uids;
	var days=36500;
	createCookie(cookieName,JSON.stringify(fData),days);
}

function highlightFavs(){
	$('.iFV').css('display', 'inline');
	$('.iFV').prop('title', 'Your favorites');
	$('.iFV').powerTip();
	fCookieRead();
	for (var i in fData) {
  		$('.c'+fData[i]).attr('src','/Pix/fav_b.png');
	}
}

function toggleFavs(){
	if (!highlighted.localeCompare('favs')) { highlighted='none'; $('.hint').parent('span').show();}
	else { highlighted='favs'; $('.hint').parent('span').hide();}
	refreshFavs();

}

function refreshFavs(){
	if (!highlighted.localeCompare('favs')) {
		$('#iFV').attr('src','/Pix/fav_b.png'); // the fav star in the user panel
		for (var i in fData) {
			$('.c'+fData[i]).css('opacity', '1');
			$('.c'+fData[i]).parent('span').show();
		}
  	}
  	else {$('#iFV').attr('src','/Pix/fav_l.png');}
}

function checkFavGen(){
	fCookieRead();
	var ndx=fData.indexOf(curGenCode);
	if (ndx>-1) $('.c'+fData[ndx]).attr('src','/Pix/fav_b.png');
	$('.c'+curGenCode).css('display', 'inline');
    $('.c'+curGenCode).prop('title', 'Favorite');
	$('.c'+curGenCode).powerTip();
}

function addGenToFavs(){
	addToFavorites(curGenCode);
}
	</script><script>
  $(function() {
    $( "#s0, #s1, #s2, #s3, #s4, #s5, #s6, #s7, #s8, #s9" ).slider({
      orientation: "vertical",
      range: "min",
	  min: 0,
      max: 0.99,
      value: 0,
      step:0.001,
      animate: "slow",
      slide: function( event, ui ) {sliderChange(event.target.id)},
      change: function( event, ui ) {sliderChange(event.target.id)}
    });
  });
</script>
<title>Speech Jammer — Audio Jammer / Noise Generator</title>
<meta name="keywords" content="noise, noise machine, sleeping machine, sleeping aid, sleeping device, noise device, baby, tinnitus, sound healing, noise masking, noise therapy, sound therapy, hearing thresholds, bacground sounds, background music, background noise">
<meta name="description" content="Audio jammers produce a unique sound for masking and protecting conversations from external listening devices, such as a smartphone running an audio recording app, hidden in a pocket.">

<!-- Inline CSS -->
<style>
.highlight{ color: 	#eee ; padding:0 1px;}
.lowlight{ color:  	#777 ;}
.orange{ color:		#F80 ;}
.blue{ color:		#09F ;}
.red{ color:#F00; }
.carbon{ color:#7b3;}
.bright{ color:#fff;}
.interview { 	
	background-color:#333;
	padding-top:1px;
	font-style: italic;
}

/* HTML REDEFINITIONS */

* {
	-webkit-box-sizing: border-box;
	box-sizing: border-box;
	margin:0;
	padding:0;
}

html {
	background:		#000;
	height:100%;
}

body {
	font-family:	'Merriweather Sans', Tahoma;
	font-size:		13px;
	line-height:	;
	background:		#000;
	color:			#aaa;
	min-width:320px;
	min-height:100%;
	overflow-x:hidden;
	text-align:left;
}

input {
	font-family:	'Merriweather Sans', Tahoma;
}

p {
	padding:10px 0px;
}

hr {
	margin:0px 20px 0px 20px;
	display: block;
	height: 1px;
	border: 0;
	border-top: 1px solid #444;
}

img {
	vertical-align:middle;
	border:none;
}


#hamburger{
	position:fixed;
	top:0;
	left:0;
	margin: 10px 10px;
	width:24px;
	height:24px;
	filter: brightness(70%);
	z-index:10;
	cursor:pointer;
}

#hamburger:hover{
	filter: brightness(100%);
}

#backburger{
	position:fixed;
	top:22px;
	left:22px;
	content:'';
	width:1px;
	height:1px;
	background-color: rgba(0,0,0,0.5);
	box-shadow: 0 0 30px 20px rgba(0,0,0,0.5);
	z-index:9;
}

#topMenu{
	position: fixed;
	width:80%;
	min-width:320px;
	max-width:640px;
	max-height:100%;
	border: solid 1px #333;
	left:	5px;
	top:	5px;
	text-align:center;
	margin: 0px;
	padding:10px 10px;
	background-color: 		#000;
	border-radius: 			10px;
	box-shadow: 20px 20px 50px 10px rgba(0,0,0,1);
	overflow-y:auto;
	overflow-x:hidden;
	display:none;
	z-index:11;
}

.menuItem, .menuItemBig, .menuItemMedium, .menuItemSmall, .menuItemFloat{
	position:relative;
	display:block;
	float:left;
	margin:0.5%;
}

.menuItem{width:49%;}
.menuItemBig{width:99%; text-align:center;}
.menuItemMedium{width:32.33%;}
.menuItemSmall{width:24%;}
.menuItemFloat{padding-left:20px !important;padding-right:20px !important;}

.currMenuItem {
	color:	#ddd;
}

.menuIcon {
	margin:0px 10px 2px 10px;
	width:15px;
	height:15px;
	display:inline;
	filter: brightness(70%);
}

.menuNavIcon {
	margin:0 10px 0 0;
	width:20px;
	height:20px;
	display:inline;
	filter: brightness(70%);
	cursor: pointer;
}

.menuNavIcon:hover {
	filter: brightness(100%);
}

.menuDivider{
	position:relative;
	display:block;
	width:100%;
	margin:10px 0.5%;
	float:left;
	text-align:left;
	color:	#777;
	border-bottom:1px solid #333;
}

.menutext{
	position:relative;
	display:block;
	float:left;
	text-align:left;
	width:96%;
	margin:0px 0.5%;
	color:	#999;
}

/* ON TOP MESSAGES */

#onTop {
	position: relative;
	top: 0;
	left: 0;
	padding: 12px 20px;
	width: 100%;
	background: transparent;
	text-align:right;
	font-style:italic;
	z-index: 10;
}

/* BACKGROUND */

.bgcontainer {
	position: absolute;
	width:100%;
	height:600px;
	overflow:hidden;
	z-index:0;
}

#bgimage {
	position: absolute;
	left: 0;
	top:0;
	width: 100%;
	height:599px;
	background-position: center;
	background-size: cover;
	/* box-shadow: inset 0 -200px 100px 0px black; */
	/* Forcing GPU for blur*/
	transform: translateZ(0);
	opacity:0;
	filter: blur(10px);
	z-index:1;
}

#bgmask {
	position: absolute;
	left: 0;
	margin-left: 0;
	width: 100%;
	height:600px;
	background-image: url("/Pix/bg_mask.png");
	background-position: center;
	background-size: cover;
	z-index:2;
}

.animated {
  animation: bgblur 2s ease forwards;
}

/* The animation code */
@keyframes bgblur {
  0% 	{ filter: blur(10px); }
  100% 	{ filter: blur(0px); }
}

/* PLAYER */

.wrapper {
	position: relative;
	left:0;
	top:0;
	width: 100%;
	text-align:center;
	padding: 0 5px;
}

#backwrapper{
	position: relative;
	top:100px;
	left: 50%;
	transform: translateX(-50%);
	content:'';
	width:0px;
	height:0px;
	background-color: rgba(0,0,0,0);
	box-shadow: 0 0 200px 200px rgba(0,0,0,0.2);
	z-index:0;
}

.mainTitle {
	position: relative;
	left:0;
	top:0;
	width: auto;
	margin: 30px auto 5px auto;
	color:	#eee;
	font-size:2.2em;
	line-height:1.1em;
	letter-spacing:1px;
}

span.tm {
	position: relative;
	font-size: 40%;
	line-height: 0;
	vertical-align: baseline;
	top: -1.2em;
}

span.starexp {
	position: relative;
	font-size: 60%;
	line-height: 0;
	vertical-align: baseline;
	top: -1.2em;
	left:0.3em;
}

span.smaller {
	font-size:0.9em;
}

.subTitle {
	color: #777;
	letter-spacing:1px;
}

.titlesmall {
	font-size:13px;
	color:#777;
}

.mixer {
	position: relative;
	top: 0;
	left: 0;
	width: auto;
	max-width: 400px;
	height: auto;
	margin: 10px auto 15px auto;
	/* Font size 0 nullifies source code whitespace affecting the layout. */
	font-size: 0;
	line-height: 0;
}

.controlers{
	position: relative;
	top: 0;
	left: 0;
	width: auto;
	margin: 10px auto;
	font-size:10px;
	line-height:12px;
	z-index:2;
}

.msg {
	position: relative;
	top: 5px;
	left: 0;
	width: auto;
	margin: 20px auto;
	min-height: 20px;
	z-index:3;
	font-variant-numeric: tabular-nums;
}


.topTestimonial{
	position: relative;
	top: 0;
	left: 0;
	width: auto;
	max-width:800px;
	margin: 0 auto;
	padding:20px 0;
}

div.btn {
	vertical-align: top;
	display: inline-block;
	text-align: center;
	width:32px;
	height:32px;
	margin:0 3px;
	cursor:pointer;
}

div.btnLogo {
	position: relative;
	vertical-align: top;
	display: inline-block;
	text-align: center;
	width:44px;
	height:44px;
	margin:-6px 3px;
	z-index:20;
	cursor:pointer;
}

.btnImg{
	height:100%;
	width:100%;
	padding:6px;
	border-radius: 50%;
	border: solid 2px #777;
	background:rgb(25,27,29);
	vertical-align:middle;
	z-index:16;
	filter:brightness(90%);
}

#fftCanvas{
	height:100%;
	width:100%;
	padding:4px;
	border-radius: 50%;
	border: solid 2px #777;
	background:rgb(25,27,29);
	vertical-align:middle;
	filter: brightness(80%);
	z-index:17;
	display:none;
}

.btnImg:hover, #fftCanvas:hover{
	border: solid 2px #aaa;
}

.active{
	border-color:#BBB;
	background:	#999;
}

.active:hover{
	border-color:#FFF;
}

.disabled{
	opacity:0.2 !important;
}

.inaudible{
	border-style: dotted;
}

.btnInput{
	display:block;
	width:32px;
	font-family:	'Merriweather Sans', Tahoma;
	font-size:		13px;
	border: none;
	margin:5px 0 0 0;
	color:			#999;
	background: transparent;
	text-align: center;
}

/* GRIDS & FLEXBOXES */

.skeleton {
	display: grid;
	min-height: 100vh;
	grid-template-columns:  36px auto 36px;
	column-gap:	10px;
	row-gap:	10px;
	grid-template-rows: auto 1fr auto;
	grid-template-areas: "header header header"
						 ". descr ."
						 "footer footer footer";
}

.noskeleton {
	padding: 20px 20px;
}

.skeletonHeader{
	grid-area:header; 
	z-index:4;  
}
.skeletonContents 	{grid-area:descr; z-index:4;}
.skeletonFooter 	{grid-area:footer; z-index:4; align-self:end; justify-self:center;padding: 0 20px;}

/* Inside the Contents Box, we will nest Flexboxes */

.nested, .reorderIndex {
	display: flex;
	flex-wrap: wrap;
	box-sizing: border-box;
	gap: 10px;
}

.nestedSection {
	padding: 10px 20px;
	flex: 1 1 350px;
	box-sizing: border-box;
	justify-content: space-between;
	border: solid 1px #555;
	border-radius: 			10px;
	box-shadow: 			0px 0px 40px 10px rgba(128,128,128,0.2);
	background-image: linear-gradient(to bottom, rgba(20,23,26,0.5) 0%,  #080808 100% );
	position: relative;
}

.shrunk{
	padding-top:0;
	padding-bottom:0;
}

.nestedSection.controls {
	flex: 1 0 260px;
	column-width:220px;
	column-count: auto;
	column-rule: 0px solid red;
	column-gap: 30px;
}

.nestedSection.s { flex: 1 1 200px; }
.nestedSection.m { flex: 1 1 400px; }
.nestedSection.ml { flex: 1 1 500px; }
.nestedSection.l { flex: 1 1 600px; }
.nestedSection.full { flex: 0 0 100%; }

.nestedSectionSeparator {
	padding: 10px 0;
	flex: 1 1 100%;
	justify-content: space-between;
	border: 0px;
}
.content + .content {
	margin-top:20px;
	padding-top:20px;
	border-top:1px solid #333;
}

.nobreak {
	break-inside: avoid;
}

.nowrap {
	white-space: nowrap;
}

.noselect {
  -webkit-user-select: none; /* Safari */
  -ms-user-select: none; /* IE 10 and IE 11 */
  user-select: none; /* Standard syntax */
}

/* SUBPARTS */

.date {
	margin: 10px auto 20px auto;
	text-align:right;
	color: 		#777;
	font-style: italic;
}

#scroll-pane{
	margin: 10px -10px  10px auto;
	height:0px;
	overflow-y: auto;
	text-align:left;
	padding-right:20px;
	/* fix to make elevator adopt light color */
	background-color: rgba(0,0,0,0.01);
}

blockquote {
	padding: 0px 10px 0px 20px;
	font-style: italic;
	margin: 10px;
	border-left: 1px solid #555;
	color: #aaa;
}

#testimonial{
	position: relative;
	left:0;
	top:0;
	width: 100%;
	padding-top: 25px;
	padding-bottom: 25px;
	text-align:center;
	border-radius: 			10px;
	box-shadow: 			0px 0px 40px 10px rgba(128,128,128,0.2);
}

/* Testimonials on the Noise Gen pages */
.testimonials {
	display: -webkit-box;
	display: -ms-flexbox;
	display: flex;
	margin: 0;
	padding: 0;
	width: 100%;
	height: 100%;
  /* Stretch child elements on the X axis to fill available space... */
	-webkit-box-pack: stretch;
	-ms-flex-pack: stretch;
	justify-content: stretch;
  /* ... and center them on the Y axis. */
	-webkit-box-align: center;
	-ms-flex-align: center;
	align-items: center;
}

textarea {
	margin:0;
	padding:5px 5px;
	font-family: Kavivanar, cursive;;
	font-size:1.1em;
	background-color: rgb(25,27,29);
	color: #6af;
	resize: none;
	outline-color: rgb(25,27,29);
	border-radius: 			10px;
	vertical-align:middle;
}

#homelogo{
	margin: 0 10px 3px 0;
	height:24px;
	opacity:0.8;
	cursor:pointer;
}

#homelogo:hover{
	opacity:1;
}

/* The Noise Index Page */

.move-icons{
 	position: absolute;
    top: 4px;
    right: 7px;
}


.move-icon-top, .move-icon-bottom{
    cursor: pointer;
    color:  #444;
}

.move-icon-top:hover{
    color:#0A0;
}

.move-icon-bottom:hover{
    color:#B00;
}

.generator-list {
	border-radius:10px 0 10px 10px;
}

.generator-list p {
	column-width:200px;
	column-count: auto;
}

.generator-list .wider {
	column-width:250px;
}

.generator-list p > span {
  /* Generator links are laid out as blocks so they can get padding, which keeps them from line-wrapping underneath the favourite star (if wrapping is necessary) */
  position: relative;
  display: block;
  text-align:left;
}

.generator-list .iFV{
	display:none;
	margin:0px 4px 2px 1px;
	height:12px;
	opacity:0.7;
	cursor:pointer;
}

.mainTitle .iFV {
	display:none;
	margin: 0 0 8px 12px ;
	height:16px;
	opacity:0.7;
	cursor:pointer;
}

.iFV:hover{
	opacity:1;
}

.az {
	font-size:13px;
	color: #aaa;
	cursor:pointer;
	margin-left:5px;
	white-space: nowrap;
}

.az:hover {
	color: #eee}

img.testimonialImg {
	width:90px;
	box-shadow: 	 5px 5px 5px 0px rgba(0,0,0,0.1);
	border: solid 1px #555;
	padding:5px;
	background: rgba(0,0,0,0.5);
	border-radius: 	50%;
}

img.suggestImg {
	width:60px;
	box-shadow: 	 5px 5px 5px 0px rgba(0,0,0,0.1);
	border: solid 1px #555;
	padding:2px;
	margin:0 5px;
	background: rgba(0,0,0,0.5);
	border-radius: 	50%;
}


img.testimonialImg:hover, img.suggestImg:hover {
	border:solid #aaa 1px;
}

td.testimonial {
	padding:0 20px;
	min-width:175px;
}

td.testimonial.hand{
	color:#ddd;
	font-size:1.05em;
	line-height:1.5em;
}

.topTestimonial.hand{
	font-size:1.05em;
	line-height:1.5em;
}

.easyImg {
	margin:0 3px;
	width:65px;
	height:65px;
	border:solid #555 1px;
	padding:2px;
	border-radius: 	50%;
}

.easyImg:hover {
	border:solid #aaa 1px;
}

.section-header {
    display: flex;
    align-items: right;
}

					.donateImg {
						float:left; 
						margin:3px 20px 0px 15px;
						width:20px;
					}

					.donateButtonBlue,.donateButtonOrange{
						display: inline-block;
						text-align: left;
						vertical-align: middle;
						padding: 5px 0px;
						margin:5px 10px 5px 0px;
						border-radius: 8px;
						font-size:13px;
						font-weight:bold;
						text-decoration: none;
						line-height: 100%;
					}

					.donateButtonBlue{
						border: 2px solid #048;
						background: #048;
						color: #FFF;
					}

					.donateButtonOrange {
						border: 2px solid #D60;
						background: #D60;
						color: #000;
					}


					.donateButtonBlue:hover,
					.donateButtonBlue:focus {
						border: 2px solid #CCC;
						text-decoration: none;
						color: #FFF;
						background: #048;
					}

					.donateButtonOrange:hover,
					.donateButtonOrange:focus {
						border: 2px solid #CCC;
						text-decoration: none;
						color: #000;
						background: #D60;
					}

					.price {
						font-size:10px;
						font-weight:normal;
					}

					div.donateButton {
						width:150px;
					}


/* GENERAL */

h1 {
	font-size:1.3em;
	color:	#ddd;
	font-weight: normal;
	padding:10px 0px 10px 0px;
	line-height: 1.4em;
	text-align:left;
	overflow: hidden;
	text-overflow: ellipsis;
}

h2 {
	font-size:1.15em;
	color:	#ddd;
	font-weight: normal;
	padding:10px 0px 0px 0px;
	text-align:left;
}

h3 {
	font-size:1.1em;
	color:	#ddd;
	font-weight: normal;
	text-align:left;
}

a {
	color:				#F80;
	text-decoration:none;
	border:none;
	padding:0 1px;
	border-radius: 		3px;
}

a:hover {
	background-color: 	#F80;
	color: 				#000;
}

a.blue {
	color:				#09F;
	cursor:pointer;
}

a.blue:hover {
	background-color: 	#09F;
	color: 				#000;
}

a.button{
	padding:3px;
	text-decoration:none;
	background-color: rgb(25,27,29);
	border: 1px solid #000;
}

a.button:hover{
	color:				#F80;
	background-color: #333;
}

a.nostyle{
	padding:0px;
	text-decoration:none;
	background-color: none;
}

a.nostyle:hover{
	padding:0px;
	text-decoration:none;
	background-color: transparent;
}

span.actionlink {
	color:				#09F;
	text-decoration:none;
	padding:0 1px;
	border-radius: 		3px;
	cursor:pointer;
}

span.actionlink:hover {
	background-color: 	#09F;
	color: 				#000;
}

details summary { 
  cursor: pointer;
  outline:none;
  color:#09F;
  margin:0 0 5px 5px;
}

details p { 
	margin-left:20px;
}

details {
  margin-bottom:5px;	
}

details + details {
  margin-top:10px;	
}

details summary > * {
  display: inline;
  color: #aaa;  
}

summary h3 {
	margin-left:5px;
	color: #09F;
}

figure {
	margin:10px 0 20px 0;
	width:100%;
}

figcaption {
	text-align:center;
	background:#ddd;
	color: black;
	font-style:italic;
	margin-bottom:20px;
	padding:0 10px 10px 10px;
}

.ss{
	float:left; 
	width:100%;
	background: #ddd;
	padding: 5px;
	margin-bottom:5px;
}

img.blog, img.blogMini, img.blogIcon, img.blogWide, img.blogWidest  {
	float:left; 
	margin: 3px 20px 20px 0px;
	background: #ddd;
	padding: 3px;
}
					
img.blog {width:256px;}
img.blogIcon {width:48px;padding: 0px;background:none;}
img.blogMini {width:128px;}
img.blogWide {width:384px;}
img.blogWidest {width:512px;}



img.sectionIcon {
	float:left; 
	margin:5px 20px 10px 0px;
	width:32px;
	border:solid #DDD 0px;
	padding:3px;
	opacity:0.85;
}

img.amazonLeft {
	float:left; 
	margin:0px 20px 10px 0px;
	height:100px;
	border:solid #F60 1px;
	padding:3px;
}


img.amazonRight {
	float:right; 
	margin:0px 0px 10px 20px;
	height:100px;
	border:solid #F60 1px;
	padding:3px;
}

					img.over {
						opacity:0.85;
					}

					img.over:hover {
						opacity:1;
					}

img.album {
	margin:5px 1%;
	width:100px;
	height:100px;
	border:solid rgba(255,255,255,0.5) 1px;
	padding:0px;
	border-radius: 5px;
	box-shadow: 5px 5px 15px 0px rgba(0,0,0,0.3);
}

img.album:hover {
	border:solid rgba(255,255,255,0.8) 1px;
}

img.albumLeft {
	float:left; 
	margin:10px 20px 10px 0px;
	width:100px;
	height:100px;
	border:solid rgba(255,255,255,0.6) 1px;
	padding:10px;
}

img.albumLeft:hover {
	border:solid rgba(255,255,255,0.8) 1px;
}

img.albumLeftSmall {
	float:left; 
	margin:3px 20px 0px 0px;
	width:90px;
	border:solid #AAA 1px;
	padding:0px;
}

					img.albumLeftSmall:hover {
						border:solid #EEE 1px;
					}

					/* OTHERS */

span.reportlink {
	color:#444;
	text-decoration:none;
	cursor:pointer;
	padding-left:10px;
}

					span.white {
						color:#fff;
					}

					#searchTxt {
						padding: 0px 3px;
						width:100px;
						background:#444;
						color:#ccc;
						border: solid 0px #777;
						font-size:13px;
						font-family: 'Merriweather Sans', sans-serif;
					}

					#searchInfo {
						color:#0C5;
					}

					.clearfloat {
						clear:both;
						height:0;
						font-size: 1px;
						line-height: 0px;
					}

.iANI,.iBLO,.iCAL,.iCOM,.iEER,.iELE,.iUFV,.iHAP,.iHEA,.iSearch,.iMAN,.iMEC,.iMED,.iMUS,.iNAT,.iPHO,.iQUI,.iTON,.iVOC,.iWAT {
	margin:0px 1px 2px 1px;
	height:12px;
	opacity:0.6;
	cursor:pointer;
}
			.iANI:hover,.iBLO:hover,.iCAL:hover,.iCOM:hover,.iEER:hover,.iELE:hover,.iUFV:hover,.iHAP:hover,.iHEA:hover,.iSearch:hover,.iMAN:hover,.iMEC:hover,.iMED:hover,.iMUS:hover,.iNAT:hover,.iPHO:hover,.iQUI:hover,.iTON:hover,.iVOC:hover,.iWAT:hover  {
	opacity:1;
}

.cFV{
	margin:0px 1px 3px 1px;
	height:10px;
}

.highlightDimmed{
	opacity:0.2;
}

.highlightGreen{
	color:#0B4;
}

.highlightColor{
	color:#0A8;
}



/* OVERLAYS */

.hand{
	font-family:	Kavivanar, cursive;;
}

					.onBlack{
						background-color: #222;
						background-color: rgba(0,32,32,0.5);
					}



					.playOff{ color:#444; }
					.playOn{ color:#EEE; }

					.fullwidth{ width:100%; }

table.license{
	width:100%;
	border: 0px solid #ccc;
	border-collapse:collapse;
}

table.license td {
	border: 1px solid #333;
	background-color: #222;
	padding:5px 10px 5px 10px;
	text-align:center;
}

table.license input {
  	width: 100%;
}

					table.keyb{
						width:100%;
						border: 1px solid #ccc;
						border-collapse:collapse;
					}

					table.keyb td {
						border: 1px solid #333;
						background-color: #222;
						padding:5px 10px 5px 10px;
						text-align:left;
					}

					table.superGen{
						border-collapse:collapse;
					}

					table.superGen td {
						border: 1px solid #333;
						background-color: #000;
						padding:0px;
						line-height: 0%;
					}

					table.suggestions{
						border-collapse:collapse;
					}

table.suggestion{
	border-spacing: 0 10px;
}
table.suggestion td.descr{
	padding-left:20px;
}


					.submitLink {
						background-color: transparent;
						color:#F80;
						text-decoration:none;
						border: none;
						cursor: pointer;
						font-family: 'Merriweather Sans', sans-serif;
						font-size:13px;
					}

					.submitLink:hover {
						text-decoration:underline;
					}

					iframe.superGen {
						width:498px;
						height:355px;
						overflow:hidden;
						border-style: none;
					}

					iframe.masterlist {
						background-color: #1c1c1c;
						margin-top: 10px;
						position: relative;
						width: 100%;
						height:600px;
						z-index: 999;
						border: solid 1px rgba(128,128,128,0.7);
						-webkit-border-radius: 8px;
						-moz-border-radius: 8px;
						border-radius: 8px;
					}
  
.ytcontent {
	margin-top:10px;
	margin-bottom:10px;
	position: relative;
	width: 100%;
	height: 0;
	padding-bottom: 56.25%;
}

iframe.ytvideo {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}

					iframe.preview {
						width: 100%;
						height:500px;
					}

ul.map {
	padding: 0 0 0 20px;
}

.allContentMini {
	position: relative;
	z-index:2;
	width:500px;
	margin:10px auto 0 auto;
}


/* PLAYER / SLIDERS */


#s0, #s1, #s2, #s3, #s4, #s5, #s6, #s7, #s8, #s9 {
	display: inline-block;
	float: none;
	clear: both;
	height:130px;
	margin: 12px 12px;
}


#s0 .ui-slider-range { background: none; }
#s0 .ui-slider-handle { background:#630 }
#s1 .ui-slider-range { background: none; }
#s1 .ui-slider-handle { background:#C00 }
#s2 .ui-slider-range { background: none; }
#s2 .ui-slider-handle { background:#F80 }
#s3 .ui-slider-range { background: none; }
#s3 .ui-slider-handle { background:#9B0 }
#s4 .ui-slider-range { background: none; }
#s4 .ui-slider-handle { background:#0C0 }
#s5 .ui-slider-range { background: none; }
#s5 .ui-slider-handle { background:#0CA }
#s6 .ui-slider-range { background: none; }
#s6 .ui-slider-handle { background:#08D }
#s7 .ui-slider-range { background: none; }
#s7 .ui-slider-handle { background:#00F }
#s8 .ui-slider-range { background: none; }
#s8 .ui-slider-handle { background:#80A }
#s9 .ui-slider-range { background: none; }
#s9 .ui-slider-handle { background:#C8F }

.ui-slider-vertical, .ui-slider-vertical_lowlight {
  background: rgba(255,255,255,0.1);
  width: 12px;
  border: 0px solid #777;
  border-radius: 			10px;
}

.ui-slider-vertical_lowlight {
  background: rgba(50,50,50,0.1);
}

.ui-slider-vertical:hover > .ui-slider-handle {
	border: 2px solid #aaa !important;
}

.ui-slider-handle {
  border: 2px solid #777 !important;
  width: 30px !important;
  height: 30px !important;
  outline: none;
  left: -9px !important;
  margin-bottom:-17px !important; /* (width+2border)/2 */
  border-radius:  50%;
  cursor: pointer !important;
  background-clip: content-box;
  padding:4px;
  box-shadow: inset 0 0 0 4px rgb(25,27,29);
  transition: box-shadow 0.25s linear;
}

.ui-slider-handle:active{
  cursor: grabbing !important;
}

/* POWERTIP PLUGIN CSS */

#powerTip {
	font-family:'Merriweather Sans', sans-serif;
	cursor: default;
	background-color: #CCC;
	border-radius: 5px;
	color: #000;
	display: none;
	padding:  3px 6px;
	position: absolute;
	width: auto;
	max-width: 200px;
	line-height: 125%;
	font-size:12px;
	text-align: left;
	z-index: 2147483647;
}

#powerTip:before {
	content: "";
	position: absolute;
}
#powerTip.n:before, #powerTip.s:before {
	border-right: 5px solid transparent;
	border-left: 5px solid transparent;
	left: 50%;
	margin-left: -5px;
}
#powerTip.e:before, #powerTip.w:before {
	border-bottom: 5px solid transparent;
	border-top: 5px solid transparent;
	margin-top: -5px;
	top: 50%;
}
#powerTip.n:before {
	border-top: 10px solid #CCC;
	bottom: -10px;
}
#powerTip.e:before {
	border-right: 10px solid #CCC;
	left: -10px;
}
#powerTip.s:before {
	border-bottom: 10px solid #CCC;
	top: -10px;
}
#powerTip.w:before {
	border-left: 10px solid #CCC;
	right: -10px;
}
#powerTip.ne:before, #powerTip.se:before {
	border-right: 10px solid transparent;
	border-left: 0;
	left: 10px;
}
#powerTip.nw:before, #powerTip.sw:before {
	border-left: 10px solid transparent;
	border-right: 0;
	right: 10px;
}
#powerTip.ne:before, #powerTip.nw:before {
	border-top: 10px solid #CCC;
	bottom: -10px;
}
#powerTip.se:before, #powerTip.sw:before {
	border-bottom: 10px solid #CCC;
	top: -10px;
}
#powerTip.nw-alt:before, #powerTip.ne-alt:before,
#powerTip.sw-alt:before, #powerTip.se-alt:before {
	border-top: 10px solid #CCC;
	bottom: -10px;
	border-left: 5px solid transparent;
	border-right: 5px solid transparent;
	left: 10px;
}
#powerTip.ne-alt:before {
	left: auto;
	right: 10px;
}
#powerTip.sw-alt:before, #powerTip.se-alt:before {
	border-top: none;
	border-bottom: 10px solid #CCC;
	bottom: auto;
	top: -10px;
}
#powerTip.se-alt:before {
	left: auto;
	right: 10px;
}

/* MEDIA QUERIES - ALWAYS AT THE END*/


@media all and (max-width: 603px) {
	body {font-size:14px;}
}

@media all and (max-width: 410px) {
	#s0, #s1, #s2, #s3, #s4, #s5, #s6, #s7, #s8, #s9 {
		margin: 12px 11px !important;
	}
	div.btn {margin:0 1px;}
	.skeleton {grid-template-columns:  12px auto 12px;}
	.hide{ display:none; }
	.mainTitle, .subTitle{
		text-align:right;
		padding-right:30px;
	}

}

@media all and (max-width: 359px) {
#s0, #s1, #s2, #s3, #s4, #s5, #s6, #s7, #s8, #s9 {
		margin: 12px 10px !important;
	}
div.btnLogo {
	width:32px;
	height:32px;
	margin:1px;
	z-index:20;
}
}

@media all and (max-width: 330px) {
#s0, #s1, #s2, #s3, #s4, #s5, #s6, #s7, #s8, #s9 {
		margin: 12px 12px !important;
	}
div.btnLogo {
	width:32px;
	height:32px;
	margin:1px;
	z-index:20;
	}
div.btn {margin:0 2px 5px 2px;}
}

</style>
<script type="text/javascript">
		$(function() {
			$('.powertip').powerTip({smartPlacement:true});
			$('.powertipS').powerTip({placement: 'se'});
			$('.powertipN').powerTip({placement: 'n'});
			$('.hint').powerTip({smartPlacement:true});
			$('.actionlink,.blue,.highlight').powerTip({smartPlacement:true});
			$('#reset,#anim,#speed,#mode,#volDown,#volUp,#mute,#fftCanvas,#timer,#bell').powerTip({smartPlacement:true});
			$('#s0,#s1,#s2,#s3,#s4,#s5,#s6,#s7,#s8,#s9').powerTip({placement: 'n', mouseOnToPopup: true, offset: 10});
					});
</script></head>



<!-- Google tag (gtag.js)
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-1049394660"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-1049394660');
</script>  -->


<body onload="init();setTestimonialHeight();">
<div id="onTop"><img src="/Pix/info.png" height="16px" style="margin-bottom:3px;margin-left:5px;opacity:0.8"> &nbsp; Discover the all-new <a href="https://play.google.com/store/apps/details?id=com.mynoise.mynoise">Android App</a><span class="powertipS"> <a href="/dismiss_script.php?c=naa"><img src="/Pix/close.png" height="16px" style="margin:0 5px 3px 5px;cursor:pointer;"> </a></span></div><div class="bgcontainer" id="bgcontainer"><div id="bgimage" style="background-image: url(&quot;/Data/JAMMER/bg.jpg&quot;); opacity: 1;"></div><div id="bgmask"></div></div>
	
<script>


	$('#bgimage').css("background-image", "url(/Data/JAMMER/bg.jpg)");
	
	window.onscroll=function(){
		var parallax = document.getElementById('bgcontainer');
		parallax.style.transform = 'translate3d(0px,' + (window.scrollY/2) + 'px, 0px)';
		}
		
</script>

<div id="hamburger" class="powertipS" alt="Menu" onclick="showMenu()"><img src="/Pix/Menu/hamburger_new.png" alt="new" width="125%"></div>



<div id="backburger"></div>
<div id="topMenu">

<div id="primary">

<table width="100%" style="margin:-4px"><tbody><tr>
	<td style="text-align:left;">
		<img src="/Pix/Menu/close.png" class="menuNavIcon powertipS" alt="Close" onclick="hide()">
	  	<img src="/Pix/Menu/more.png" class="menuNavIcon powertipS" alt="Alternate Menu" onclick="secondary()">
	</td>
	<td style="text-align:right;"></td>
	</tr>
</tbody></table>

<div class="menuDivider">Main</div>


<a href="/" class="button menuItem "><img src="/Pix/Menu/myNoise.png" class="menuIcon" alt="icon">Front Page</a>
	<a href="/noiseMachines.php" class="button menuItem "><img src="/Pix/Menu/university.png" class="menuIcon" alt="icon">Full Index</a>


	<a href="/SamplingSessions/" class="button menuItemSmall  "><img src="/Pix/Menu/camera.png" class="menuIcon" alt="icon">Photos</a>

	<a href="/blog.php" class="button menuItemSmall " id="bubbleCookieBlog"><img src="/Pix/Menu/drawing.png" class="menuIcon" alt="icon">Blog <span id="blogbullet" style="color:red;margin-left:6px;">●</span></a>
	
	<a href="/faq.php" class="button menuItemSmall "><img src="/Pix/Menu/faq.png" class="menuIcon" alt="icon">FAQ</a>	
	
	<a href="/sitemap.php" class="button menuItemSmall  "><img src="/Pix/Menu/map.png" class="menuIcon" alt="icon">Site Map</a>
	
<div class="menuDivider">Account</div>

<div class="menutext" style="margin-bottom:10px;">
Donate as much as you like, and receive a <a href="/donate.php" onclick="clicky.goal(&quot;/ Menu > Donate&quot;);">lifetime privileged access</a> to this website.
</div>

		
	<a href="/donate.php" class="button menuItem "><img src="/Pix/Menu/pig.png" class="menuIcon" alt="icon">Donate</a>
	<a href="/login.php" class="button menuItem "><img src="/Pix/Menu/enter.png" class="menuIcon" alt="icon">Log In</a>
	


	
<div class="menuDivider">Your Favorites</div>

<div class="menutext"><a href="/donate.php">Become a patron</a> and access your favorite soundscapes from this section.</div>
<div class="menuDivider">If you ♥ Audio Jammer</div><a href="/NoiseMachines/whiteRainNoiseGenerator.php" class="button menuItemFloat">White Rain</a><a href="/NoiseMachines/railroadNoiseGenerator.php" class="button menuItemFloat">Railroads</a><a href="/NoiseMachines/singingBowlsDroneGenerator.php" class="button menuItemFloat">Singing Bowls</a>	
	<div class="menuDivider">New<span id="newbullet" style="color:red;margin-left:6px;">●</span></div>

	<div class="menutext" id="bubbleCookieNew"><!-- use full links (mailing)  -->
<span class="lowlight">June 12th •</span> <a href="https://mynoise.net/NoiseMachines/raphaelAlongTheSilkRoad.php">Silk and Hopes</a> released
-
<span class="lowlight">May 17th •</span> <a href="https://mynoise.net/NoiseMachines/preparedPianoSoundscapeGenerator.php">Strings Above</a> released
-
<span class="lowlight">April 29th •</span> <a href="https://mynoise.net/NoiseMachines/voltageSynthesizersMusicGenerator.php">Voltage Bytes</a> released
-
<span class="lowlight">April 15th •</span> <a href="https://mynoise.net/NoiseMachines/montrealCityAmbienceGenerator.php">Montréal</a> released
-
<span class="lowlight">April 2nd •</span> <a href="https://mynoise.net/NoiseMachines/forestRainOnATentNoiseGenerator.php">Rain Retreat</a> released
-
<span class="lowlight">Mar 18th •</span> <a href="https://mynoise.net/NoiseMachines/hanShroomMusicGenerator.php">Shroom With a View</a> released
-
<span class="lowlight">Mar 4th •</span> <a href="https://mynoise.net/NoiseMachines/undergroundOfTheMindSoundscapeGenerator.php">Subconscious Subway</a> released
-
<span class="lowlight">Feb 19th •</span> <a href="https://mynoise.net/NoiseMachines/northAmericaForestSoundscape.php">Woodland Echoes</a> released
-
<span class="lowlight">Feb 5th •</span> <a href="https://mynoise.net/NoiseMachines/circuitRhythmMusicGenerator.php">Circuit Rhythm</a> released
-
<span class="lowlight">Jan 22nd •</span> <a href="https://mynoise.net/NoiseMachines/kalimbascapeGenerativeMusic.php">Kalimba Echoes</a> released</div>
	
</div>
	
<div id="secondary" style="display:none;">
	
	<table width="100%" style="margin:-4px"><tbody><tr>
	<td style="text-align:left;">
		<img src="/Pix/Menu/close.png" class="menuNavIcon powertipS" alt="Close" onclick="hide()">
	  	<img src="/Pix/Menu/hamburger.png" class="menuNavIcon powertipS" alt="Main Menu" onclick="primary()">
	</td>
	<td style="text-align:right;"></td>
	</tr>
	</tbody></table>
	
	<div class="menuDivider">Media</div>

	<a href="/albums.php" class="button menuItemMedium "><img src="/Pix/Menu/compact-disc.png" class="menuIcon" alt="icon">Albums</a>
	<a href="/radios.php" class="button menuItemMedium "><img src="/Pix/Menu/radio.png" class="menuIcon" alt="icon">Radios</a>
	<a href="https://open.spotify.com/show/2XyvIyprgFt5RwfKBlQv3S" class="button menuItemMedium"><img src="/Pix/Menu/podcast.png" class="menuIcon" alt="icon">Podcasts</a>

	<div class="menuDivider">Mobile Apps</div>

	<a href="https://itunes.apple.com/be/app/mynoise/id813099896?mt=8" class="button menuItem"><img src="/Pix/Menu/apple.png" class="menuIcon" alt="icon">iOS</a>
	<a href="https://play.google.com/store/apps/details?id=com.mynoise.mynoise&amp;hl=en" class="button menuItem"><img src="/Pix/Menu/android.png" class="menuIcon" alt="icon">Android</a>
	
	<div class="menuDivider">External Links</div>

	<a href="https://twitter.com/audiosampling" class="button menuItemSmall"><img src="/Pix/Menu/twitter.png" class="menuIcon" alt="icon">Twitter</a>
	<a href="https://bsky.app/profile/mynoise.bsky.social" class="button menuItemSmall"><img src="/Pix/Menu/bsky.png" class="menuIcon" alt="icon">Blue Sky</a>
	
	<a href="https://www.reddit.com/r/MyNoise/" class="button menuItemSmall"><img src="/Pix/Menu/reddit.png" class="menuIcon" alt="icon">Reddit</a>
	<a href="https://www.facebook.com/mynoise.net/" class="button menuItemSmall"><img src="/Pix/Menu/facebook.png" class="menuIcon" alt="icon">Facebook</a>
	<a href="https://www.instagram.com/mynoisebackstage" class="button menuItemMedium"><img src="/Pix/Menu/instagram.png" class="menuIcon" alt="icon">Insta</a>
		<a href="https://www.youtube.com/myNoiseDotNet?sub_confirmation=1" class="button menuItemMedium"><img src="/Pix/Menu/youtube.png" class="menuIcon" alt="icon">YouTube</a>
	<a href="https://amzn.to/3xVNbNU" class="button menuItemMedium"><img src="/Pix/Menu/voice.png" class="menuIcon" alt="icon">Alexa</a>

<!--
	<div class="menuDivider">Misc</div>

	<a href="/sitemap.php" class="button menuItem "><img src="/Pix/Menu/map.png" class="menuIcon" alt="icon">Site Map</a>
	<a href="/recommendations.php" class="button menuItem "><img src="/Pix/Menu/shopping-cart.png" class="menuIcon" alt="icon">Recommendations</a>
	<a href="/screencasts.php" class="button menuItem "><img src="/Pix/Menu/television.png" class="menuIcon" alt="icon">Video Tutorials</a>
	<a href="/carbonFootprintCompensation.php" class="button menuItem ">🌱&nbsp;&nbsp;CO2 Offset</a>

	<div class="menuDivider">iEQ Calibration Noise</div>
	<a href="/calibration.php" class="button menuItemBig ">Calibration Noise</a>

-->

</div>
</div>

<script>
function showMenu(){document.getElementById("topMenu").style.display = "block";}
function hide(){document.getElementById("topMenu").style.display = "none";}
function primary(){document.getElementById("primary").style.display = "block";document.getElementById("secondary").style.display = "none";}
function secondary(){document.getElementById("primary").style.display = "none";document.getElementById("secondary").style.display = "block";}
// close when clicked inside
$('#topMenu').on('click', function(e) {
  if ((event.target.tagName.toLowerCase() === 'a') || (event.target.tagName.toLowerCase() === 'img')) {return;}
  else hide();
});
// ... and outside
$(document).mouseup(function(e) {
    var container = $('#topMenu');
    if (!container.is(e.target) && container.has(e.target).length === 0) {container.hide();}
});


$.get("/getBubbleSize.php", function(contents) {
	var s=readCookie("bubble");
	if (!s || !(s==contents)) {
		$('#hamburger').html("<img src='/Pix/Menu/hamburger_new.png' alt='new' width=125%>");
		$('#newbullet').html("&#x25cf;");
		$('#bubbleCookieNew').click(function(){createCookie("bubble",contents,365);});
		}
	});
	
$.get("/getBlogSize.php", function(contents) {
	var s=readCookie("blog");
	if (!s || !(s==contents)) {
		$('#hamburger').html("<img src='/Pix/Menu/hamburger_new.png' alt='new' width=125%>");
		$('#blogbullet').html("&#x25cf;");
		$('#bubbleCookieBlog').click(function(){createCookie("blog",contents,365);});
	}
});




</script>



<div class="skeleton">

<div class="skeletonHeader" id="player">
	<div class="wrapper">

<div id="backwrapper"></div>

		<div class="mainTitle">
			<img src="/Pix/logo_256_white.png" id="homelogo" class="powertipN hide" alt="Home" onclick="window.location.href='/';">
			<span id="titleName">Audio Jammer</span>		</div>
		
		<div class="subTitle">Online Frequency-Shaped Audio Jammer</div>

		<div class="mixer noselect">
			<span class="nowrap">
			<div id="s0" aria-label="Sub-bass" role="slider" class="ui-slider ui-corner-all ui-slider-vertical ui-widget ui-widget-content disabled ui-slider-disabled ui-state-disabled"><div class="ui-slider-range ui-corner-all ui-widget-header ui-slider-range-min" style="height: 50.505%;"></div><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="bottom: 50.505%;"></span></div>
			<div id="s1" aria-label="Low Bass" role="slider" class="ui-slider ui-corner-all ui-slider-vertical ui-widget ui-widget-content disabled ui-slider-disabled ui-state-disabled"><div class="ui-slider-range ui-corner-all ui-widget-header ui-slider-range-min" style="height: 50.505%;"></div><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="bottom: 50.505%;"></span></div>
			<div id="s2" aria-label="Bass" role="slider" class="ui-slider ui-corner-all ui-slider-vertical ui-widget ui-widget-content disabled ui-slider-disabled ui-state-disabled"><div class="ui-slider-range ui-corner-all ui-widget-header ui-slider-range-min" style="height: 50.505%;"></div><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="bottom: 50.505%;"></span></div>
			<div id="s3" aria-label="High Bass" role="slider" class="ui-slider ui-corner-all ui-slider-vertical ui-widget ui-widget-content disabled ui-slider-disabled ui-state-disabled"><div class="ui-slider-range ui-corner-all ui-widget-header ui-slider-range-min" style="height: 50.505%;"></div><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="bottom: 50.505%;"></span></div>
			<div id="s4" aria-label="Low Mids" role="slider" class="ui-slider ui-corner-all ui-slider-vertical ui-widget ui-widget-content disabled ui-slider-disabled ui-state-disabled"><div class="ui-slider-range ui-corner-all ui-widget-header ui-slider-range-min" style="height: 50.505%;"></div><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="bottom: 50.505%;"></span></div>
			</span>
			<span class="nowrap">
			<div id="s5" aria-label="Mids" role="slider" class="ui-slider ui-corner-all ui-slider-vertical ui-widget ui-widget-content disabled ui-slider-disabled ui-state-disabled"><div class="ui-slider-range ui-corner-all ui-widget-header ui-slider-range-min" style="height: 50.505%;"></div><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="bottom: 50.505%;"></span></div>
			<div id="s6" aria-label="High Mids" role="slider" class="ui-slider ui-corner-all ui-slider-vertical ui-widget ui-widget-content disabled ui-slider-disabled ui-state-disabled"><div class="ui-slider-range ui-corner-all ui-widget-header ui-slider-range-min" style="height: 50.505%;"></div><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="bottom: 50.505%;"></span></div>
			<div id="s7" aria-label="Low Treble" role="slider" class="ui-slider ui-corner-all ui-slider-vertical ui-widget ui-widget-content disabled ui-slider-disabled ui-state-disabled"><div class="ui-slider-range ui-corner-all ui-widget-header ui-slider-range-min" style="height: 50.505%;"></div><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="bottom: 50.505%;"></span></div>
			<div id="s8" aria-label="Treble" role="slider" class="ui-slider ui-corner-all ui-slider-vertical ui-widget ui-widget-content disabled ui-slider-disabled ui-state-disabled"><div class="ui-slider-range ui-corner-all ui-widget-header ui-slider-range-min" style="height: 50.505%;"></div><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="bottom: 50.505%;"></span></div>
			<div id="s9" aria-label="High Treble" role="slider" class="ui-slider ui-corner-all ui-slider-vertical ui-widget ui-widget-content disabled ui-slider-disabled ui-state-disabled"><div class="ui-slider-range ui-corner-all ui-widget-header ui-slider-range-min" style="height: 50.505%;"></div><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="bottom: 50.505%;"></span></div>
			</span>
		</div>
		
		<div class="controlers noselect">
		
	
<span class="nowrap">	
	        <div class="btn"><img src="/Pix/icon_reset.png" id="reset" class="btnImg disabled" onclick="resetSliders()" onmouseover="msg('Type [H] for Help')" alt="Reset Sliders" role="button" style="pointer-events: none;"></div>
	        <div class="btn"><img src="/Pix/icon_volDown.png" id="volDown" class="btnImg disabled" onclick="slidersDown()" onmouseover="msg('Type [H] for Help')" alt="Volume Down" role="button" style="pointer-events: none;"></div>
	        <div class="btn"><img src="/Pix/icon_volUp.png" id="volUp" class="btnImg disabled" onclick="slidersUp()" onmouseover="msg('Type [H] for Help')" alt="Volume Up" role="button" style="pointer-events: none;"></div>
</span>	        
	        
	        <div class="btnLogo">
			<img src="/Pix/icon_play.png" id="mute" class="btnImg disabled" onclick="" onmouseover="msg('Type [H] for Help')" alt="Play/Pause" role="button" style="pointer-events: none;">
	        <canvas id="fftCanvas" width="36px" height="36px" onclick="toggleMute();" onmouseover="msg('Type [H] for Help')" alt="Play/Pause" role="button" style="pointer-events: none;" class="disabled"></canvas>
	        </div>
	    
<span class="nowrap">
	        <div class="btn"><img src="/Pix/icon_animate.png" id="anim" class="btnImg disabled" onclick="toggleModulation()" onmouseover="msg('Type [H] for Help')" alt="Slider Animation" role="button" style="pointer-events: none;"></div>
	        
</span>
<span class="nowrap">
	        <div class="btn"><img src="/Pix/icon_bell.png" id="bell" class="btnImg disabled" onclick="setMeditationBell()" onmouseover="msg('Type [H] for Help')" alt="Meditation Bell" role="button" style="pointer-events: none;">
	        <input type="text" id="bellText" onfocus="this.value=''" onkeydown="if((event.keyCode==13)||(event.keyCode==9)) setMeditationBell(this.value);" class="btnInput" maxlength="7" size="3"></div>
	        <div class="btn"><img src="/Pix/icon_timer.png" id="timer" class="btnImg disabled" onclick="setTimer()" onmouseover="msg('Type [H] for Help')" alt="Timer" role="button" style="pointer-events: none;"><input type="text" id="timerText" onfocus="this.value=''" onkeydown="if((event.keyCode==13)||(event.keyCode==9)) setTimer(this.value);" class="btnInput" maxlength="3" size="3"></div>
</span>

		</div>
		
		<div class="msg" id="msg">Loading <span style="color:#EEE;">••••••••••••••••</span>100% <span style="color:#777;"></span><span style="color:#333;"></span></div>
		
	</div></div>

<div class="skeletonContents"><div class="nested">

	<div class="nestedSection controls" id="controls">
		<div class="nobreak"><h2>Presets</h2><p>	    <span class="actionlink" onclick="setPreset(0.5,0.46,0.42,0.38,0.34,0.3,0.27,0.24,0.21,0.18,this.innerHTML);">Brown</span> &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,this.innerHTML);">Pink</span> &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0.16,0.19,0.22,0.25,0.27,0.31,0.35,0.38,0.42,0.45,this.innerHTML);">White</span> &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0.5,0.3,0.25,0.2,0.2,0.2,0.18,0.16,0.2,0.3,this.innerHTML);">Grey</span> &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0.6,0.4,0.25,0.15,0.07,0.03,0,0,0,0,this.innerHTML);">Infra</span> &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0,0,0,0,0.03,0.06,0.12,0.19,0.3,0.45,this.innerHTML);">Ultra</span>&nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0.35,0.5,0.35,0,0,0,0,0,0,0,this.innerHTML);">Around 60Hz</span>  &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0,0.4,0.5,0.4,0,0,0,0,0,0,this.innerHTML);">125Hz</span>  &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0,0,0.35,0.45,0.35,0,0,0,0,0,this.innerHTML);">250Hz</span>  &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0,0,0,0.3,0.4,0.3,0,0,0,0,this.innerHTML);">500Hz</span>  &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0,0,0,0,0.3,0.4,0.3,0,0,0,this.innerHTML);">1kHz</span>  &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0,0,0,0,0,0.3,0.4,0.3,0,0,this.innerHTML);">2kHz</span>  &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0,0,0,0,0,0,0.3,0.4,0.3,0,this.innerHTML);">4kHz</span>  &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0,0,0,0,0,0,0,0.35,0.45,0.35,this.innerHTML);">8kHz </span> &nbsp;•&nbsp;
		<span class="actionlink" onclick="setPreset(0.14,0.22,0.28,0.4,0.46,0.42,0.28,0.21,0.13,0.05,this.innerHTML);">Speech Blocker</span>&nbsp;•&nbsp;
	
	<span class="actionlink" onclick="setPreset(0.4,0.4,0,0,0,0,0,0,0,0,&quot;Earthquake&quot;);" role="button">Earthquake</span> • <span class="actionlink" onclick="setPreset(0,0,0,0.4,0.4,0,0,0,0,0,&quot;Insane&quot;);" role="button">Insane</span> • <span class="actionlink" onclick="setPreset(0,0,0,0.3,0.4,0.4,0.3,0,0,0,&quot;Under Cover&quot;);" role="button">Under Cover</span> • <span class="actionlink" onclick="setPreset(0,0,0,0,0,0.4,0.4,0,0,0,&quot;Fuzz&quot;);" role="button">Fuzz</span> • <span class="actionlink" onclick="setPreset(0,0,0,0,0,0,0,0.1,0.2,0.3,&quot;Hiss&quot;);" role="button">Hiss</span> • 
<a href="/donate.php" class="powertip">℗</a>&nbsp;<span class="actionlink" onclick="window.location='/login.php'">Surprise!</span>
	

</p></div><div class="nobreak">
<h2>Current Slider Profile</h2>
<p>
<a id="customURL0" href="/NoiseMachines/audioJammerNoiseGenerator.php?l=50505050505050505050&amp;a=1&amp;am=s&amp;title=Audio%20Jammer" class="blue" role="button">Save as URL</a> 
<br> 
<span class="actionlink" role="button" onclick="saveCurrentLevelsToCookie('JAMMER');">Save as Cookie</span> •
<span class="actionlink" role="button" onclick="loadCurrentLevelsFromCookieAndSetSliders('JAMMER');">Load</span>
<br>
<span class="actionlink" role="button" onclick="cloneIt()"> Clone as a Mini-Player</span><br>

<a href="/donate.php" class="powertip">℗</a> <a id="customURL2" role="button" href="/NoiseMachines/audioJammerNoiseGenerator.php?l=50505050505050505050&amp;a=1&amp;am=s&amp;title=Audio%20Jammer&amp;c=2" class="blue">Order as an Audio file</a> 
<span id="currentLevels" onclick="print();" title="Current levels">&nbsp;&nbsp;&nbsp;</span>

</p>
</div><div class="nobreak">
<h2>Animation Parameters</h2>
	
<table style="margin: 10px 0px 5px -3px;">
<tbody><tr>
<td class="lowlight" style="font-style:italic">mode</td>
<td>
	<span class="highlight" role="button" id="amSoft" onclick="setAnimationMode('s');">Soft</span>
	<span class="actionlink" role="button" id="amHard" onclick="setAnimationMode('h');">Hard</span> •  
	<span class="actionlink" role="button" id="amIsolated" onclick="setAnimationMode('i');">Solo</span>
	<span class="actionlink" role="button" id="amDuo" onclick="setAnimationMode('d');">Duo</span>
	<span class="actionlink" role="button" id="amTrio" onclick="setAnimationMode('t');">Trio</span>
</td>
</tr>
<tr>
<td class="lowlight" style="font-style:italic">speed </td>
<td>
	<span class="actionlink" role="button" id="asdiv8" onclick="setAnimationSpeed(0.125);">÷8</span>
	<span class="actionlink" role="button" id="asdiv4" onclick="setAnimationSpeed(0.25);">÷4</span>  
	<span class="actionlink" role="button" id="asdiv2" onclick="setAnimationSpeed(0.5);">÷2</span> •
	<span class="highlight" role="button" id="asnormal" onclick="setAnimationSpeed(1);">Normal</span> •
	<span class="actionlink" role="button" id="asmult2" onclick="setAnimationSpeed(2);">x2</span>  
	<span class="actionlink" role="button" id="asmult4" onclick="setAnimationSpeed(4);">x4</span>
	<span class="actionlink" role="button" id="asmult8" onclick="setAnimationSpeed(8);">x8</span>
</td>
</tr>
<tr>
<td class="lowlight" style="font-style:italic">range </td>
<td>
	<span class="actionlink" role="button" id="setLow" onclick="setAnimationProfile('lo');">Set→[</span>  
	<span class="actionlink" role="button" id="setLow" onclick="loadAnimationProfile('lo');">Low</span>
	• 
	<span class="actionlink" role="button" id="setLow" onclick="loadAnimationProfile('hi');">High</span>
	<span class="actionlink" role="button" id="setLow" onclick="setAnimationProfile('hi');">]←Set</span>  

</td>
</tr>
</tbody></table>
		
</div><div class="nobreak">
<h2>Tape Speed Control</h2>
<p>
<a href="/donate.php" class="powertip">℗</a> 
<span class="actionlink" role="button" onclick="window.location='/login.php'">Slower</span> •
<span class="actionlink" role="button" onclick="window.location='/login.php'">Faster</span> •
<span class="actionlink" role="button" onclick="window.location='/login.php'">Shuffle!</span> •
<span class="actionlink" role="button" onclick="tune(1);">Reset</span>
</p>
</div>

<div class="nobreak">
<h2>iEQ • <a href="/calibration.php" class="powertip" style="font-size:13px">Calibration</a></h2>
<p>
<span id="none" class="white" title="Bypass intelligent EQ" onclick="emphasisEQ(0)">None</span> • 
<span id="balanced" class="actionlink" onclick="emphasisEQ(0.5)">Balanced</span>  • 
<span id="full" class="actionlink" onclick="emphasisEQ(1)">Full</span>

<span id="tosliders" class="actionlink" onclick="emphasis();">&gt; Apply to Sliders</span></p>
</div><div class="nobreak">
<h2><img src="/Pix/new.png" width="24px"> &nbsp; Guided Meditation</h2>
<p>
	<a href="/donate.php" class="powertip">℗</a>	<span class="actionlink" role="button" onclick="window.location='/login.php'">Enter the Meditation Room</span> <em><span class="lowlight">beta</span></em>
</p>
</div><div class="nobreak">
<h2>Keyboard Shortcuts</h2>
<p>
<span class="actionlink" role="button" onclick="waveVisualizer()">V</span>isualizer •
<span class="actionlink" role="button" onclick="setPreset(0.18,0.21,0.24,0.27,0.3,0.34,0.38,0.42,0.46,0.5,'White')">W</span>hite •
Pi<span class="actionlink" role="button" onclick="setPreset(0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,'Pink')">N</span>k •
<span class="actionlink" role="button" onclick="setPreset(0.5,0.46,0.42,0.38,0.34,0.3,0.27,0.24,0.21,0.18,'Brown')">B</span>rown •
<span class="actionlink" role="button" onclick="slidersDown()">J</span>↓↑<span class="actionlink" role="button" onclick="slidersUp()">K</span> •
<span class="actionlink" role="button" onclick="help()">H</span>elp
</p>
</div>	</div>
	
<!-- UPDATE CONTENTS BELOW THIS LINE -->

	<div class="nestedSection large" id="description">	

		<h1>The Noise Audio Recorders Won't Like</h1>
		<p>
		Audio jammers are popular tools used during confidential meetings. They produce a unique sound for masking and protecting conversations from external listening devices, such as a smartphone running an audio recording app, hidden in one of your guests' pocket.</p>
		<p>The sound of a jammer should be very difficult to filter out or remove when present in an audio recording. While commercial audio jammers often rely on <a href="./whiteNoiseGenerator.php">white noise</a>, this generator, however, uses a more efficient sound with articulation similar to speech. It is also buried under severe distortion, which makes recovery algorithms have a hard time producing exploitable results.</p>
		<p>For further privacy, increase the generator's volume to play louder than your voice. Then, if you are holding a conversation in person, speak quietly, and very close to your partner so they hear you over the sound.</p>
			
	<div class="date"><div class="date">Published by Stéphane on January 15th, 2016</div>
</div>
	
	</div>
	
<!-- UPDATE CONTENTS ABOVE THIS LINE -->

	<div class="nestedSection large" id="testimonials">
		<h1>User Stories</h1>
<p class="lowlight"><em>Write your own <a id="customURL1" href="/NoiseMachines/audioJammerNoiseGenerator.php?l=50505050505050505050&amp;a=1&amp;am=s&amp;title=Audio%20Jammer&amp;c=4" target="_blank">here</a>. Click the blue bullets</em> ● <em>to load associated settings.</em></p>		<div id="scroll-pane" style="height: 494.4px;"><span class="actionlink" onclick="setPreset(0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40);">●</span>&nbsp;<span class="hand">
Colleagues plus annyoing christmas carols on the radio - blocked!</span><br><br>

<span class="actionlink" onclick="setPreset(0.60,0.41,0.30,0.20,0.19,0.25,0.30,0.37,0.31,0.18);">●</span>&nbsp;<span class="hand">
This really helped me with doing homework. Completely blocked out my neighbors! SO GOOD!</span><br><br>

<span class="actionlink" onclick="setPreset(0.28,0.33,0.49,0.27,0.41,0.34,0.46,0.39,0.45,0.50);">●</span>&nbsp;<span class="hand">
I use this speech blocker every week when the person I live with has a confidential meeting in the next room. Works great, I can never be sure they're even speaking at all!</span><br><br>

<span class="actionlink" onclick="setPreset(0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40);">●</span>&nbsp;<span class="hand">
I have people I live with listening to all my conversation and pretty much anything I do upstairs... Why they feel the need to do what they are doing is still yet unexplainable... This app helps tremendously when I need some privacy...</span><br><br>

<span class="actionlink" onclick="setPreset(0.60,0.41,0.30,0.20,0.19,0.25,0.30,0.37,0.31,0.18);">●</span>&nbsp;<span class="hand">
←  Classmate blocker</span><br><br>

<span class="actionlink" onclick="setPreset(0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40);">●</span>&nbsp;<span class="hand">
I can get HOURS of work done in my house FINALLY because of this incredible noise-blocker. THANK  YOU !!!</span><br><br>

<span class="actionlink" onclick="setPreset(0.36,0.42,0.43,0.40,0.37,0.37,0.40,0.42,0.45,0.36);">●</span>&nbsp;<span class="hand">
My go to tinnitus mask. Noise to some.
Heaven to kill the horrific ringing. Thank you so much to everyone.</span><br><br>

<span class="actionlink" onclick="setPreset(0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40);">●</span>&nbsp;<span class="hand">
A great help!   I live in a prefab with neighbours using strong acoustic equipment,  penetrating the walls, floors and ceilings; they're also using listening devices.  The strong acoustic emissions, in my opinion, belong to industrial equipment rather than domestic.  My home has structural problems but landlord won't fix it.  Super-quick solution for their listening devices!  Ta, very much!</span><br><br>

<span class="actionlink" onclick="setPreset(0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40,0.40);">●</span>&nbsp;<span class="hand">
This sounds a lot like certain audio hallucinations I get. So, yeah, bad memories. BUT. I'm very certain that this will be able to block out noise wayyy better.  So... thanks but no thanks?</span><br><br>

<span class="actionlink" onclick="setPreset(0.39,0.38,0.37,0.37,0.35,0.34,0.33,0.33,0.32,0.32);">●</span>&nbsp;<span class="hand">
My spouse talks like Brian Blessed on the phone and this noisemachine set to 'animate' is the only thing I've found that can block him out. Probably saved my sanity over lockdown when we had to share an office.</span><br><br>

<span class="actionlink" onclick="setPreset(0.33,0.43,0.40,0.37,0.37,0.34,0.34,0.34,0.29,0.23);">●</span>&nbsp;<span class="hand">
These noises plus some relatively cheap earbuds managed to completely knock out of the speech of a television I was less than 10 feet from. I am floored, this is amazing.</span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
This is my favorite noise blocker.  It completely cuts out the conversation, music and other extraneous sounds.  I didn't think I would like it initially, but using it is a relief and I can easily relegate it to background.  I enjoy it greatly.</span><br><br>

<span class="actionlink" onclick="setPreset(0.36,0.22,0.32,0.36,0.28,0.35,0.40,0.36,0.46,0.32);">●</span>&nbsp;<span class="hand">
You would think libraries would be quiet. This completely drowned out the loud college students next me, another college student just trying to write lab reports. It's perfect for blocking out erratic conversations or the general noise of busy library entryway.</span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
The dead sheet hacker currently infested in my phone for the last 6 months listening 24/7 to my microphone loves this sound and so in turn I love it even more.</span><br><br>

<span class="actionlink" onclick="setPreset(0.54,0.54,0.52,0.34,0.24,0.24,0.20,0.17,0.16,0.19);">●</span>&nbsp;<span class="hand">
First all I would like say, that this generator and this whole site is ablsolutely NUTS! Thanks for that!
I am listeting to this with these setings, whitch are made in a way that the sliders are in a effective level but  I don't hallucinate any voices in it at the same time. Playing it together with Cafe Restaurant, to boost my creativity... NUTS!. ..and.. DOPE! ...                        ehm.</span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
It works well but it sounds too much like the audio hallucinations I got during sleep paralysis...</span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
Kill your ears.</span><br><br>

<span class="actionlink" onclick="setPreset(0.22,0.29,0.39,0.47,0.54,0.49,0.33,0.25,0.15,0.6);">●</span>&nbsp;<span class="hand">
Works good but the sound is harsh.</span><br><br>

<span class="actionlink" onclick="setPreset(0.29,0.27,0.23,0.32,0.30,0.39,0.42,0.35,0.35,0.50);">●</span>&nbsp;<span class="hand">
This generator is nuts, it completely knocks out human speech from television shows so I can zone out and not have to worry about someone watching the TV and distracting me.</span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
This mixed with Flying Fortress is the perfect blend to mask the loud conversations of my colleagues and aid my concentration.</span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
This works great for me for blocking out conversations. I was working on a project at a cafe where there were a lot of other people playing board games, and this blocked them all out for me!</span><br><br>

<span class="actionlink" onclick="setPreset(0.48,0.46,0.46,0.40,0.36,0.32,0.21,0.15,0.21,0.25);">●</span>&nbsp;<span class="hand">
I work in an assisted living setting and I love it! But when the documentation has to been done in spite of blaring news on the television, emoting and clanking from dinning room and perturbed family members roaming the hall. This is a fundamental tool to getting proper and patient focused data down and done, for me. Thanks!!!</span><br><br>

<span class="actionlink" onclick="setPreset(0.50,0.46,0.43,0.39,0.35,0.31,0.28,0.24,0.21,0.18);">●</span>&nbsp;<span class="hand">
I work next to someone very loud.  Their phone conversations, all day long, are a constant distraction to me.  This particular sound scheme coupled with noise-cancelling headphones is absolutely wonderful!  </span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
I don't like the sound of this when it's by itself - it makes me feel tense, not productive. But with low levels, and Circular Breeze open in another tab, it turns into a pretty whispering wind/water background noise. This is effective for blocking out a noisy open-plan office, while also making me feel peaceful and productive.</span><br><br>

<span class="actionlink" onclick="setPreset(0.25,0.18,0.22,0.00,0.24,0.70,0.21,0.00,0.25,0.31);">●</span>&nbsp;<span class="hand">
Just try to sleep after listening to this for an hour! haha :P</span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
This generator actually saved my day. I was sitting in the co-working space, but this day there were a loud group of people... This generator helped me to mask all their noises and keep working. It was perfect: I didn't need to make the sound loud, but from time to time I was turning a head to check if those people are still here - because I didn't hear any sign of their presence. :) </span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
Very strange at first, but I'm now lost inside the sound, distraction-free and the noise from other apartments neighboring mine minimized. I really enjoy it. </span><br><br>

<span class="actionlink" onclick="setPreset(0.43,0.38,0.42,0.35,0.34,0.39,0.40,0.32,0.19,0.17);">●</span>&nbsp;<span class="hand">
This one is awesome for shutting out the sound of someone watching TV in the room I'm in, when brown noise alone isn't enough.</span><br><br>

<span class="actionlink" onclick="setPreset(0.59,0.38,0.35,0.40,0.35,0.31,0.30,0.26,0.23,0.18);">●</span>&nbsp;<span class="hand">
Next to the internet cafe where I am now is an ongoing renovation, so we have the lovely sound of construction equipment as our background music. This noise surprisingly blocked the construction noise without being too distracting!</span><br><br>

<span class="actionlink" onclick="setPreset(0.70,0.04,0.06,0.06,0.07,0.06,0.06,0.06,0.06,0.04);">●</span>&nbsp;<span class="hand">
← Complete distortion</span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
I'm in an internet cafe, writing my thesis while the other people in the internet cafe are playing games and cursing loudly. Of all the generators I've tried, I found this noise the most effective in blocking the noise of other people.</span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
At its default settings and lowish volume, it's very good for completely blocking out nearby conversations when I have to get some focused writing done in a short period of time.  It's not something I can listen to for long periods, but for an hour or two, it's unreasonably effective.</span><br><br>

<span class="actionlink" onclick="setPreset(0.00,0.00,0.00,0.00,0.00,0.56,0.39,0.70,0.38,0.25);">●</span>&nbsp;<span class="hand">
Nightmareish</span><br><br>

<span class="actionlink" onclick="setPreset(0.41,0.36,0.14,0.38,0.14,0.47,0.04,0.33,0.46,0.45);">●</span>&nbsp;<span class="hand">
Love this. Truly fascinating sound - I work in a small call center performing database maintenance.  The phone calls on the other side of the room can get quite distracting.  I've used myNoise quite frequently with amazing results but Audio Jammer is the first one to inspire me to leave a comment.  Total block-out. 10x focus!  </span><br><br>

<span class="actionlink" onclick="setPreset(0.41,0.11,0.24,0.67,0.24,0.31,0.35,0.31,0.26,0.31);">●</span>&nbsp;<span class="hand">
I turned it up a little bit from its default, then animated at maximum speed. The result sounds like calm and routine radio traffic: police, fire, EMS, security, military, corrections. A wonderful sensation, perhaps topped only by the soothing beeps and chimes of hospital emergency department equipment on an overnight shift.</span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
No matter what I do, I can never completely block out any type of noise. This is AMAZING because it is the first thing I have ever seen that will almost completely block out all voices. Great for working, thank you!</span><br><br>

<span class="actionlink" onclick="setPreset(0.44,0.25,0.52,0.26,0.30,0.17,0.38,0.32,0.11,0.51);">●</span>&nbsp;<span class="hand">
I'm waiting for the day when someone asks me what I'm listening to.</span><br><br>

<span class="actionlink" onclick="setPreset(0.61,0.31,0.30,0.22,0.09,0.36,0.37,0.10,0.36,0.46);">●</span>&nbsp;<span class="hand">
It might be a weird use for it, but putting this generator on animate, and using the Dungeon RPG sliders 1, 2, 6 and 10 creates a sort of sewer noise that is strangely relaxing.</span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
It's so cool. It reminds me of AI Handsome Jack's voice when it becomes distorted in Tales from the Borderlands :D</span><br><br>

<span class="actionlink" onclick="setPreset(0.21,0.12,0.16,0.17,0.44,0.45,0.45,0.45,0.38,0.39);">●</span>&nbsp;<span class="hand">
Thank you so very much for taking the time to create such a useful tool for speech protection! I fully understand why this is hard to remove on a recording! This will come very handy mixing it with other speech protection devices! You did a amazing job! You truly care about your my-noise users! Thanks for everything! And keep up the good work!</span><br><br>

<span class="actionlink" onclick="setPreset(0.31,0.13,0.40,0.64,0.04,0.13,0.20,0.58,0.22,0.31);">●</span>&nbsp;<span class="hand">
Though jarring at first, I'm discovering that this is a very calming noise mask for the office! The speech-like sounds replicate vague human energy so I don't feel isolated, and the white noise aspect keeps it firmly in the background of consciousness. I have it animated along with Telecaster Licks and am enjoying very focused attention. Another fascinating sound, Dr. Pigeon! Many thanks!</span><br><br>

<span class="actionlink" onclick="setPreset(0.00,0.00,0.00,0.53,0.70,0.53,0.00,0.00,0.00,0.00);">●</span>&nbsp;<span class="hand">
These particular bands sound very much like speech that is doused in distortion.  As someone who is deals with audio on a regular basis as my job, I see exactly why this works so well. In addition, as someone who values privacy I think I will be putting this to good use. Many thanks for your work, and this knowledge/experience.</span><br><br>

<span class="actionlink" onclick="setPreset(0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35,0.35);">●</span>&nbsp;<span class="hand">
Very annoying, but a great noise blocker!</span><br><br>

</div>
	</div>
	
</div></div><!-- skeletonContents+nested -->

<div class="skeletonFooter"><div id="footer" class="DIM">
<p>By <a href="https://stephanepigeon.com">Dr. Ir. S. Pigeon</a> • <span style="font-family:arial;font-size:16px;">℗ ©</span> 2013-2024  <a href="https://mynoise.be">myNoise BV</a> • <a onclick="window.open('/imprint.php', '_blank', 'location=yes,height=570,width=520,scrollbars=yes,status=yes');" style="cursor: pointer;">Imprint</a> • FOR PERSONAL USE ONLY
</p> 
</div>

<script async="" src="//static.getclicky.com/101364158.js"></script></div>

</div><!-- skeleton -->






<script>
function setTestimonialHeight(){
	descrH=$('#description').height();
	$('#scroll-pane').height(descrH-125);
}
window.onresize=setTestimonialHeight;
</script><div id="powerTip"></div><script type="text/javascript" async="" src="//in.getclicky.com/in.php?site_id=101364158&amp;href=%2FNoiseMachines%2FaudioJammerNoiseGenerator.php&amp;title=Speech%20Jammer%20%E2%80%94%20Audio%20Jammer%20%2F%20Noise%20Generator&amp;res=1536x864&amp;lang=pl&amp;tz=Europe%2FWarsaw&amp;tc=&amp;ck=1&amp;x=ahzlbg"></script></body></html>